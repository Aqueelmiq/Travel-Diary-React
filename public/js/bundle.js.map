{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/actions/AppActions.js","app/actions/CreatePostActions.js","app/actions/HomeActions.js","app/actions/NavActions.js","app/alt.js","app/components/App.js","app/components/CreatePost.js","app/components/Home.js","app/components/Nav.js","app/components/Post.js","app/components/Profile.js","app/components/UserAccount.js","app/main.js","app/routes.js","app/stores/AppStore.js","app/stores/CreatePostStore.js","app/stores/HomeStore.js","app/stores/NavStore.js","node_modules/firebase/app.js","node_modules/firebase/auth.js","node_modules/firebase/database.js","node_modules/firebase/firebase-browser.js","node_modules/firebase/messaging.js","node_modules/firebase/storage.js","node_modules/react-dropzone/dist/index.js"],"names":[],"mappings":"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eAAhB,C;;;;;;;;;;;AClDf;;;;AACA;;;;;;;;IAEM,S;AACF,yBAAc;AAAA;;AACV,aAAK,WAAL;AACA,aAAK,WAAL,GAAmB,EAAnB;AACH;;;;4CAEmB,K,EAAO;AACvB,iBAAK,WAAL,GAAmB,MAAM,MAAN,CAAa,KAAhC;AACH;;;;;;kBAIU,cAAI,WAAJ,CAAgB,SAAhB,C;;;;;;;;;;;ACff;;;;AACA;;;;;;;;IAEM,Q;AACF,wBAAc;AAAA;;AACV,aAAK,WAAL;AACA,aAAK,UAAL,GAAkB,EAAlB;AACH;;;;2CAEkB,K,EAAO;AACtB,iBAAK,UAAL,GAAkB,MAAM,MAAN,CAAa,KAA/B;AACH;;;;;;kBAIU,cAAI,WAAJ,CAAgB,QAAhB,C;;;;ACff;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import alt from '../alt';\nimport * as firebase from 'firebase';\n\nclass AppActions {\n    constructor() {\n        this.generateActions(\n            'postLike',\n            'postUnLike',\n            'addNewPost',\n            'retrievePosts',\n            'userDataChange',\n        );\n    }\n\n    getPosts() {\n        $.ajax({ url: '/api/posts' })\n            .done(data => {\n                this.actions.retrievePosts(data.posts);\n            })\n            .fail(jqXhr => {\n                //this.actions.getTwoCharactersFail(jqXhr.responseJSON.message);\n            });\n    }\n\n    newPost(title, author, location, img, text, file, id) {\n        var this_post = {img: \"xy.jpg\"};\n        const db = firebase.storage();\n        const imagesRef = db.ref().child('posts').child('images');\n\n        $.ajax({\n            type: 'POST',\n            url: '/api/posts',\n            data: {\n                title: title,\n                text: text,\n                img: img,\n                likes: 0,\n                author: author,\n                location: location,\n                id: id }\n        })\n            .done((data) => {\n                this_post = data.uploaded;\n                const postImageRef = imagesRef.child(data.uploaded._id + '.jpg');\n                postImageRef.put(file).then(function(snapshot) {\n                    console.log('Uploaded a blob or file!');\n                    postImageRef.getDownloadURL().then(function(url) {\n                        $.ajax({\n                            type: 'PUT',\n                            url: '/api/posts/img/' + this_post._id,\n                            data: {\n                                img: url,\n                            }\n                        })\n                            .done((data) => {\n                                $.ajax({ url: '/api/posts' })\n                                    .done((data) => {\n                                        this.actions.addNewPost(data.posts);\n                                    })\n                                console.log(data);\n                            })\n                            .fail((jqXhr) => {\n                                //this.actions.addCharacterFail(jqXhr.responseJSON.message);\n                            });\n                    }.bind(this))\n                }.bind(this));\n            })\n            .fail((jqXhr) => {\n                //this.actions.addCharacterFail(jqXhr.responseJSON.message);\n            });\n    }\n}\n\nexport default alt.createActions(AppActions);","import alt from '../alt';\n\nclass CreatePostActions {\n    constructor() {\n        this.generateActions(\n            'titleChange',\n            'authorChange',\n            'locationChange',\n            'imgChange',\n            'textChange',\n            'idIncrement',\n            'setLocation',\n            'fileChange',\n        );\n    }\n}\n\nexport default alt.createActions(CreatePostActions);","import alt from '../alt';\n\nclass HomeActions {\n    constructor() {\n        this.generateActions(\n            'newItemTextUpdate',\n        );\n    }\n}\n\nexport default alt.createActions(HomeActions);","import alt from '../alt';\n\nclass NavActions {\n    constructor() {\n        this.generateActions(\n            'searchTextUpdate',\n        );\n    }\n}\n\nexport default alt.createActions(NavActions);","import Alt from 'alt';\n\nexport default new Alt();","import React from 'react';\nimport Nav from './Nav';\nimport AppStore from '../stores/AppStore';\nimport AppActions from '../actions/AppActions';\nimport Home from './Home';\nimport CreatePost from './CreatePost';\nimport UserAccount from './UserAccount';\nimport * as firebase from 'firebase';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = AppStore.getState();\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidMount() {\n        AppStore.listen(this.onChange);\n        AppActions.getPosts();\n        firebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                this.readUser(user.uid);\n            } else {\n                //localStorage.removeItem('uid');\n                this.props.router.push('/');\n            }\n        }.bind(this));\n    }\n\n    updateUser(uid, user) {\n        firebase.database().ref('users/' + uid).set(user);\n    }\n\n    readUser(uid) {\n        firebase.database().ref('users/' + uid).once('value')\n            .then(function(snapshot) {\n                if(snapshot.val()) {\n                    AppActions.userDataChange(snapshot.val());\n                }\n                else {\n                    firebase.database().ref('users/' + uid).set({\n                        followers: [\"dummy\"],\n                        following: [\"dummy\"],\n                        liked: [\"dummy\"],\n                    });\n                }\n            });\n    }\n\n    componentWillUnmount() {\n        AppStore.unlisten(this.onChange);\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    renderChildren() {\n        return React.Children.map(this.props.children, child => {\n            if(child.type === Home) {\n                return React.cloneElement(child, {\n                    posts: this.state.posts\n                })\n            }\n            else if (child.type === CreatePost) {\n                return React.cloneElement(child, {\n                    onPostSubmit: AppActions.newPost,\n                })\n            }\n            else if (child.type === UserAccount) {\n                return React.cloneElement(child, {\n                    setUser: this.updateUser,\n                    readUser: this.readUser,\n                })\n            }\n            else\n                return child;\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"main\">\n                <Nav/>\n                <div className=\"container\">\n                    {this.renderChildren()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport CreatePostActions from '../actions/CreatePostActions';\nimport CreatePostStore from '../stores/CreatePostStore';\nimport Dropzone from 'react-dropzone';\n\nclass CreatePost extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = CreatePostStore.getState();\n        this.onChange = this.onChange.bind(this);\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    componentDidMount() {\n        CreatePostStore.listen(this.onChange);\n        if(this.props.params.loc) {\n            CreatePostActions.setLocation(this.props.params.loc);\n        }\n    }\n\n    componentWillUnmount() {\n        CreatePostStore.unlisten(this.onChange);\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    onDrop(files) {\n        if(files.length > 0) {\n            CreatePostActions.fileChange(files[0]);\n        }\n    }\n\n    render() {\n        let uploader;\n        if(this.state.file == null) {\n            uploader = () =>{\n                return (\n                    <div> Drop Image Here </div>\n                );\n            };\n        }\n        else {\n            uploader = () => {\n                return(\n                    <img src={this.state.file.preview}/>\n                );\n            };\n        }\n        return (\n            <div>\n                <div className=\"create-post\">\n                    <form className=\"create-post-form\">\n                            <div className=\"fields\">\n                                <input className=\"post-form-title\" type=\"text\" value={this.state.title} onChange={CreatePostActions.titleChange} placeholder=\"Article Title\"/>\n                            </div>\n                            <div className=\"fields\">\n                                <input className=\"post-form-location\" type=\"text\" value={this.state.location} onChange={CreatePostActions.locationChange} placeholder=\"Location\"/>\n                                <input className=\"post-form-author\" type=\"text\" value={this.state.author} onChange={CreatePostActions.authorChange} placeholder=\"Author Name\"/>\n                            </div>\n                            <div className=\"fields\">\n                                <textarea className=\"post-form-desc\" value={this.state.text} onChange={CreatePostActions.textChange} placeholder=\"Description\"></textarea>\n                            </div>\n                            <div className=\"file-dropper\">\n                                <Dropzone className=\"file-box\" accept={\"image/*\"} onDrop={this.onDrop}>\n                                    {uploader}\n                                </Dropzone>\n                            </div>\n                            <div className=\"fields\">\n                                <button className=\"post-button\" onClick={function (event) {\n                                    event.preventDefault();\n                                    this.props.onPostSubmit(this.state.title, this.state.author, this.state.location, this.state.img, this.state.text, this.state.file, this.state.curr_id)\n                                    CreatePostActions.idIncrement();\n                                }.bind(this)}> Post </button>\n                            </div>\n                    </form>\n                </div>\n            </div>\n        );\n\n    }\n}\n\nexport default CreatePost;\n","import React from 'react';\n//import {Link} from 'react-router';\nimport HomeStore from '../stores/HomeStore'\nimport HomeActions from '../actions/HomeActions';\nimport Post from './Post';\n//import * as firebase from 'firebase';\n//import {first, without, findWhere} from 'underscore';\n\nclass Home extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = HomeStore.getState();\n        this.onChange = this.onChange.bind(this);\n        this.handleNewItem = this.handleNewItem.bind(this);\n    }\n\n    componentDidMount() {\n        HomeStore.listen(this.onChange);\n    }\n\n    componentWillUnmount() {\n        HomeStore.unlisten(this.onChange);\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    handleNewItem(event) {\n        event.preventDefault();\n        window.location = '/create/' + this.state.newItemText;\n    }\n\n    render() {\n        const posts = this.props.posts.map((post, index) => {\n            return <Post key={index} post={post}/>\n        });\n\n        return (\n            <div>\n                <div className=\"add-item\">\n                    <form className=\"add\" onSubmit={this.handleNewItem}>\n                        <input type=\"text\" className=\"item-name\" value={this.state.newItemText} placeholder=\"Add a story by entering location\" onChange={HomeActions.newItemTextUpdate}/>\n                        <input type=\"submit\" className=\"add-button\" value=\"\"/>\n                    </form>\n                </div>\n                <div className=\"posts\">\n                    {posts}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Home;","import React from 'react';\nimport NavStore from '../stores/NavStore';\nimport NavActions from '../actions/NavActions';\nimport {Link} from 'react-router';\nimport * as firebase from 'firebase';\n\nclass Nav extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = NavStore.getState();\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidMount() {\n        NavStore.listen(this.onChange);\n    }\n\n    componentWillUnmount() {\n        NavStore.unlisten(this.onChange);\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    signOut(event) {\n        firebase.auth().signOut().then(function() {\n            // Sign-out successful.\n        }, function(error) {\n            console.log(error);\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"Nav\">\n                <div className=\"logo\">\n                    <Link to=\"/\"> <img src='/img/logo.svg' alt=\"Logo\"/> </Link>\n                </div>\n                <div className=\"search\">\n                    <form>\n                        <input type=\"text\" className=\"searchBar\" value={this.state.searchText} placeholder=\"Search here\" onChange={NavActions.searchTextUpdate}/>\n                        <input type=\"submit\" className=\"searchButton\" value=\"\"/>\n                    </form>\n                </div>\n                <div className=\"actions\">\n                    <button id=\"nav-profile\"> <Link to={'/profile'}> <img src='/img/profile.png'/> </Link></button>\n                    <button id=\"nav-friends\"> <img src='/img/friends.png'/> </button>\n                    <button id=\"nav-alerts\">  <img src='/img/notifications.png'/> </button>\n                    <button id=\"nav-logout\" onClick={this.signOut}>  <img src='/img/logout.svg'/> </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Nav;\n","import React from 'react';\nimport * as firebase from 'firebase';\n\nclass Post extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n    }\n\n    componentWillUnmount() {\n    }\n\n    breakLines(text) {\n        var br = React.createElement('br');\n        var regex = /(<br\\/>)/g;\n        return text.split(regex).map(function(line, index) {\n            return line.match(regex) ? <br key={\"key_\" + index} /> : line;\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"post\">\n                <div className=\"post-contents\">\n                    <div className=\"post-header\">\n                        <div className=\"post-title\">\n                            {this.props.post.title}\n                        </div>\n                        <div className=\"post-loc\">\n                            {this.props.post.location}\n                        </div>\n                    </div>\n                    <div className=\"post-body\">\n                        <img className=\"post-img\" src={this.props.post.img}/>\n                        <div className=\"post-text\">\n                            {this.breakLines(this.props.post.text)}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"post-interactions\">\n                    <div className=\"post-love\">\n                        <img className=\"heart\" src='/img/heart-outline.svg'/>\n                        <p className=\"like-count\">\n                            {this.props.post.likes}\n                        </p>\n                    </div>\n                    <div className=\"post-author\">\n                        {'by ' + this.props.post.author}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Post;\n","import React from 'react';\nimport * as firebase from 'firebase';\n//import {Link} from 'react-router';\n\nclass Profile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: {\n                following: [],\n                followers: [],\n                liked: [],\n            },\n            searchText: '',\n        }\n        this.onChange = this.onChange.bind(this);\n        this.handleNewItem = this.handleNewItem.bind(this);\n    }\n\n    componentDidMount() {\n        firebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                firebase.database().ref('users/' + user.uid).once('value')\n                    .then(function(snapshot) {\n                        if (snapshot.val()) {\n                            this.setState({\n                                user: snapshot.val()\n                            })\n                        }\n                    }.bind(this));\n            }\n        }.bind(this));\n\n    }\n\n    componentWillUnmount() {\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    searchUpdate(event) {\n        this.setState({\n            searchText: event.target.value,\n        });\n    }\n\n    handleNewItem(event) {\n        event.preventDefault();\n\n    }\n\n    render() {\n\n        const followers = this.state.user.followers.map((user, index) => {\n            return (\n                <div key={index}>\n                    <p> {user} </p>\n                </div>\n            );\n        });\n\n        const following = this.state.user.following.map((user, index) => {\n            return (\n                <div key={index}>\n                    <p> {user} </p>\n                </div>\n            );\n        });\n\n        return (\n            <div>\n                <div className=\"add-follower\">\n                    <h3> Search User </h3>\n                    <input type=\"text\" value={this.state.searchText} onChange={this.searchUpdate} placeholder=\"Type a name\" className=\"follower-name-input\"/>\n                    <button className=\"search-button\" onClick={this.handleNewItem}> Search </button>\n                </div>\n                <div className=\"following box-medium\">\n                    <div className=\"box-medium-header\">\n                        <div> <h4> Following </h4> </div>\n                        <div> {this.state.user.following.length + ' '} people following </div>\n                    </div>\n                    <div className=\"box-medium-body\">\n                        {following}\n                    </div>\n                </div>\n                <div className=\"followers box-medium\">\n                    <div className=\"box-medium-header\">\n                        <div> <h4> Following </h4> </div>\n                        <div> {this.state.user.followers.length + ' '} followers </div>\n                    </div>\n                    <div className=\"box-medium-body\">\n                        {followers}\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Profile;","import React from 'react';\nimport {Link} from 'react-router';\nimport * as firebase from \"firebase\";\n\nclass UserAccount extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            login: \"Login\",\n        }\n        this.hintText = \"New User? Register Here.\"\n        this.switchForm = this.switchForm.bind(this);\n        this.registerUser = this.registerUser.bind(this);\n        this.emailChange = this.emailChange.bind(this);\n        this.passChange = this.passChange.bind(this);\n        //this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidMount() {\n        firebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                //localStorage.setItem('uid', user.uid);\n                this.props.router.push('/feed');\n            } else {\n                //localStorage.removeItem('uid');\n            }\n        }.bind(this));\n    }\n\n    componentWillUnmount() {\n        //NavStore.unlisten(this.onChange);\n    }\n\n    onChange(state) {\n        this.setState(state);\n    }\n\n    registerUser(event) {\n        event.preventDefault();\n        const email = this.state.email;\n        const pass = this.state.password;\n        if(this.state.login === 'Login') {\n            firebase.auth().signInWithEmailAndPassword(email, pass).catch(function(error) {\n                // Handle Errors here.\n                if(error.code || error.message)\n                    console.log(error.message);\n                // ...\n            });\n        }\n        else {\n            firebase.auth().createUserWithEmailAndPassword(email, pass).catch(function(error) {\n                // Handle Errors here.\n                if(error.code || error.message)\n                    console.log(error.message);\n                // ...\n            });\n        }\n    }\n\n    emailChange(event) {\n        this.setState({\n            email: event.target.value,\n        });\n    }\n\n    passChange(event) {\n        this.setState({\n            password: event.target.value,\n        });\n    }\n\n    switchForm(event) {\n        if(this.state.login === \"Login\") {\n            this.state.login = \"Sign Up\";\n            this.hintText = \"Existing User? Login Here.\";\n        }\n        else {\n            this.state.login = \"Login\";\n            this.hintText = \"New User? Register Here.\";\n        }\n        this.forceUpdate();\n    }\n\n    render() {\n        return (\n            <div className=\"account\">\n                <div className=\"login-form-logo\">\n                    <Link to=\"/\"> <img src='/img/logo.svg' alt=\"Logo\"/> </Link>\n                </div>\n                <div className=\"login-form-fields\">\n                    <form onSubmit={this.registerUser}>\n                        <input type=\"text\" className=\"email-field\" value={this.state.email} placeholder=\"Email Address\" onChange={this.emailChange}/>\n                        <input type=\"password\" className=\"password-field\" value={this.state.password} placeholder=\"Password\" onChange={this.passChange}/>\n                        <input type=\"submit\" className=\"login-button\" value={this.state.login}/>\n                        <div onClick={this.switchForm}> {this.hintText} </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UserAccount;\n","import React from 'react';\nimport {Router, browserHistory} from 'react-router';\nimport ReactDOM from 'react-dom';\nimport routes from './routes';\nimport * as firebase from \"firebase\";\n\nvar config = {\n    apiKey: \"AIzaSyBL2pDvmjWlKcROnmA8NU8lG8M9ouAsxSs\",\n    authDomain: \"traveldiary-9ac5c.firebaseapp.com\",\n    databaseURL: \"https://traveldiary-9ac5c.firebaseio.com\",\n    storageBucket: \"traveldiary-9ac5c.appspot.com\",\n    messagingSenderId: \"275348769326\"\n};\n\nfirebase.initializeApp(config);\n\nReactDOM.render(\n    <Router history={browserHistory}>\n        {routes}\n    </Router>,\n    document.getElementById('app')\n);","import React from 'react';\nimport {Route} from 'react-router';\nimport App from './components/App';\nimport Home from './components/Home';\nimport CreatePost from './components/CreatePost';\nimport UserAccount from './components/UserAccount';\nimport Profile from './components/Profile';\n\nexport default (\n    <Route component={App}>\n        <Route path='/feed' component={Home} />\n        <Route path='/create' component={CreatePost}/>\n        <Route path='/create/:loc' component={CreatePost}/>\n        <Route path='/profile' component={Profile}/>\n        <Route path='/' component={UserAccount}/>\n    </Route>\n);","import alt from '../alt';\nimport AppActions from '../actions/AppActions';\n\nclass AppStore {\n    constructor() {\n        this.bindActions(AppActions);\n        this.curr_id = 5;\n        this.posts = [];\n        this.user = {};\n    }\n\n    onRetrievePosts(posts) {\n        this.posts = posts;\n    }\n\n    onAddNewPost(posts) {\n        this.posts = posts\n    }\n\n    onPostLike(data) {\n        this.posts[data.postIndex].likes += 1;\n    }\n\n    onPostUnLike(data) {\n        this.posts[data.postIndex].likes -= 1;\n    }\n\n    onUserDataChange(user) {\n        this.user = user;\n    }\n\n}\n\nexport default alt.createStore(AppStore);","import alt from '../alt';\nimport CreatePostActions from '../actions/CreatePostActions';\n\nclass CreatePostStore {\n    constructor() {\n        this.bindActions(CreatePostActions);\n        this.title = '';\n        this.author = '';\n        this.img = '';\n        this.text = '';\n        this.location = '';\n        this.file = null;\n        this.curr_id = 5;\n    }\n\n    onSetLocation(loc) {\n        this.location = loc;\n    }\n\n    onTitleChange(event) {\n        this.title = event.target.value;\n    }\n\n    onTextChange(event) {\n        this.text = event.target.value;\n    }\n\n    onLocationChange(event) {\n        this.location = event.target.value;\n    }\n\n    onImgChange(event) {\n        this.img = event.target.value;\n    }\n\n    onAuthorChange(event) {\n        this.author = event.target.value;\n    }\n\n    onIdIncrement() {\n        this.curr_id += 1;\n    }\n\n    onFileChange(file) {\n        console.log('File');\n        this.file = file\n    }\n\n}\n\nexport default alt.createStore(CreatePostStore);","import alt from '../alt';\nimport HomeActions from '../actions/HomeActions';\n\nclass HomeStore {\n    constructor() {\n        this.bindActions(HomeActions);\n        this.newItemText = '';\n    }\n\n    onNewItemTextUpdate(event) {\n        this.newItemText = event.target.value;\n    }\n\n}\n\nexport default alt.createStore(HomeStore);","import alt from '../alt';\nimport NavActions from '../actions/NavActions';\n\nclass NavStore {\n    constructor() {\n        this.bindActions(NavActions);\n        this.searchText = ''\n    }\n\n    onSearchTextUpdate(event) {\n        this.searchText = event.target.value;\n    }\n\n}\n\nexport default alt.createStore(NavStore);","var firebase = (function(){\n/*! @license Firebase v3.6.9\n    Build: 3.6.9-rc.1\n    Terms: https://firebase.google.com/terms/ */\nvar firebase = null; (function() { var aa=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError(\"ES3 does not support getters and setters.\");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},h=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,l=function(){l=function(){};h.Symbol||(h.Symbol=ba)},ca=0,ba=function(a){return\"jscomp_symbol_\"+(a||\"\")+ca++},n=function(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=\nh.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return m(this)}});n=function(){}},m=function(a){var b=0;return da(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},da=function(a){n();a={next:a};a[h.Symbol.iterator]=function(){return this};return a},q=this,r=function(){},t=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);\nif(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},v=function(a){return\"function\"==t(a)},ea=function(a,\nb,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ea:fa;return w.apply(null,arguments)},x=function(a,b){var c=Array.prototype.slice.call(arguments,\n1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},y=function(a,b){function c(){}c.prototype=b.prototype;a.ba=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.aa=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var z;z=\"undefined\"!==typeof window?window:\"undefined\"!==typeof self?self:global;function __extends(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}\nfunction __decorate(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;g=z.Reflect;if(\"object\"===typeof g&&\"function\"===typeof g.decorate)f=g.decorate(a,b,c,d);else for(var k=a.length-1;0<=k;k--)if(g=a[k])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function __metadata(a,b){var c=z.Reflect;if(\"object\"===typeof c&&\"function\"===typeof c.metadata)return c.metadata(a,b)}\nvar __param=function(a,b){return function(c,d){b(c,d,a)}},__awaiter=function(a,b,c,d){return new (c||(c=Promise))(function(e,f){function g(a){try{p(d.next(a))}catch(u){f(u)}}function k(a){try{p(d.throw(a))}catch(u){f(u)}}function p(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(g,k)}p((d=d.apply(a,b)).next())})};\"undefined\"!==typeof z.M&&z.M||(z.__extends=__extends,z.__decorate=__decorate,z.__metadata=__metadata,z.__param=__param,z.__awaiter=__awaiter);var A=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};y(A,Error);A.prototype.name=\"CustomError\";var ga=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")};var B=function(a,b){b.unshift(a);A.call(this,ga.apply(null,b));b.shift()};y(B,A);B.prototype.name=\"AssertionError\";var ha=function(a,b,c,d){var e=\"Assertion failed\";if(c)var e=e+(\": \"+c),f=d;else a&&(e+=\": \"+a,f=b);throw new B(\"\"+e,f||[]);},C=function(a,b,c){a||ha(\"\",null,b,Array.prototype.slice.call(arguments,2))},D=function(a,b,c){v(a)||ha(\"Expected function but got %s: %s.\",[t(a),a],b,Array.prototype.slice.call(arguments,2))};var E=function(a,b,c){this.T=c;this.N=a;this.U=b;this.s=0;this.o=null};E.prototype.get=function(){var a;0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.N();return a};E.prototype.put=function(a){this.U(a);this.s<this.T&&(this.s++,a.next=this.o,this.o=a)};var F;a:{var ia=q.navigator;if(ia){var ja=ia.userAgent;if(ja){F=ja;break a}}F=\"\"};var ka=function(a){q.setTimeout(function(){throw a;},0)},G,la=function(){var a=q.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\n\"//\"+b.location.host,a=w(function(a){if((\"*\"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&-1==F.indexOf(\"Trident\")&&-1==F.indexOf(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.G;c.G=null;a()}};return function(a){d.next={G:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in\ndocument.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};var H=function(){this.v=this.f=null},ma=new E(function(){return new I},function(a){a.reset()},100);H.prototype.add=function(a,b){var c=ma.get();c.set(a,b);this.v?this.v.next=c:(C(!this.f),this.f=c);this.v=c};H.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null);return a};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(a,b){this.B=a;this.scope=b;this.next=null};\nI.prototype.reset=function(){this.next=this.scope=this.B=null};var M=function(a,b){J||na();K||(J(),K=!0);oa.add(a,b)},J,na=function(){if(-1!=String(q.Promise).indexOf(\"[native code]\")){var a=q.Promise.resolve(void 0);J=function(){a.then(pa)}}else J=function(){var a=pa;!v(q.setImmediate)||q.Window&&q.Window.prototype&&-1==F.indexOf(\"Edge\")&&q.Window.prototype.setImmediate==q.setImmediate?(G||(G=la()),G(a)):q.setImmediate(a)}},K=!1,oa=new H,pa=function(){for(var a;a=oa.remove();){try{a.B.call(a.scope)}catch(b){ka(b)}ma.put(a)}K=!1};var O=function(a,b){this.b=0;this.L=void 0;this.j=this.g=this.u=null;this.m=this.A=!1;if(a!=r)try{var c=this;a.call(b,function(a){N(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(e){}N(c,3,a)})}catch(d){N(this,3,d)}},qa=function(){this.next=this.context=this.h=this.c=this.child=null;this.w=!1};qa.prototype.reset=function(){this.context=this.h=this.c=this.child=null;this.w=!1};\nvar ra=new E(function(){return new qa},function(a){a.reset()},100),sa=function(a,b,c){var d=ra.get();d.c=a;d.h=b;d.context=c;return d},ua=function(a,b,c){ta(a,b,c,null)||M(x(b,a))};O.prototype.then=function(a,b,c){null!=a&&D(a,\"opt_onFulfilled should be a function.\");null!=b&&D(b,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");return va(this,v(a)?a:null,v(b)?b:null,c)};O.prototype.then=O.prototype.then;O.prototype.$goog_Thenable=!0;\nO.prototype.X=function(a,b){return va(this,null,a,b)};var xa=function(a,b){a.g||2!=a.b&&3!=a.b||wa(a);C(null!=b.c);a.j?a.j.next=b:a.g=b;a.j=b},va=function(a,b,c,d){var e=sa(null,null,null);e.child=new O(function(a,g){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(L){g(L)}}:a;e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(L){g(L)}}:g});e.child.u=a;xa(a,e);return e.child};O.prototype.Y=function(a){C(1==this.b);this.b=0;N(this,2,a)};O.prototype.Z=function(a){C(1==this.b);this.b=0;N(this,3,a)};\nvar N=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError(\"Promise cannot resolve to itself\")),a.b=1,ta(c,a.Y,a.Z,a)||(a.L=c,a.b=b,a.u=null,wa(a),3!=b||ya(a,c)))},ta=function(a,b,c,d){if(a instanceof O)return null!=b&&D(b,\"opt_onFulfilled should be a function.\"),null!=c&&D(c,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\"),xa(a,sa(b||r,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),\n!0;e=typeof a;if(\"object\"==e&&null!=a||\"function\"==e)try{var f=a.then;if(v(f))return za(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},za=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(p){k(p)}},wa=function(a){a.A||(a.A=!0,M(a.P,a))},Aa=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);null!=b&&C(null!=b.c);return b};\nO.prototype.P=function(){for(var a;a=Aa(this);){var b=this.b,c=this.L;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,Ba(a,b,c);else try{a.w?a.c.call(a.context):Ba(a,b,c)}catch(e){Ca.call(null,e)}ra.put(a)}this.A=!1};var Ba=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},ya=function(a,b){a.m=!0;M(function(){a.m&&Ca.call(null,b)})},Ca=ka;function P(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=P(a[c],b[c]));return a};O.all=function(a){return new O(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],ua(p,x(f,k),g);else b(e)})};O.resolve=function(a){if(a instanceof O)return a;var b=new O(r);N(b,2,a);return b};O.reject=function(a){return new O(function(b,c){c(a)})};O.prototype[\"catch\"]=O.prototype.X;var Q=O;\"undefined\"!==typeof Promise&&(Q=Promise);var Da=Q;function Ea(a,b){a=new R(a,b);return a.subscribe.bind(a)}var R=function(a,b){var c=this;this.a=[];this.K=0;this.task=Da.resolve();this.l=!1;this.D=b;this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};R.prototype.next=function(a){S(this,function(b){b.next(a)})};R.prototype.error=function(a){S(this,function(b){b.error(a)});this.close(a)};R.prototype.complete=function(){S(this,function(a){a.complete()});this.close()};\nR.prototype.subscribe=function(a,b,c){var d=this,e;if(void 0===a&&void 0===b&&void 0===c)throw Error(\"Missing Observer.\");e=Fa(a)?a:{next:a,error:b,complete:c};void 0===e.next&&(e.next=T);void 0===e.error&&(e.error=T);void 0===e.complete&&(e.complete=T);a=this.$.bind(this,this.a.length);this.l&&this.task.then(function(){try{d.H?e.error(d.H):e.complete()}catch(f){}});this.a.push(e);return a};\nR.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(delete this.a[a],--this.K,0===this.K&&void 0!==this.D&&this.D(this))};var S=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)Ga(a,c,b)},Ga=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(d){\"undefined\"!==typeof console&&console.error&&console.error(d)}})};R.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.H=a),this.task.then(function(){b.a=void 0;b.D=void 0}))};\nfunction Fa(a){if(\"object\"!==typeof a||null===a)return!1;var b;b=[\"next\",\"error\",\"complete\"];n();var c=b[Symbol.iterator];b=c?c.call(b):m(b);for(c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&\"function\"===typeof a[c])return!0;return!1}function T(){};var Ha=Error.captureStackTrace,V=function(a,b){this.code=a;this.message=b;if(Ha)Ha(this,U.prototype.create);else{var c=Error.apply(this,arguments);this.name=\"FirebaseError\";Object.defineProperty(this,\"stack\",{get:function(){return c.stack}})}};V.prototype=Object.create(Error.prototype);V.prototype.constructor=V;V.prototype.name=\"FirebaseError\";var U=function(a,b,c){this.V=a;this.W=b;this.O=c;this.pattern=/\\{\\$([^}]+)}/g};\nU.prototype.create=function(a,b){void 0===b&&(b={});var c=this.O[a];a=this.V+\"/\"+a;var c=void 0===c?\"Error\":c.replace(this.pattern,function(a,c){a=b[c];return void 0!==a?a.toString():\"<\"+c+\"?>\"}),c=this.W+\": \"+c+\" (\"+a+\").\",c=new V(a,c),d;for(d in b)b.hasOwnProperty(d)&&\"_\"!==d.slice(-1)&&(c[d]=b[d]);return c};var W=Q,X=function(a,b,c){var d=this;this.I=c;this.J=!1;this.i={};this.C=b;this.F=P(void 0,a);a=\"serviceAccount\"in this.F;(\"credential\"in this.F||a)&&\"undefined\"!==typeof console&&console.log(\"The '\"+(a?\"serviceAccount\":\"credential\")+\"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started.\");Object.keys(c.INTERNAL.factories).forEach(function(a){var b=\nc.INTERNAL.useAsService(d,a);null!==b&&(b=d.S.bind(d,b),d[a]=b)})};X.prototype.delete=function(){var a=this;return(new W(function(b){Y(a);b()})).then(function(){a.I.INTERNAL.removeApp(a.C);return W.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.J=!0;a.i={}})};X.prototype.S=function(a){Y(this);void 0===this.i[a]&&(this.i[a]=this.I.INTERNAL.factories[a](this,this.R.bind(this)));return this.i[a]};X.prototype.R=function(a){P(this,a)};\nvar Y=function(a){a.J&&Z(\"app-deleted\",{name:a.C})};h.Object.defineProperties(X.prototype,{name:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.C}},options:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.F}}});X.prototype.name&&X.prototype.options||X.prototype.delete||console.log(\"dc\");\nfunction Ia(){function a(a){a=a||\"[DEFAULT]\";var b=d[a];void 0===b&&Z(\"no-app\",{name:a});return b}function b(a,b){Object.keys(e).forEach(function(d){d=c(a,d);if(null!==d&&f[d])f[d](b,a)})}function c(a,b){if(\"serverAuth\"===b)return null;var c=b;a=a.options;\"auth\"===b&&(a.serviceAccount||a.credential)&&(c=\"serverAuth\",\"serverAuth\"in e||Z(\"sa-not-supported\"));return c}var d={},e={},f={},g={__esModule:!0,initializeApp:function(a,c){void 0===c?c=\"[DEFAULT]\":\"string\"===typeof c&&\"\"!==c||Z(\"bad-app-name\",\n{name:c+\"\"});void 0!==d[c]&&Z(\"duplicate-app\",{name:c});a=new X(a,c,g);d[c]=a;b(a,\"create\");void 0!=a.INTERNAL&&void 0!=a.INTERNAL.getToken||P(a,{INTERNAL:{getToken:function(){return W.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}});return a},app:a,apps:null,Promise:W,SDK_VERSION:\"0.0.0\",INTERNAL:{registerService:function(b,c,d,u){e[b]&&Z(\"duplicate-service\",{name:b});e[b]=c;u&&(f[b]=u);c=function(c){void 0===c&&(c=a());return c[b]()};void 0!==d&&P(c,d);return g[b]=\nc},createFirebaseNamespace:Ia,extendNamespace:function(a){P(g,a)},createSubscribe:Ea,ErrorFactory:U,removeApp:function(a){b(d[a],\"delete\");delete d[a]},factories:e,useAsService:c,Promise:O,deepExtend:P}};g[\"default\"]=g;Object.defineProperty(g,\"apps\",{get:function(){return Object.keys(d).map(function(a){return d[a]})}});a.App=X;return g}function Z(a,b){throw Ja.create(a,b);}\nvar Ja=new U(\"app\",\"Firebase\",{\"no-app\":\"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()\",\"bad-app-name\":\"Illegal App name: '{$name}\",\"duplicate-app\":\"Firebase App named '{$name}' already exists\",\"app-deleted\":\"Firebase App named '{$name}' already deleted\",\"duplicate-service\":\"Firebase service named '{$name}' already registered\",\"sa-not-supported\":\"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain\"});\"undefined\"!==typeof firebase&&(firebase=Ia()); }).call(this);\nfirebase.SDK_VERSION = \"3.6.9\";\nreturn firebase;}).call(typeof global !== undefined ? global : typeof self !== undefined ? self : typeof window !== undefined ? window : {});\nmodule.exports = firebase;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.9\n    Build: 3.6.9-rc.1\n    Terms: https://firebase.google.com/terms/ */\n(function(){var h,aa=aa||{},l=this,ba=function(){},m=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&\n!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},ca=function(a){return null===a},da=function(a){return\"array\"==m(a)},ea=function(a){var b=m(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length},p=function(a){return\"string\"==typeof a},fa=function(a){return\"number\"==typeof a},q=function(a){return\"function\"==m(a)},ga=function(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b},ha=function(a,b,\nc){return a.call.apply(a.bind,arguments)},ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ha:ia;return r.apply(null,arguments)},ja=function(a,b){var c=Array.prototype.slice.call(arguments,\n1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ka=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype;a.jd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Cf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};t(u,Error);u.prototype.name=\"CustomError\";var la=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")},ma=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},na=/&/g,oa=/</g,pa=/>/g,qa=/\"/g,ra=/'/g,sa=/\\x00/g,ta=/[\\x00&<>\"']/,v=function(a,b){return-1!=a.indexOf(b)},ua=function(a,b){return a<b?-1:a>b?1:0};var va=function(a,b){b.unshift(a);u.call(this,la.apply(null,b));b.shift()};t(va,u);va.prototype.name=\"AssertionError\";\nvar wa=function(a,b,c,d){var e=\"Assertion failed\";if(c)var e=e+(\": \"+c),f=d;else a&&(e+=\": \"+a,f=b);throw new va(\"\"+e,f||[]);},w=function(a,b,c){a||wa(\"\",null,b,Array.prototype.slice.call(arguments,2))},xa=function(a,b){throw new va(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));},ya=function(a,b,c){fa(a)||wa(\"Expected number but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a},za=function(a,b,c){p(a)||wa(\"Expected string but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,\n2))},Aa=function(a,b,c){q(a)||wa(\"Expected function but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,2))};var Ba=Array.prototype.indexOf?function(a,b,c){w(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Array.prototype.forEach?function(a,b,c){w(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ca=function(a,b){for(var c=p(a)?\na.split(\"\"):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Da=Array.prototype.map?function(a,b,c){w(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ea=Array.prototype.some?function(a,b,c){w(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},\nGa=function(a){var b;a:{b=Fa;for(var c=a.length,d=p(a)?a.split(\"\"):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]},Ha=function(a,b){return 0<=Ba(a,b)},Ja=function(a,b){b=Ba(a,b);var c;(c=0<=b)&&Ia(a,b);return c},Ia=function(a,b){w(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},Ka=function(a,b){var c=0;Ca(a,function(d,e){b.call(void 0,d,e,a)&&Ia(a,e)&&c++})},La=function(a){return Array.prototype.concat.apply(Array.prototype,\narguments)},Ma=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Na=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Oa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Pa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Qa=function(a){for(var b in a)return!1;return!0},Ra=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Sa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Ta=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),\nUa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ta.length;f++)c=Ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Va;a:{var Xa=l.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Va=Ya;break a}}Va=\"\"}var z=function(a){return v(Va,a)};var Za=function(a){Za[\" \"](a);return a};Za[\" \"]=ba;var ab=function(a,b){var c=$a;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var bb=z(\"Opera\"),A=z(\"Trident\")||z(\"MSIE\"),cb=z(\"Edge\"),db=cb||A,eb=z(\"Gecko\")&&!(v(Va.toLowerCase(),\"webkit\")&&!z(\"Edge\"))&&!(z(\"Trident\")||z(\"MSIE\"))&&!z(\"Edge\"),fb=v(Va.toLowerCase(),\"webkit\")&&!z(\"Edge\"),gb=function(){var a=l.document;return a?a.documentMode:void 0},hb;\na:{var ib=\"\",jb=function(){var a=Va;if(eb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(cb)return/Edge\\/([\\d\\.]+)/.exec(a);if(A)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(fb)return/WebKit\\/(\\S+)/.exec(a);if(bb)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();jb&&(ib=jb?jb[1]:\"\");if(A){var kb=gb();if(null!=kb&&kb>parseFloat(ib)){hb=String(kb);break a}}hb=ib}\nvar lb=hb,$a={},B=function(a){return ab(a,function(){for(var b=0,c=ma(String(lb)).split(\".\"),d=ma(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",k=d[f]||\"\";do{g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];k=/(\\d*)(\\D*)(.*)/.exec(k)||[\"\",\"\",\"\",\"\"];if(0==g[0].length&&0==k[0].length)break;b=ua(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||ua(0==g[2].length,0==k[2].length)||ua(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},mb;var nb=l.document;\nmb=nb&&A?gb()||(\"CSS1Compat\"==nb.compatMode?parseInt(lb,10):5):void 0;var ob=function(a){return Da(a,function(a){a=a.toString(16);return 1<a.length?a:\"0\"+a}).join(\"\")};var pb=null,qb=null,sb=function(a){var b=\"\";rb(a,function(a){b+=String.fromCharCode(a)});return b},rb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=qb[c];if(null!=e)return e;if(!/^[\\s\\xa0]*$/.test(c))throw Error(\"Unknown base64 encoding at char: \"+c);}return b}tb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}},tb=function(){if(!pb){pb={};qb={};for(var a=0;65>a;a++)pb[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),\nqb[pb[a]]=a,62<=a&&(qb[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a)]=a)}};var ub=function(){this.ya=-1};var xb=function(a,b){this.ya=64;this.Qb=l.Uint8Array?new Uint8Array(this.ya):Array(this.ya);this.vc=this.Ya=0;this.h=[];this.Ye=a;this.Cd=b;this.yf=l.Int32Array?new Int32Array(64):Array(64);void 0!==vb||(vb=l.Int32Array?new Int32Array(wb):wb);this.reset()},vb;t(xb,ub);for(var yb=[],zb=0;63>zb;zb++)yb[zb]=0;var Ab=La(128,yb);xb.prototype.reset=function(){this.vc=this.Ya=0;this.h=l.Int32Array?new Int32Array(this.Cd):Ma(this.Cd)};\nvar Bb=function(a){var b=a.Qb;w(b.length==a.ya);for(var c=a.yf,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){var e=c[b-15]|0,d=c[b-2]|0,f=(c[b-16]|0)+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(c[b-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}for(var d=a.h[0]|0,e=a.h[1]|0,k=a.h[2]|0,n=a.h[3]|0,y=a.h[4]|0,Wa=a.h[5]|0,Eb=a.h[6]|0,f=a.h[7]|0,b=0;64>b;b++)var $g=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&k^e&k)|0,g=y&Wa^~y&Eb,f=f+((y>>>6|\ny<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))|0,g=g+(vb[b]|0)|0,g=f+(g+(c[b]|0)|0)|0,f=Eb,Eb=Wa,Wa=y,y=n+g|0,n=k,k=e,e=d,d=g+$g|0;a.h[0]=a.h[0]+d|0;a.h[1]=a.h[1]+e|0;a.h[2]=a.h[2]+k|0;a.h[3]=a.h[3]+n|0;a.h[4]=a.h[4]+y|0;a.h[5]=a.h[5]+Wa|0;a.h[6]=a.h[6]+Eb|0;a.h[7]=a.h[7]+f|0};\nxb.prototype.update=function(a,b){void 0===b&&(b=a.length);var c=0,d=this.Ya;if(p(a))for(;c<b;)this.Qb[d++]=a.charCodeAt(c++),d==this.ya&&(Bb(this),d=0);else if(ea(a))for(;c<b;){var e=a[c++];if(!(\"number\"==typeof e&&0<=e&&255>=e&&e==(e|0)))throw Error(\"message must be a byte array\");this.Qb[d++]=e;d==this.ya&&(Bb(this),d=0)}else throw Error(\"message must be string or array\");this.Ya=d;this.vc+=b};\nxb.prototype.digest=function(){var a=[],b=8*this.vc;56>this.Ya?this.update(Ab,56-this.Ya):this.update(Ab,this.ya-(this.Ya-56));for(var c=63;56<=c;c--)this.Qb[c]=b&255,b/=256;Bb(this);for(c=b=0;c<this.Ye;c++)for(var d=24;0<=d;d-=8)a[b++]=this.h[c]>>d&255;return a};\nvar wb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,\n4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var Db=function(){xb.call(this,8,Cb)};t(Db,xb);var Cb=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];var Fb=!A||9<=Number(mb),Gb=A&&!B(\"9\");!fb||B(\"528\");eb&&B(\"1.9b\")||A&&B(\"8\")||bb&&B(\"9.5\")||fb&&B(\"528\");eb&&!B(\"8\")||A&&B(\"9\");var Hb=function(){this.Aa=this.Aa;this.gc=this.gc};Hb.prototype.Aa=!1;Hb.prototype.isDisposed=function(){return this.Aa};Hb.prototype.Ta=function(){if(this.gc)for(;this.gc.length;)this.gc.shift()()};var Ib=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.bb=!1;this.Nd=!0};Ib.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Nd=!1};var Jb=function(a,b){Ib.call(this,a?a.type:\"\");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key=\"\";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Ua=this.state=null;a&&this.init(a,b)};t(Jb,Ib);\nJb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(eb){var e;a:{try{Za(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else\"mouseover\"==c?b=a.fromElement:\"mouseout\"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=fb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=fb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:\na.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||\"\";this.charCode=a.charCode||(\"keypress\"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Ua=\na;a.defaultPrevented&&this.preventDefault()};Jb.prototype.preventDefault=function(){Jb.jd.preventDefault.call(this);var a=this.Ua;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Gb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Jb.prototype.Ae=function(){return this.Ua};var Kb=\"closure_listenable_\"+(1E6*Math.random()|0),Lb=0;var Mb=function(a,b,c,d,e){this.listener=a;this.lc=null;this.src=b;this.type=c;this.capture=!!d;this.Yb=e;this.key=++Lb;this.hb=this.Pb=!1},Nb=function(a){a.hb=!0;a.listener=null;a.lc=null;a.src=null;a.Yb=null};var Ob=function(a){this.src=a;this.C={};this.Lb=0};Ob.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.C[f];a||(a=this.C[f]=[],this.Lb++);var g=Pb(a,b,d,e);-1<g?(b=a[g],c||(b.Pb=!1)):(b=new Mb(b,this.src,f,!!d,e),b.Pb=c,a.push(b));return b};Ob.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.C))return!1;var e=this.C[a];b=Pb(e,b,c,d);return-1<b?(Nb(e[b]),Ia(e,b),0==e.length&&(delete this.C[a],this.Lb--),!0):!1};\nvar Qb=function(a,b){var c=b.type;c in a.C&&Ja(a.C[c],b)&&(Nb(b),0==a.C[c].length&&(delete a.C[c],a.Lb--))};Ob.prototype.Kc=function(a,b,c,d){a=this.C[a.toString()];var e=-1;a&&(e=Pb(a,b,c,d));return-1<e?a[e]:null};var Pb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.hb&&f.listener==b&&f.capture==!!c&&f.Yb==d)return e}return-1};var Rb=\"closure_lm_\"+(1E6*Math.random()|0),Sb={},Tb=0,Ub=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Ub(a,b[f],c,d,e);else c=Vb(c),a&&a[Kb]?a.listen(b,c,d,e):Wb(a,b,c,!1,d,e)},Wb=function(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var g=!!e,k=Xb(a);k||(a[Rb]=k=new Ob(a));c=k.add(b,c,d,e,f);if(!c.lc){d=Yb();c.lc=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Zb(b.toString()),d);else throw Error(\"addEventListener and attachEvent are unavailable.\");\nTb++}},Yb=function(){var a=$b,b=Fb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},ac=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)ac(a,b[f],c,d,e);else c=Vb(c),a&&a[Kb]?bc(a,b,c,d,e):Wb(a,b,c,!0,d,e)},cc=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)cc(a,b[f],c,d,e);else c=Vb(c),a&&a[Kb]?a.aa.remove(String(b),c,d,e):a&&(a=Xb(a))&&(b=a.Kc(b,c,!!d,e))&&dc(b)},dc=function(a){if(!fa(a)&&a&&!a.hb){var b=a.src;if(b&&\nb[Kb])Qb(b.aa,a);else{var c=a.type,d=a.lc;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Zb(c),d);Tb--;(c=Xb(b))?(Qb(c,a),0==c.Lb&&(c.src=null,b[Rb]=null)):Nb(a)}}},Zb=function(a){return a in Sb?Sb[a]:Sb[a]=\"on\"+a},fc=function(a,b,c,d){var e=!0;if(a=Xb(a))if(b=a.C[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.hb&&(f=ec(f,d),e=e&&!1!==f)}return e},ec=function(a,b){var c=a.listener,d=a.Yb||a.src;a.Pb&&dc(a);return c.call(d,\nb)},$b=function(a,b){if(a.hb)return!0;if(!Fb){if(!b)a:{b=[\"window\",\"event\"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Jb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.bb&&0<=e;e--){b.currentTarget=d[e];var f=fc(d[e],a,!0,b),c=c&&f}for(e=0;!b.bb&&e<d.length;e++)b.currentTarget=\nd[e],f=fc(d[e],a,!1,b),c=c&&f}return c}return ec(a,new Jb(b,this))},Xb=function(a){a=a[Rb];return a instanceof Ob?a:null},gc=\"__closure_events_fn_\"+(1E9*Math.random()>>>0),Vb=function(a){w(a,\"Listener can not be null.\");if(q(a))return a;w(a.handleEvent,\"An object listener must have handleEvent method.\");a[gc]||(a[gc]=function(b){return a.handleEvent(b)});return a[gc]};var hc=/^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$/;var jc=function(){this.sc=\"\";this.ge=ic};jc.prototype.bc=!0;jc.prototype.Wb=function(){return this.sc};jc.prototype.toString=function(){return\"Const{\"+this.sc+\"}\"};var kc=function(a){if(a instanceof jc&&a.constructor===jc&&a.ge===ic)return a.sc;xa(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"},ic={},lc=function(a){var b=new jc;b.sc=a;return b};lc(\"\");var nc=function(){this.jc=\"\";this.he=mc};nc.prototype.bc=!0;nc.prototype.Wb=function(){return this.jc};nc.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.jc+\"}\"};var mc={};var pc=function(){this.ma=\"\";this.fe=oc};pc.prototype.bc=!0;pc.prototype.Wb=function(){return this.ma};pc.prototype.toString=function(){return\"SafeUrl{\"+this.ma+\"}\"};\nvar qc=function(a){if(a instanceof pc&&a.constructor===pc&&a.fe===oc)return a.ma;xa(\"expected object of type SafeUrl, got '\"+a+\"' of type \"+m(a));return\"type_error:SafeUrl\"},rc=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,tc=function(a){if(a instanceof pc)return a;a=a.bc?a.Wb():String(a);rc.test(a)||(a=\"about:invalid#zClosurez\");return sc(a)},oc={},sc=function(a){var b=new pc;b.ma=a;return b};sc(\"about:blank\");var wc=function(a){var b=[];uc(new vc,a,b);return b.join(\"\")},vc=function(){this.nc=void 0},uc=function(a,b,c){if(null==b)c.push(\"null\");else{if(\"object\"==typeof b){if(da(b)){var d=b;b=d.length;c.push(\"[\");for(var e=\"\",f=0;f<b;f++)c.push(e),e=d[f],uc(a,a.nc?a.nc.call(d,String(f),e):e,c),e=\",\";c.push(\"]\");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(\"{\");f=\"\";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],\"function\"!=typeof e&&(c.push(f),\nxc(d,c),c.push(\":\"),uc(a,a.nc?a.nc.call(b,d,e):e,c),f=\",\"));c.push(\"}\");return}}switch(typeof b){case \"string\":xc(b,c);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?String(b):\"null\");break;case \"boolean\":c.push(String(b));break;case \"function\":c.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof b);}}},yc={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},zc=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g,\nxc=function(a,b){b.push('\"',a.replace(zc,function(a){var b=yc[a];b||(b=\"\\\\u\"+(a.charCodeAt(0)|65536).toString(16).substr(1),yc[a]=b);return b}),'\"')};var Ac=function(){};Ac.prototype.md=null;var Bc=function(a){return a.md||(a.md=a.Pc())};var Cc,Dc=function(){};t(Dc,Ac);Dc.prototype.Rb=function(){var a=Ec(this);return a?new ActiveXObject(a):new XMLHttpRequest};Dc.prototype.Pc=function(){var a={};Ec(this)&&(a[0]=!0,a[1]=!0);return a};\nvar Ec=function(a){if(!a.Bd&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Bd=d}catch(e){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}return a.Bd};Cc=new Dc;var Fc=function(){};t(Fc,Ac);Fc.prototype.Rb=function(){var a=new XMLHttpRequest;if(\"withCredentials\"in a)return a;if(\"undefined\"!=typeof XDomainRequest)return new Gc;throw Error(\"Unsupported browser\");};Fc.prototype.Pc=function(){return{}};\nvar Gc=function(){this.pa=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText=\"\";this.status=-1;this.statusText=this.responseXML=null;this.pa.onload=r(this.De,this);this.pa.onerror=r(this.yd,this);this.pa.onprogress=r(this.Ee,this);this.pa.ontimeout=r(this.Fe,this)};h=Gc.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error(\"Only async requests are supported.\");this.pa.open(a,b)};\nh.send=function(a){if(a)if(\"string\"==typeof a)this.pa.send(a);else throw Error(\"Only string data is supported\");else this.pa.send()};h.abort=function(){this.pa.abort()};h.setRequestHeader=function(){};h.De=function(){this.status=200;this.responseText=this.pa.responseText;Hc(this,4)};h.yd=function(){this.status=500;this.responseText=\"\";Hc(this,4)};h.Fe=function(){this.yd()};h.Ee=function(){this.status=200;Hc(this,1)};var Hc=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()};var Jc=function(){this.ma=\"\";this.ee=Ic};Jc.prototype.bc=!0;Jc.prototype.Wb=function(){return this.ma};Jc.prototype.toString=function(){return\"SafeHtml{\"+this.ma+\"}\"};var Kc=function(a){if(a instanceof Jc&&a.constructor===Jc&&a.ee===Ic)return a.ma;xa(\"expected object of type SafeHtml, got '\"+a+\"' of type \"+m(a));return\"type_error:SafeHtml\"},Ic={};Jc.prototype.Me=function(a){this.ma=a;return this};!eb&&!A||A&&9<=Number(mb)||eb&&B(\"1.9.1\");A&&B(\"9\");var Mc=function(a,b){Na(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:Lc.hasOwnProperty(d)?a.setAttribute(Lc[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})},Lc={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",nonce:\"nonce\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};var Nc=function(a,b,c){this.Qe=c;this.oe=a;this.ef=b;this.fc=0;this.Zb=null};Nc.prototype.get=function(){var a;0<this.fc?(this.fc--,a=this.Zb,this.Zb=a.next,a.next=null):a=this.oe();return a};Nc.prototype.put=function(a){this.ef(a);this.fc<this.Qe&&(this.fc++,a.next=this.Zb,this.Zb=a)};var Oc=function(a){l.setTimeout(function(){throw a;},0)},Pc,Qc=function(){var a=l.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!z(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,\na=r(function(a){if((\"*\"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!z(\"Trident\")&&!z(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.pd;c.pd=null;a()}};return function(a){d.next={pd:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?\nfunction(a){var b=document.createElement(\"SCRIPT\");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var Rc=function(){this.yc=this.Na=null},Tc=new Nc(function(){return new Sc},function(a){a.reset()},100);Rc.prototype.add=function(a,b){var c=Tc.get();c.set(a,b);this.yc?this.yc.next=c:(w(!this.Na),this.Na=c);this.yc=c};Rc.prototype.remove=function(){var a=null;this.Na&&(a=this.Na,this.Na=this.Na.next,this.Na||(this.yc=null),a.next=null);return a};var Sc=function(){this.next=this.scope=this.Jc=null};Sc.prototype.set=function(a,b){this.Jc=a;this.scope=b;this.next=null};\nSc.prototype.reset=function(){this.next=this.scope=this.Jc=null};var Yc=function(a,b){Uc||Vc();Wc||(Uc(),Wc=!0);Xc.add(a,b)},Uc,Vc=function(){if(-1!=String(l.Promise).indexOf(\"[native code]\")){var a=l.Promise.resolve(void 0);Uc=function(){a.then(Zc)}}else Uc=function(){var a=Zc;!q(l.setImmediate)||l.Window&&l.Window.prototype&&!z(\"Edge\")&&l.Window.prototype.setImmediate==l.setImmediate?(Pc||(Pc=Qc()),Pc(a)):l.setImmediate(a)}},Wc=!1,Xc=new Rc,Zc=function(){for(var a;a=Xc.remove();){try{a.Jc.call(a.scope)}catch(b){Oc(b)}Tc.put(a)}Wc=!1};var $c=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},ad=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var C=function(a,b){this.M=0;this.na=void 0;this.Ra=this.ja=this.s=null;this.Xb=this.Ic=!1;if(a!=ba)try{var c=this;a.call(b,function(a){bd(c,2,a)},function(a){if(!(a instanceof cd))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(e){}bd(c,3,a)})}catch(d){bd(this,3,d)}},dd=function(){this.next=this.context=this.$a=this.Fa=this.child=null;this.ob=!1};dd.prototype.reset=function(){this.context=this.$a=this.Fa=this.child=null;this.ob=!1};\nvar ed=new Nc(function(){return new dd},function(a){a.reset()},100),fd=function(a,b,c){var d=ed.get();d.Fa=a;d.$a=b;d.context=c;return d},D=function(a){if(a instanceof C)return a;var b=new C(ba);bd(b,2,a);return b},E=function(a){return new C(function(b,c){c(a)})},hd=function(a,b,c){gd(a,b,c,null)||Yc(ja(b,a))},id=function(a){return new C(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ye:!0,value:f}:{ye:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],hd(g,ja(e,f,!0),\nja(e,f,!1));else b(d)})};C.prototype.then=function(a,b,c){null!=a&&Aa(a,\"opt_onFulfilled should be a function.\");null!=b&&Aa(b,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");return jd(this,q(a)?a:null,q(b)?b:null,c)};$c(C);var ld=function(a,b){b=fd(b,b,void 0);b.ob=!0;kd(a,b);return a};C.prototype.c=function(a,b){return jd(this,null,a,b)};C.prototype.cancel=function(a){0==this.M&&Yc(function(){var b=new cd(a);md(this,b)},this)};\nvar md=function(a,b){if(0==a.M)if(a.s){var c=a.s;if(c.ja){for(var d=0,e=null,f=null,g=c.ja;g&&(g.ob||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.M&&1==d?md(c,b):(f?(d=f,w(c.ja),w(null!=d),d.next==c.Ra&&(c.Ra=d),d.next=d.next.next):nd(c),od(c,e,3,b)))}a.s=null}else bd(a,3,b)},kd=function(a,b){a.ja||2!=a.M&&3!=a.M||pd(a);w(null!=b.Fa);a.Ra?a.Ra.next=b:a.ja=b;a.Ra=b},jd=function(a,b,c,d){var e=fd(null,null,null);e.child=new C(function(a,g){e.Fa=b?function(c){try{var e=b.call(d,c);a(e)}catch(y){g(y)}}:\na;e.$a=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof cd?g(b):a(e)}catch(y){g(y)}}:g});e.child.s=a;kd(a,e);return e.child};C.prototype.rf=function(a){w(1==this.M);this.M=0;bd(this,2,a)};C.prototype.sf=function(a){w(1==this.M);this.M=0;bd(this,3,a)};\nvar bd=function(a,b,c){0==a.M&&(a===c&&(b=3,c=new TypeError(\"Promise cannot resolve to itself\")),a.M=1,gd(c,a.rf,a.sf,a)||(a.na=c,a.M=b,a.s=null,pd(a),3!=b||c instanceof cd||qd(a,c)))},gd=function(a,b,c,d){if(a instanceof C)return null!=b&&Aa(b,\"opt_onFulfilled should be a function.\"),null!=c&&Aa(c,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\"),kd(a,fd(b||ba,c||null,d)),!0;if(ad(a))return a.then(b,c,d),!0;if(ga(a))try{var e=a.then;if(q(e))return rd(a,\ne,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},rd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(n){k(n)}},pd=function(a){a.Ic||(a.Ic=!0,Yc(a.te,a))},nd=function(a){var b=null;a.ja&&(b=a.ja,a.ja=b.next,b.next=null);a.ja||(a.Ra=null);null!=b&&w(null!=b.Fa);return b};C.prototype.te=function(){for(var a;a=nd(this);)od(this,a,this.M,this.na);this.Ic=!1};\nvar od=function(a,b,c,d){if(3==c&&b.$a&&!b.ob)for(;a&&a.Xb;a=a.s)a.Xb=!1;if(b.child)b.child.s=null,sd(b,c,d);else try{b.ob?b.Fa.call(b.context):sd(b,c,d)}catch(e){td.call(null,e)}ed.put(b)},sd=function(a,b,c){2==b?a.Fa.call(a.context,c):a.$a&&a.$a.call(a.context,c)},qd=function(a,b){a.Xb=!0;Yc(function(){a.Xb&&td.call(null,b)})},td=Oc,cd=function(a){u.call(this,a)};t(cd,u);cd.prototype.name=\"cancel\";/*\n Portions of this code are from MochiKit, received by\n The Closure Authors under the MIT license. All other code is Copyright\n 2005-2009 The Closure Authors. All Rights Reserved.\n*/\nvar ud=function(a,b){this.pc=[];this.Hd=a;this.sd=b||null;this.rb=this.Wa=!1;this.na=void 0;this.fd=this.ld=this.Dc=!1;this.wc=0;this.s=null;this.Ec=0};ud.prototype.cancel=function(a){if(this.Wa)this.na instanceof ud&&this.na.cancel();else{if(this.s){var b=this.s;delete this.s;a?b.cancel(a):(b.Ec--,0>=b.Ec&&b.cancel())}this.Hd?this.Hd.call(this.sd,this):this.fd=!0;this.Wa||vd(this,new wd)}};ud.prototype.qd=function(a,b){this.Dc=!1;xd(this,a,b)};\nvar xd=function(a,b,c){a.Wa=!0;a.na=c;a.rb=!b;yd(a)},Ad=function(a){if(a.Wa){if(!a.fd)throw new zd;a.fd=!1}};ud.prototype.callback=function(a){Ad(this);Bd(a);xd(this,!0,a)};\nvar vd=function(a,b){Ad(a);Bd(b);xd(a,!1,b)},Bd=function(a){w(!(a instanceof ud),\"An execution sequence may not be initiated with a blocking Deferred.\")},Fd=function(a){var b=Cd(\"https://apis.google.com/js/client.js?onload=\"+Dd);Ed(b,null,a,void 0)},Ed=function(a,b,c,d){w(!a.ld,\"Blocking Deferreds can not be re-used\");a.pc.push([b,c,d]);a.Wa&&yd(a)};ud.prototype.then=function(a,b,c){var d,e,f=new C(function(a,b){d=a;e=b});Ed(this,d,function(a){a instanceof wd?f.cancel():e(a)});return f.then(a,b,c)};\n$c(ud);\nvar Gd=function(a){return Ea(a.pc,function(a){return q(a[1])})},yd=function(a){if(a.wc&&a.Wa&&Gd(a)){var b=a.wc,c=Hd[b];c&&(l.clearTimeout(c.sb),delete Hd[b]);a.wc=0}a.s&&(a.s.Ec--,delete a.s);for(var b=a.na,d=c=!1;a.pc.length&&!a.Dc;){var e=a.pc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.rb?g:f)try{var k=f.call(e||a.sd,b);void 0!==k&&(a.rb=a.rb&&(k==b||k instanceof Error),a.na=b=k);if(ad(b)||\"function\"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.Dc=!0}catch(n){b=n,a.rb=!0,Gd(a)||(c=!0)}}a.na=b;d&&\n(k=r(a.qd,a,!0),d=r(a.qd,a,!1),b instanceof ud?(Ed(b,k,d),b.ld=!0):b.then(k,d));c&&(b=new Id(b),Hd[b.sb]=b,a.wc=b.sb)},zd=function(){u.call(this)};t(zd,u);zd.prototype.message=\"Deferred has already fired\";zd.prototype.name=\"AlreadyCalledError\";var wd=function(){u.call(this)};t(wd,u);wd.prototype.message=\"Deferred was canceled\";wd.prototype.name=\"CanceledError\";var Id=function(a){this.sb=l.setTimeout(r(this.qf,this),0);this.O=a};\nId.prototype.qf=function(){w(Hd[this.sb],\"Cannot throw an error that is not scheduled.\");delete Hd[this.sb];throw this.O;};var Hd={};var Cd=function(a){var b=new nc;b.jc=a;return Jd(b)},Jd=function(a){var b={},c=b.document||document,d;a instanceof nc&&a.constructor===nc&&a.he===mc?d=a.jc:(xa(\"expected object of type TrustedResourceUrl, got '\"+a+\"' of type \"+m(a)),d=\"type_error:TrustedResourceUrl\");var e=document.createElement(\"SCRIPT\");a={Od:e,Kb:void 0};var f=new ud(Kd,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){Ld(e,!0);vd(f,new Md(1,\"Timeout reached for loading script \"+d))},k),a.Kb=g);e.onload=\ne.onreadystatechange=function(){e.readyState&&\"loaded\"!=e.readyState&&\"complete\"!=e.readyState||(Ld(e,b.Df||!1,g),f.callback(null))};e.onerror=function(){Ld(e,!0,g);vd(f,new Md(0,\"Error while loading script \"+d))};a=b.attributes||{};Ua(a,{type:\"text/javascript\",charset:\"UTF-8\",src:d});Mc(e,a);Nd(c).appendChild(e);return f},Nd=function(a){var b;return(b=(a||document).getElementsByTagName(\"HEAD\"))&&0!=b.length?b[0]:a.documentElement},Kd=function(){if(this&&this.Od){var a=this.Od;a&&\"SCRIPT\"==a.tagName&&\nLd(a,!0,this.Kb)}},Ld=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Md=function(a,b){var c=\"Jsloader error (code #\"+a+\")\";b&&(c+=\": \"+b);u.call(this,c);this.code=a};t(Md,u);var Od=function(){Hb.call(this);this.aa=new Ob(this);this.ke=this;this.Vc=null};t(Od,Hb);Od.prototype[Kb]=!0;h=Od.prototype;h.addEventListener=function(a,b,c,d){Ub(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){cc(this,a,b,c,d)};\nh.dispatchEvent=function(a){Pd(this);var b,c=this.Vc;if(c){b=[];for(var d=1;c;c=c.Vc)b.push(c),w(1E3>++d,\"infinite loop\")}c=this.ke;d=a.type||a;if(p(a))a=new Ib(a,c);else if(a instanceof Ib)a.target=a.target||c;else{var e=a;a=new Ib(d,c);Ua(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.bb&&0<=g;g--)f=a.currentTarget=b[g],e=Qd(f,d,!0,a)&&e;a.bb||(f=a.currentTarget=c,e=Qd(f,d,!0,a)&&e,a.bb||(e=Qd(f,d,!1,a)&&e));if(b)for(g=0;!a.bb&&g<b.length;g++)f=a.currentTarget=b[g],e=Qd(f,d,!1,a)&&e;return e};\nh.Ta=function(){Od.jd.Ta.call(this);if(this.aa){var a=this.aa,b=0,c;for(c in a.C){for(var d=a.C[c],e=0;e<d.length;e++)++b,Nb(d[e]);delete a.C[c];a.Lb--}}this.Vc=null};h.listen=function(a,b,c,d){Pd(this);return this.aa.add(String(a),b,!1,c,d)};\nvar bc=function(a,b,c,d,e){a.aa.add(String(b),c,!0,d,e)},Qd=function(a,b,c,d){b=a.aa.C[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.hb&&g.capture==c){var k=g.listener,n=g.Yb||g.src;g.Pb&&Qb(a.aa,g);e=!1!==k.call(n,d)&&e}}return e&&0!=d.Nd};Od.prototype.Kc=function(a,b,c,d){return this.aa.Kc(String(a),b,c,d)};var Pd=function(a){w(a.aa,\"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\")};var Rd=\"StopIteration\"in l?l.StopIteration:{message:\"StopIteration\",stack:\"\"},Sd=function(){};Sd.prototype.next=function(){throw Rd;};Sd.prototype.je=function(){return this};var Td=function(a,b){this.ba={};this.w=[];this.nb=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};Td.prototype.X=function(){Ud(this);for(var a=[],b=0;b<this.w.length;b++)a.push(this.ba[this.w[b]]);return a};Td.prototype.ka=function(){Ud(this);return this.w.concat()};Td.prototype.pb=function(a){return Vd(this.ba,a)};\nTd.prototype.remove=function(a){return Vd(this.ba,a)?(delete this.ba[a],this.o--,this.nb++,this.w.length>2*this.o&&Ud(this),!0):!1};var Ud=function(a){if(a.o!=a.w.length){for(var b=0,c=0;b<a.w.length;){var d=a.w[b];Vd(a.ba,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.o!=a.w.length){for(var e={},c=b=0;b<a.w.length;)d=a.w[b],Vd(e,d)||(a.w[c++]=d,e[d]=1),b++;a.w.length=c}};h=Td.prototype;h.get=function(a,b){return Vd(this.ba,a)?this.ba[a]:b};\nh.set=function(a,b){Vd(this.ba,a)||(this.o++,this.w.push(a),this.nb++);this.ba[a]=b};h.addAll=function(a){var b;a instanceof Td?(b=a.ka(),a=a.X()):(b=Pa(a),a=Oa(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.ka(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Td(this)};\nh.je=function(a){Ud(this);var b=0,c=this.nb,d=this,e=new Sd;e.next=function(){if(c!=d.nb)throw Error(\"The map has changed since the iterator was created\");if(b>=d.w.length)throw Rd;var e=d.w[b++];return a?e:d.ba[e]};return e};var Vd=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Wd=function(a){if(a.X&&\"function\"==typeof a.X)return a.X();if(p(a))return a.split(\"\");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Oa(a)},Xd=function(a){if(a.ka&&\"function\"==typeof a.ka)return a.ka();if(!a.X||\"function\"!=typeof a.X){if(ea(a)||p(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Pa(a)}},Yd=function(a,b){if(a.forEach&&\"function\"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||p(a))x(a,b,void 0);else for(var c=Xd(a),d=Wd(a),e=\nd.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var Zd=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Zd.prototype.ud=null;var $d=0;Zd.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||$d++;d||ka();this.wb=a;this.Ve=b;delete this.ud};Zd.prototype.Rd=function(a){this.wb=a};var ae=function(a){this.We=a;this.zd=this.Fc=this.wb=this.s=null},be=function(a,b){this.name=a;this.value=b};be.prototype.toString=function(){return this.name};var ce=new be(\"SEVERE\",1E3),de=new be(\"CONFIG\",700),ee=new be(\"FINE\",500);ae.prototype.getParent=function(){return this.s};ae.prototype.Rd=function(a){this.wb=a};var fe=function(a){if(a.wb)return a.wb;if(a.s)return fe(a.s);xa(\"Root logger has no level set.\");return null};\nae.prototype.log=function(a,b,c){if(a.value>=fe(this).value)for(q(b)&&(b=b()),a=new Zd(a,String(b),this.We),c&&(a.ud=c),c=\"log:\"+a.Ve,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.zd)for(var f=0;b=d.zd[f];f++)b(e);c=c.getParent()}};\nvar ge={},he=null,ie=function(a){he||(he=new ae(\"\"),ge[\"\"]=he,he.Rd(de));var b;if(!(b=ge[a])){b=new ae(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=ie(a.substr(0,c));c.Fc||(c.Fc={});c.Fc[d]=b;b.s=c;ge[a]=b}return b};var F=function(a,b){a&&a.log(ee,b,void 0)};var je=function(a,b,c){if(q(a))c&&(a=r(a,c));else if(a&&\"function\"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error(\"Invalid listener argument\");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},ke=function(a){var b=null;return(new C(function(c,d){b=je(function(){c(void 0)},a);-1==b&&d(Error(\"Failed to schedule timer.\"))})).c(function(a){l.clearTimeout(b);throw a;})};var le=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/,me=function(a,b){if(a){a=a.split(\"&\");for(var c=0;c<a.length;c++){var d=a[c].indexOf(\"=\"),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\\+/g,\" \")):\"\")}}};var G=function(a){Od.call(this);this.headers=new Td;this.Ac=a||null;this.qa=!1;this.zc=this.b=null;this.vb=this.Fd=this.ec=\"\";this.Ca=this.Nc=this.cc=this.Hc=!1;this.kb=0;this.uc=null;this.Md=\"\";this.xc=this.cf=this.ae=!1};t(G,Od);var ne=G.prototype,oe=ie(\"goog.net.XhrIo\");ne.T=oe;var pe=/^https?$/i,qe=[\"POST\",\"PUT\"];\nG.prototype.send=function(a,b,c,d){if(this.b)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.ec+\"; newUri=\"+a);b=b?b.toUpperCase():\"GET\";this.ec=a;this.vb=\"\";this.Fd=b;this.Hc=!1;this.qa=!0;this.b=this.Ac?this.Ac.Rb():Cc.Rb();this.zc=this.Ac?Bc(this.Ac):Bc(Cc);this.b.onreadystatechange=r(this.Jd,this);this.cf&&\"onprogress\"in this.b&&(this.b.onprogress=r(function(a){this.Id(a,!0)},this),this.b.upload&&(this.b.upload.onprogress=r(this.Id,this)));try{F(this.T,re(this,\"Opening Xhr\")),\nthis.Nc=!0,this.b.open(b,String(a),!0),this.Nc=!1}catch(f){F(this.T,re(this,\"Error opening Xhr: \"+f.message));this.O(5,f);return}a=c||\"\";var e=this.headers.clone();d&&Yd(d,function(a,b){e.set(b,a)});d=Ga(e.ka());c=l.FormData&&a instanceof l.FormData;!Ha(qe,b)||d||c||e.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");e.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.Md&&(this.b.responseType=this.Md);\"withCredentials\"in this.b&&this.b.withCredentials!==this.ae&&(this.b.withCredentials=\nthis.ae);try{se(this),0<this.kb&&(this.xc=te(this.b),F(this.T,re(this,\"Will abort after \"+this.kb+\"ms if incomplete, xhr2 \"+this.xc)),this.xc?(this.b.timeout=this.kb,this.b.ontimeout=r(this.Kb,this)):this.uc=je(this.Kb,this.kb,this)),F(this.T,re(this,\"Sending request\")),this.cc=!0,this.b.send(a),this.cc=!1}catch(f){F(this.T,re(this,\"Send error: \"+f.message)),this.O(5,f)}};var te=function(a){return A&&B(9)&&fa(a.timeout)&&void 0!==a.ontimeout},Fa=function(a){return\"content-type\"==a.toLowerCase()};\nG.prototype.Kb=function(){\"undefined\"!=typeof aa&&this.b&&(this.vb=\"Timed out after \"+this.kb+\"ms, aborting\",F(this.T,re(this,this.vb)),this.dispatchEvent(\"timeout\"),this.abort(8))};G.prototype.O=function(a,b){this.qa=!1;this.b&&(this.Ca=!0,this.b.abort(),this.Ca=!1);this.vb=b;ue(this);ve(this)};var ue=function(a){a.Hc||(a.Hc=!0,a.dispatchEvent(\"complete\"),a.dispatchEvent(\"error\"))};\nG.prototype.abort=function(){this.b&&this.qa&&(F(this.T,re(this,\"Aborting\")),this.qa=!1,this.Ca=!0,this.b.abort(),this.Ca=!1,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),ve(this))};G.prototype.Ta=function(){this.b&&(this.qa&&(this.qa=!1,this.Ca=!0,this.b.abort(),this.Ca=!1),ve(this,!0));G.jd.Ta.call(this)};G.prototype.Jd=function(){this.isDisposed()||(this.Nc||this.cc||this.Ca?we(this):this.$e())};G.prototype.$e=function(){we(this)};\nvar we=function(a){if(a.qa&&\"undefined\"!=typeof aa)if(a.zc[1]&&4==xe(a)&&2==ye(a))F(a.T,re(a,\"Local request error detected and ignored\"));else if(a.cc&&4==xe(a))je(a.Jd,0,a);else if(a.dispatchEvent(\"readystatechange\"),4==xe(a)){F(a.T,re(a,\"Request complete\"));a.qa=!1;try{var b=ye(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.ec).match(le)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,\nf=g.substr(0,g.length-1);e=!pe.test(f?f.toLowerCase():\"\")}d=e}if(d)a.dispatchEvent(\"complete\"),a.dispatchEvent(\"success\");else{var k;try{k=2<xe(a)?a.b.statusText:\"\"}catch(n){F(a.T,\"Can not get status: \"+n.message),k=\"\"}a.vb=k+\" [\"+ye(a)+\"]\";ue(a)}}finally{ve(a)}}};G.prototype.Id=function(a,b){w(\"progress\"===a.type,\"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.\");this.dispatchEvent(ze(a,\"progress\"));this.dispatchEvent(ze(a,b?\"downloadprogress\":\"uploadprogress\"))};\nvar ze=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},ve=function(a,b){if(a.b){se(a);var c=a.b,d=a.zc[0]?ba:null;a.b=null;a.zc=null;b||a.dispatchEvent(\"ready\");try{c.onreadystatechange=d}catch(e){(a=a.T)&&a.log(ce,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}},se=function(a){a.b&&a.xc&&(a.b.ontimeout=null);fa(a.uc)&&(l.clearTimeout(a.uc),a.uc=null)},xe=function(a){return a.b?a.b.readyState:0},ye=function(a){try{return 2<xe(a)?\na.b.status:-1}catch(b){return-1}},Ae=function(a){try{return a.b?a.b.responseText:\"\"}catch(b){return F(a.T,\"Can not get responseText: \"+b.message),\"\"}},re=function(a,b){return b+\" [\"+a.Fd+\" \"+a.ec+\" \"+ye(a)+\"]\"};var Be=function(a,b){this.$=this.La=this.da=\"\";this.ab=null;this.Ba=this.sa=\"\";this.R=this.Pe=!1;var c;a instanceof Be?(this.R=void 0!==b?b:a.R,Ce(this,a.da),c=a.La,H(this),this.La=c,De(this,a.$),Ee(this,a.ab),Fe(this,a.sa),Ge(this,a.V.clone()),a=a.Ba,H(this),this.Ba=a):a&&(c=String(a).match(le))?(this.R=!!b,Ce(this,c[1]||\"\",!0),a=c[2]||\"\",H(this),this.La=He(a),De(this,c[3]||\"\",!0),Ee(this,c[4]),Fe(this,c[5]||\"\",!0),Ge(this,c[6]||\"\",!0),a=c[7]||\"\",H(this),this.Ba=He(a)):(this.R=!!b,this.V=new I(null,\n0,this.R))};Be.prototype.toString=function(){var a=[],b=this.da;b&&a.push(Ie(b,Je,!0),\":\");var c=this.$;if(c||\"file\"==b)a.push(\"//\"),(b=this.La)&&a.push(Ie(b,Je,!0),\"@\"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),c=this.ab,null!=c&&a.push(\":\",String(c));if(c=this.sa)this.$&&\"/\"!=c.charAt(0)&&a.push(\"/\"),a.push(Ie(c,\"/\"==c.charAt(0)?Ke:Le,!0));(c=this.V.toString())&&a.push(\"?\",c);(c=this.Ba)&&a.push(\"#\",Ie(c,Me));return a.join(\"\")};\nBe.prototype.resolve=function(a){var b=this.clone(),c=!!a.da;c?Ce(b,a.da):c=!!a.La;if(c){var d=a.La;H(b);b.La=d}else c=!!a.$;c?De(b,a.$):c=null!=a.ab;d=a.sa;if(c)Ee(b,a.ab);else if(c=!!a.sa){if(\"/\"!=d.charAt(0))if(this.$&&!this.sa)d=\"/\"+d;else{var e=b.sa.lastIndexOf(\"/\");-1!=e&&(d=b.sa.substr(0,e+1)+d)}e=d;if(\"..\"==e||\".\"==e)d=\"\";else if(v(e,\"./\")||v(e,\"/.\")){for(var d=0==e.lastIndexOf(\"/\",0),e=e.split(\"/\"),f=[],g=0;g<e.length;){var k=e[g++];\".\"==k?d&&g==e.length&&f.push(\"\"):\"..\"==k?((1<f.length||\n1==f.length&&\"\"!=f[0])&&f.pop(),d&&g==e.length&&f.push(\"\")):(f.push(k),d=!0)}d=f.join(\"/\")}else d=e}c?Fe(b,d):c=\"\"!==a.V.toString();c?Ge(b,a.V.clone()):c=!!a.Ba;c&&(a=a.Ba,H(b),b.Ba=a);return b};Be.prototype.clone=function(){return new Be(this)};\nvar Ce=function(a,b,c){H(a);a.da=c?He(b,!0):b;a.da&&(a.da=a.da.replace(/:$/,\"\"))},De=function(a,b,c){H(a);a.$=c?He(b,!0):b},Ee=function(a,b){H(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.ab=b}else a.ab=null},Fe=function(a,b,c){H(a);a.sa=c?He(b,!0):b},Ge=function(a,b,c){H(a);b instanceof I?(a.V=b,a.V.ed(a.R)):(c||(b=Ie(b,Ne)),a.V=new I(b,0,a.R))},J=function(a,b,c){H(a);a.V.set(b,c)},Oe=function(a,b){return a.V.get(b)},Pe=function(a,b){H(a);a.V.remove(b)},H=function(a){if(a.Pe)throw Error(\"Tried to modify a read-only Uri\");\n};Be.prototype.ed=function(a){this.R=a;this.V&&this.V.ed(a);return this};\nvar Qe=function(a){return a instanceof Be?a.clone():new Be(a,void 0)},Re=function(a,b){var c=new Be(null,void 0);Ce(c,\"https\");a&&De(c,a);b&&Fe(c,b);return c},He=function(a,b){return a?b?decodeURI(a.replace(/%25/g,\"%2525\")):decodeURIComponent(a):\"\"},Ie=function(a,b,c){return p(a)?(a=encodeURI(a).replace(b,Se),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null},Se=function(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)},Je=/[#\\/\\?@]/g,Le=/[\\#\\?:]/g,Ke=/[\\#\\?]/g,Ne=/[\\#\\?@]/g,\nMe=/#/g,I=function(a,b,c){this.o=this.l=null;this.N=a||null;this.R=!!c},Te=function(a){a.l||(a.l=new Td,a.o=0,a.N&&me(a.N,function(b,c){a.add(decodeURIComponent(b.replace(/\\+/g,\" \")),c)}))},Ve=function(a){var b=Xd(a);if(\"undefined\"==typeof b)throw Error(\"Keys are undefined\");var c=new I(null,0,void 0);a=Wd(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];da(f)?Ue(c,e,f):c.add(e,f)}return c};h=I.prototype;\nh.add=function(a,b){Te(this);this.N=null;a=this.P(a);var c=this.l.get(a);c||this.l.set(a,c=[]);c.push(b);this.o=ya(this.o)+1;return this};h.remove=function(a){Te(this);a=this.P(a);return this.l.pb(a)?(this.N=null,this.o=ya(this.o)-this.l.get(a).length,this.l.remove(a)):!1};h.pb=function(a){Te(this);a=this.P(a);return this.l.pb(a)};h.ka=function(){Te(this);for(var a=this.l.X(),b=this.l.ka(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};\nh.X=function(a){Te(this);var b=[];if(p(a))this.pb(a)&&(b=La(b,this.l.get(this.P(a))));else{a=this.l.X();for(var c=0;c<a.length;c++)b=La(b,a[c])}return b};h.set=function(a,b){Te(this);this.N=null;a=this.P(a);this.pb(a)&&(this.o=ya(this.o)-this.l.get(a).length);this.l.set(a,[b]);this.o=ya(this.o)+1;return this};h.get=function(a,b){a=a?this.X(a):[];return 0<a.length?String(a[0]):b};var Ue=function(a,b,c){a.remove(b);0<c.length&&(a.N=null,a.l.set(a.P(b),Ma(c)),a.o=ya(a.o)+c.length)};\nI.prototype.toString=function(){if(this.N)return this.N;if(!this.l)return\"\";for(var a=[],b=this.l.ka(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.X(d),f=0;f<d.length;f++){var g=e;\"\"!==d[f]&&(g+=\"=\"+encodeURIComponent(String(d[f])));a.push(g)}return this.N=a.join(\"&\")};I.prototype.clone=function(){var a=new I;a.N=this.N;this.l&&(a.l=this.l.clone(),a.o=this.o);return a};I.prototype.P=function(a){a=String(a);this.R&&(a=a.toLowerCase());return a};\nI.prototype.ed=function(a){a&&!this.R&&(Te(this),this.N=null,this.l.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),Ue(this,b,a))},this));this.R=a};var We=function(){var a=K();return A&&!!mb&&11==mb||/Edge\\/\\d+/.test(a)},Xe=function(){return l.window&&l.window.location.href||\"\"},Ye=function(a,b){b=b||l.window;var c=\"about:blank\";a&&(c=qc(tc(a)));b.location.href=c},Ze=function(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):da(a[d])?Ra(a[d],b[d])||c.push(d):\"object\"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<Ze(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c},af=function(){var a;\na=K();a=\"Chrome\"!=$e(a)?null:(a=a.match(/\\sChrome\\/(\\d+)/i))&&2==a.length?parseInt(a[1],10):null;return a&&30>a?!1:!A||!mb||9<mb},bf=function(a){a=(a||K()).toLowerCase();return a.match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/)?!0:!1},cf=function(a){a=a||l.window;try{a.close()}catch(b){}},df=function(a,b,c){var d=Math.floor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-\nb)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};c=K().toLowerCase();d&&(b.target=d,v(c,\"crios/\")&&(b.target=\"_blank\"));\"Firefox\"==$e(K())&&(a=a||\"http://localhost\",b.scrollbars=!0);var g;c=a||\"about:blank\";(d=b)||(d={});a=window;b=c instanceof pc?c:tc(\"undefined\"!=typeof c.href?c.href:String(c));c=d.target||c.target;e=[];for(g in d)switch(g){case \"width\":case \"height\":case \"top\":case \"left\":e.push(g+\"=\"+d[g]);break;case \"target\":case \"noreferrer\":break;\ndefault:e.push(g+\"=\"+(d[g]?1:0))}g=e.join(\",\");(z(\"iPhone\")&&!z(\"iPod\")&&!z(\"iPad\")||z(\"iPad\")||z(\"iPod\"))&&a.navigator&&a.navigator.standalone&&c&&\"_self\"!=c?(g=a.document.createElement(\"A\"),\"undefined\"!=typeof HTMLAnchorElement&&\"undefined\"!=typeof Location&&\"undefined\"!=typeof Element&&(e=g&&(g instanceof HTMLAnchorElement||!(g instanceof Location||g instanceof Element)),f=ga(g)?g.constructor.displayName||g.constructor.name||Object.prototype.toString.call(g):void 0===g?\"undefined\":null===g?\"null\":\ntypeof g,w(e,\"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s\",f)),b=b instanceof pc?b:tc(b),g.href=qc(b),g.setAttribute(\"target\",c),d.noreferrer&&g.setAttribute(\"rel\",\"noreferrer\"),d=document.createEvent(\"MouseEvent\"),d.initMouseEvent(\"click\",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open(\"\",c,g),d=qc(b),g&&(db&&v(d,\";\")&&(d=\"'\"+d.replace(/'/g,\"%27\")+\"'\"),g.opener=null,a=lc(\"b/12014412, meta tag with sanitized URL\"),ta.test(d)&&(-1!=d.indexOf(\"&\")&&(d=d.replace(na,\n\"&amp;\")),-1!=d.indexOf(\"<\")&&(d=d.replace(oa,\"&lt;\")),-1!=d.indexOf(\">\")&&(d=d.replace(pa,\"&gt;\")),-1!=d.indexOf('\"')&&(d=d.replace(qa,\"&quot;\")),-1!=d.indexOf(\"'\")&&(d=d.replace(ra,\"&#39;\")),-1!=d.indexOf(\"\\x00\")&&(d=d.replace(sa,\"&#0;\"))),d='<META HTTP-EQUIV=\"refresh\" content=\"0; url='+d+'\">',za(kc(a),\"must provide justification\"),w(!/^[\\s\\xa0]*$/.test(kc(a)),\"must provide non-empty justification\"),g.document.write(Kc((new Jc).Me(d))),g.document.close())):g=a.open(qc(b),c,g);if(g)try{g.focus()}catch(k){}return g},\nef=function(a){return new C(function(b){var c=function(){ke(2E3).then(function(){if(!a||a.closed)b();else return c()})};return c()})},ff=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,gf=function(){var a=null;return(new C(function(b){\"complete\"==l.document.readyState?b():(a=function(){b()},ac(window,\"load\",a))})).c(function(b){cc(window,\"load\",a);throw b;})},jf=function(){return hf(void 0)?gf().then(function(){return new C(function(a,b){var c=l.document,d=setTimeout(function(){b(Error(\"Cordova framework is not ready.\"))},\n1E3);c.addEventListener(\"deviceready\",function(){clearTimeout(d);a()},!1)})}):E(Error(\"Cordova must run in an Android or iOS file scheme.\"))},hf=function(a){a=a||K();return!(\"file:\"!==kf()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))},lf=function(){var a=l.window;try{return!(!a||a==a.top)}catch(b){return!1}},L=function(){return firebase.INTERNAL.hasOwnProperty(\"reactNative\")?\"ReactNative\":firebase.INTERNAL.hasOwnProperty(\"node\")?\"Node\":\"Browser\"},mf=function(){var a=L();return\"ReactNative\"===\na||\"Node\"===a},$e=function(a){var b=a.toLowerCase();if(v(b,\"opera/\")||v(b,\"opr/\")||v(b,\"opios/\"))return\"Opera\";if(v(b,\"iemobile\"))return\"IEMobile\";if(v(b,\"msie\")||v(b,\"trident/\"))return\"IE\";if(v(b,\"edge/\"))return\"Edge\";if(v(b,\"firefox/\"))return\"Firefox\";if(v(b,\"silk/\"))return\"Silk\";if(v(b,\"blackberry\"))return\"Blackberry\";if(v(b,\"webos\"))return\"Webos\";if(!v(b,\"safari/\")||v(b,\"chrome/\")||v(b,\"crios/\")||v(b,\"android\"))if(!v(b,\"chrome/\")&&!v(b,\"crios/\")||v(b,\"edge/\")){if(v(b,\"android\"))return\"Android\";\nif((a=a.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/))&&2==a.length)return a[1]}else return\"Chrome\";else return\"Safari\";return\"Other\"},nf=function(a){var b=L();return(\"Browser\"===b?$e(K()):b)+\"/JsCore/\"+a},K=function(){return l.navigator&&l.navigator.userAgent||\"\"},M=function(a,b){a=a.split(\".\");b=b||l;for(var c=0;c<a.length&&\"object\"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b},qf=function(){var a;if(a=(of()||\"chrome-extension:\"===kf()||hf()&&!1)&&!mf())a:{try{var b=l.localStorage,\nc=pf();if(b){b.setItem(c,\"1\");b.removeItem(c);a=We()?!!l.indexedDB:!0;break a}}catch(d){}a=!1}return a},of=function(){return\"http:\"===kf()||\"https:\"===kf()},kf=function(){return l.location&&l.location.protocol||null},rf=function(a){a=a||K();return bf(a)||\"Firefox\"==$e(a)?!1:!0},sf=function(a){return\"undefined\"===typeof a?null:wc(a)},tf=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return b},uf=function(a){if(null!==a)return JSON.parse(a)},pf=function(a){return a?\na:\"\"+Math.floor(1E9*Math.random()).toString()},vf=function(a){a=a||K();return\"Safari\"==$e(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},wf=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null},xf=function(){return l.navigator&&\"boolean\"===typeof l.navigator.onLine?l.navigator.onLine:!0},yf=function(a,b,c,d){if(a>b)throw Error(\"Short delay should be less than long delay!\");\nthis.mf=a;this.Ue=b;a=c||K();d=d||L();this.Oe=bf(a)||\"ReactNative\"===d};yf.prototype.get=function(){return this.Oe?this.Ue:this.mf};var zf;try{var Af={};Object.defineProperty(Af,\"abcd\",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Af,\"abcd\",{configurable:!0,enumerable:!0,value:2});zf=2==Af.abcd}catch(a){zf=!1}\nvar N=function(a,b,c){zf?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},Bf=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&N(a,c,b[c])},Cf=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},Df=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||\"\"===d)return!1}return!0},Ef=function(a){var b=a;if(\"object\"==typeof a&&null!=a){var b=\"length\"in a?[]:{},c;for(c in a)N(b,c,\nEf(a[c]))}return b};var Ff=[\"client_id\",\"response_type\",\"scope\",\"redirect_uri\",\"state\"],Gf={be:{Ab:500,zb:600,providerId:\"facebook.com\",oc:Ff},ce:{Ab:500,zb:620,providerId:\"github.com\",oc:Ff},de:{Ab:515,zb:680,providerId:\"google.com\",oc:Ff},ie:{Ab:485,zb:705,providerId:\"twitter.com\",oc:\"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version\".split(\" \")}},Hf=function(a){for(var b in Gf)if(Gf[b].providerId==a)return Gf[b];return null},If=function(a){return(a=Hf(a))&&\na.oc||[]};var O=function(a,b){this.code=\"auth/\"+a;this.message=b||Jf[a]||\"\"};t(O,Error);O.prototype.D=function(){return{name:this.code,code:this.code,message:this.message}};\nvar Kf=function(a){var b=a&&(a.name||a.code);return b?new O(b.substring(5),a.message):null},Jf={\"argument-error\":\"\",\"app-not-authorized\":\"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.\",\"app-not-installed\":\"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.\",\"cordova-not-ready\":\"Cordova framework is not ready.\",\n\"cors-unsupported\":\"This browser is not supported.\",\"credential-already-in-use\":\"This credential is already associated with a different user account.\",\"custom-token-mismatch\":\"The custom token corresponds to a different audience.\",\"requires-recent-login\":\"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\",\"dynamic-link-not-activated\":\"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.\",\"email-already-in-use\":\"The email address is already in use by another account.\",\n\"expired-action-code\":\"The action code has expired. \",\"cancelled-popup-request\":\"This operation has been cancelled due to another conflicting popup being opened.\",\"internal-error\":\"An internal error has occurred.\",\"invalid-user-token\":\"The user's credential is no longer valid. The user must sign in again.\",\"invalid-auth-event\":\"An internal error has occurred.\",\"invalid-cordova-configuration\":\"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.\",\n\"invalid-custom-token\":\"The custom token format is incorrect. Please check the documentation.\",\"invalid-email\":\"The email address is badly formatted.\",\"invalid-api-key\":\"Your API key is invalid, please check you have copied it correctly.\",\"invalid-credential\":\"The supplied auth credential is malformed or has expired.\",\"invalid-message-payload\":\"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.\",\n\"invalid-oauth-provider\":\"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.\",\"unauthorized-domain\":\"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.\",\"invalid-action-code\":\"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.\",\"wrong-password\":\"The password is invalid or the user does not have a password.\",\n\"invalid-recipient-email\":\"The email corresponding to this action failed to send as the provided recipient email address is invalid.\",\"invalid-sender\":\"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.\",\"missing-iframe-start\":\"An internal error has occurred.\",\"auth-domain-config-required\":\"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.\",\n\"app-deleted\":\"This instance of FirebaseApp has been deleted.\",\"account-exists-with-different-credential\":\"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\",\"network-request-failed\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\",\"no-auth-event\":\"An internal error has occurred.\",\"no-such-provider\":\"User was not linked to an account with the given provider.\",\n\"operation-not-allowed\":\"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\",\"operation-not-supported-in-this-environment\":'This operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https and web storage must be enabled.',\"popup-blocked\":\"Unable to establish a connection with the popup. It may have been blocked by the browser.\",\"popup-closed-by-user\":\"The popup has been closed by the user before finalizing the operation.\",\n\"provider-already-linked\":\"User can only be linked to one identity for the given provider.\",\"redirect-cancelled-by-user\":\"The redirect operation has been cancelled by the user before finalizing.\",\"redirect-operation-pending\":\"A redirect sign-in operation is already pending.\",timeout:\"The operation has timed out.\",\"user-token-expired\":\"The user's credential is no longer valid. The user must sign in again.\",\"too-many-requests\":\"We have blocked all requests from this device due to unusual activity. Try again later.\",\n\"user-cancelled\":\"User did not grant your application the permissions it requested.\",\"user-not-found\":\"There is no user record corresponding to this identifier. The user may have been deleted.\",\"user-disabled\":\"The user account has been disabled by an administrator.\",\"user-mismatch\":\"The supplied credentials do not correspond to the previously signed in user.\",\"user-signed-out\":\"\",\"weak-password\":\"The password must be 6 characters long or more.\",\"web-storage-unsupported\":\"This browser is not supported or 3rd party cookies and data may be disabled.\"};var P=function(a,b,c,d,e){this.ga=a;this.F=b||null;this.mb=c||null;this.dd=d||null;this.O=e||null;if(this.mb||this.O){if(this.mb&&this.O)throw new O(\"invalid-auth-event\");if(this.mb&&!this.dd)throw new O(\"invalid-auth-event\");}else throw new O(\"invalid-auth-event\");};P.prototype.Vb=function(){return this.dd};P.prototype.getError=function(){return this.O};P.prototype.D=function(){return{type:this.ga,eventId:this.F,urlResponse:this.mb,sessionId:this.dd,error:this.O&&this.O.D()}};\nvar Lf=function(a){a=a||{};return a.type?new P(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&Kf(a.error)):null};var Mf=function(a){var b=\"unauthorized-domain\",c=void 0,d=Qe(a);a=d.$;d=d.da;\"http\"!=d&&\"https\"!=d?b=\"operation-not-supported-in-this-environment\":c=la(\"This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",a);O.call(this,b,c)};t(Mf,O);var Nf=function(a){this.Te=a.sub;ka();this.Sb=a.email||null};var Of=function(a,b,c,d){var e={};ga(c)?e=c:b&&p(c)&&p(d)?e={oauthToken:c,oauthTokenSecret:d}:!b&&p(c)&&(e={accessToken:c});if(b||!e.idToken&&!e.accessToken)if(b&&e.oauthToken&&e.oauthTokenSecret)N(this,\"accessToken\",e.oauthToken),N(this,\"secret\",e.oauthTokenSecret);else{if(b)throw new O(\"argument-error\",\"credential failed: expected 2 arguments (the OAuth access token and secret).\");throw new O(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");}else e.idToken&&N(this,\n\"idToken\",e.idToken),e.accessToken&&N(this,\"accessToken\",e.accessToken);N(this,\"provider\",a)};Of.prototype.Ub=function(a){return Pf(a,Qf(this))};Of.prototype.Gd=function(a,b){var c=Qf(this);c.idToken=b;return Rf(a,c)};var Qf=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.provider;return{postBody:Ve(b).toString(),requestUri:\"http://localhost\"}};\nOf.prototype.D=function(){var a={provider:this.provider};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};\nvar Sf=function(a,b,c){var d=!!b,e=c||[];b=function(){Bf(this,{providerId:a,isOAuthProvider:!0});this.cd=[];this.rd={};\"google.com\"==a&&this.addScope(\"profile\")};d||(b.prototype.addScope=function(a){Ha(this.cd,a)||this.cd.push(a)});b.prototype.setCustomParameters=function(a){this.rd=Sa(a)};b.prototype.Be=function(){var a=tf(this.rd),b;for(b in a)a[b]=a[b].toString();a=Sa(a);for(b=0;b<e.length;b++){var c=e[b];c in a&&delete a[c]}return a};b.prototype.Ce=function(){return Ma(this.cd)};b.credential=\nfunction(b,c){return new Of(a,d,b,c)};Bf(b,{PROVIDER_ID:a});return b},Tf=Sf(\"facebook.com\",!1,If(\"facebook.com\"));Tf.prototype.addScope=Tf.prototype.addScope||void 0;var Uf=Sf(\"github.com\",!1,If(\"github.com\"));Uf.prototype.addScope=Uf.prototype.addScope||void 0;var Vf=Sf(\"google.com\",!1,If(\"google.com\"));Vf.prototype.addScope=Vf.prototype.addScope||void 0;\nVf.credential=function(a,b){if(!a&&!b)throw new O(\"argument-error\",\"credential failed: must provide the ID token and/or the access token.\");return new Of(\"google.com\",!1,ga(a)?a:{idToken:a||null,accessToken:b||null})};var Wf=Sf(\"twitter.com\",!0,If(\"twitter.com\")),Xf=function(a,b){this.Sb=a;this.Wc=b;N(this,\"provider\",\"password\")};Xf.prototype.Ub=function(a){return Q(a,Yf,{email:this.Sb,password:this.Wc})};Xf.prototype.Gd=function(a,b){return Q(a,Zf,{idToken:b,email:this.Sb,password:this.Wc})};\nXf.prototype.D=function(){return{email:this.Sb,password:this.Wc}};var $f=function(){Bf(this,{providerId:\"password\",isOAuthProvider:!1})};Bf($f,{PROVIDER_ID:\"password\"});\nvar ag={Bf:$f,be:Tf,de:Vf,ce:Uf,ie:Wf},bg=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in ag)if(ag[e].PROVIDER_ID==b)try{return ag[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(f){break}return null},cg=function(a){if(!a.isOAuthProvider)throw new O(\"invalid-oauth-provider\");};var dg=function(a,b,c,d){O.call(this,a,d);N(this,\"email\",b);N(this,\"credential\",c)};t(dg,O);dg.prototype.D=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.D();b&&(Ua(a,b),a.providerId=b.provider,delete a.provider);return a};var eg=function(a){if(a.code){var b=a.code||\"\";0==b.indexOf(\"auth/\")&&(b=b.substring(5));return a.email?new dg(b,a.email,bg(a),a.message):new O(b,a.message||void 0)}return null};var fg=function(a){this.Af=a};t(fg,Ac);fg.prototype.Rb=function(){return new this.Af};fg.prototype.Pc=function(){return{}};\nvar R=function(a,b,c){var d;d=\"Node\"==L();d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new O(\"internal-error\",\"The XMLHttpRequest compatibility library was not found.\");this.j=a;a=b||{};this.hf=a.secureTokenEndpoint||\"https://securetoken.googleapis.com/v1/token\";this.jf=a.secureTokenTimeout||gg;this.Pd=Sa(a.secureTokenHeaders||hg);this.we=a.firebaseEndpoint||\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\";this.xe=a.firebaseTimeout||\nig;this.wd=Sa(a.firebaseHeaders||jg);c&&(this.wd[\"X-Client-Version\"]=c,this.Pd[\"X-Client-Version\"]=c);this.ne=new Fc;this.zf=new fg(d)},kg,gg=new yf(3E4,6E4),hg={\"Content-Type\":\"application/x-www-form-urlencoded\"},ig=new yf(3E4,6E4),jg={\"Content-Type\":\"application/json\"},mg=function(a,b,c,d,e,f,g){xf()?(af()?a=r(a.lf,a):(kg||(kg=new C(function(a,b){lg(a,b)})),a=r(a.kf,a)),a(b,c,d,e,f,g)):c&&c(null)};\nR.prototype.lf=function(a,b,c,d,e,f){var g=\"Node\"==L(),k=mf()?g?new G(this.zf):new G:new G(this.ne),n;f&&(k.kb=Math.max(0,f),n=setTimeout(function(){k.dispatchEvent(\"timeout\")},f));k.listen(\"complete\",function(){n&&clearTimeout(n);var a=null;try{a=JSON.parse(Ae(this))||null}catch(Wa){a=null}b&&b(a)});bc(k,\"ready\",function(){n&&clearTimeout(n);this.Aa||(this.Aa=!0,this.Ta())});bc(k,\"timeout\",function(){n&&clearTimeout(n);this.Aa||(this.Aa=!0,this.Ta());b&&b(null)});k.send(a,c,d,e)};\nvar Dd=\"__fcb\"+Math.floor(1E6*Math.random()).toString(),lg=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Dd]=function(){((window.gapi||{}).client||{}).request?a():b(Error(\"CORS_UNSUPPORTED\"))},Fd(function(){b(Error(\"CORS_UNSUPPORTED\"))}))};\nR.prototype.kf=function(a,b,c,d,e){var f=this;kg.then(function(){window.gapi.client.setApiKey(f.j);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:\"none\",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).c(function(a){b&&b({error:{message:a&&a.message||\"CORS_UNSUPPORTED\"}})})};\nvar og=function(a,b){return new C(function(c,d){\"refresh_token\"==b.grant_type&&b.refresh_token||\"authorization_code\"==b.grant_type&&b.code?mg(a,a.hf+\"?key=\"+encodeURIComponent(a.j),function(a){a?a.error?d(ng(a)):a.access_token&&a.refresh_token?c(a):d(new O(\"internal-error\")):d(new O(\"network-request-failed\"))},\"POST\",Ve(b).toString(),a.Pd,a.jf.get()):d(new O(\"internal-error\"))})},pg=function(a,b,c,d,e){var f=Qe(a.we+b);J(f,\"key\",a.j);e&&J(f,\"cb\",ka().toString());var g=\"GET\"==c;if(g)for(var k in d)d.hasOwnProperty(k)&&\nJ(f,k,d[k]);return new C(function(b,e){mg(a,f.toString(),function(a){a?a.error?e(ng(a)):b(a):e(new O(\"network-request-failed\"))},c,g?void 0:wc(tf(d)),a.wd,a.xe.get())})},qg=function(a){if(!hc.test(a.email))throw new O(\"invalid-email\");},rg=function(a){\"email\"in a&&qg(a)},tg=function(a,b){return Q(a,sg,{identifier:b,continueUri:of()?Xe():\"http://localhost\"}).then(function(a){return a.allProviders||[]})},vg=function(a){return Q(a,ug,{}).then(function(a){return a.authorizedDomains||[]})},wg=function(a){if(!a.idToken)throw new O(\"internal-error\");\n};R.prototype.signInAnonymously=function(){return Q(this,xg,{})};R.prototype.updateEmail=function(a,b){return Q(this,yg,{idToken:a,email:b})};R.prototype.updatePassword=function(a,b){return Q(this,Zf,{idToken:a,password:b})};var zg={displayName:\"DISPLAY_NAME\",photoUrl:\"PHOTO_URL\"};R.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Na(zg,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return Q(this,yg,c)};\nR.prototype.sendPasswordResetEmail=function(a){return Q(this,Ag,{requestType:\"PASSWORD_RESET\",email:a})};R.prototype.sendEmailVerification=function(a){return Q(this,Bg,{requestType:\"VERIFY_EMAIL\",idToken:a})};\nvar Dg=function(a,b,c){return Q(a,Cg,{idToken:b,deleteProvider:c})},Eg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new O(\"internal-error\");},Fg=function(a){var b=null;a.needConfirmation?(a.code=\"account-exists-with-different-credential\",b=eg(a)):\"FEDERATED_USER_ID_ALREADY_LINKED\"==a.errorMessage?(a.code=\"credential-already-in-use\",b=eg(a)):\"EMAIL_EXISTS\"==a.errorMessage&&(a.code=\"email-already-in-use\",b=eg(a));if(b)throw b;if(!a.idToken)throw new O(\"internal-error\");},Pf=function(a,\nb){b.returnIdpCredential=!0;return Q(a,Gg,b)},Rf=function(a,b){b.returnIdpCredential=!0;return Q(a,Hg,b)},Ig=function(a){if(!a.oobCode)throw new O(\"invalid-action-code\");};R.prototype.confirmPasswordReset=function(a,b){return Q(this,Jg,{oobCode:a,newPassword:b})};R.prototype.checkActionCode=function(a){return Q(this,Kg,{oobCode:a})};R.prototype.applyActionCode=function(a){return Q(this,Lg,{oobCode:a})};\nvar Lg={endpoint:\"setAccountInfo\",K:Ig,jb:\"email\"},Kg={endpoint:\"resetPassword\",K:Ig,va:function(a){if(!a.email||!a.requestType)throw new O(\"internal-error\");}},Mg={endpoint:\"signupNewUser\",K:function(a){qg(a);if(!a.password)throw new O(\"weak-password\");},va:wg,wa:!0},sg={endpoint:\"createAuthUri\"},Ng={endpoint:\"deleteAccount\",ib:[\"idToken\"]},Cg={endpoint:\"setAccountInfo\",ib:[\"idToken\",\"deleteProvider\"],K:function(a){if(!da(a.deleteProvider))throw new O(\"internal-error\");}},Og={endpoint:\"getAccountInfo\"},\nBg={endpoint:\"getOobConfirmationCode\",ib:[\"idToken\",\"requestType\"],K:function(a){if(\"VERIFY_EMAIL\"!=a.requestType)throw new O(\"internal-error\");},jb:\"email\"},Ag={endpoint:\"getOobConfirmationCode\",ib:[\"requestType\"],K:function(a){if(\"PASSWORD_RESET\"!=a.requestType)throw new O(\"internal-error\");qg(a)},jb:\"email\"},ug={me:!0,endpoint:\"getProjectConfig\",Ie:\"GET\"},Jg={endpoint:\"resetPassword\",K:Ig,jb:\"email\"},yg={endpoint:\"setAccountInfo\",ib:[\"idToken\"],K:rg,wa:!0},Zf={endpoint:\"setAccountInfo\",ib:[\"idToken\"],\nK:function(a){rg(a);if(!a.password)throw new O(\"weak-password\");},va:wg,wa:!0},xg={endpoint:\"signupNewUser\",va:wg,wa:!0},Gg={endpoint:\"verifyAssertion\",K:Eg,va:Fg,wa:!0},Hg={endpoint:\"verifyAssertion\",K:function(a){Eg(a);if(!a.idToken)throw new O(\"internal-error\");},va:Fg,wa:!0},Pg={endpoint:\"verifyCustomToken\",K:function(a){if(!a.token)throw new O(\"invalid-custom-token\");},va:wg,wa:!0},Yf={endpoint:\"verifyPassword\",K:function(a){qg(a);if(!a.password)throw new O(\"wrong-password\");},va:wg,wa:!0},Q=\nfunction(a,b,c){if(!Df(c,b.ib))return E(new O(\"internal-error\"));var d=b.Ie||\"POST\",e;return D(c).then(b.K).then(function(){b.wa&&(c.returnSecureToken=!0);return pg(a,b.endpoint,d,c,b.me||!1)}).then(function(a){return e=a}).then(b.va).then(function(){if(!b.jb)return e;if(!(b.jb in e))throw new O(\"internal-error\");return e[b.jb]})},ng=function(a){var b,c;c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||\"\";var d={keyInvalid:\"invalid-api-key\",ipRefererBlocked:\"app-not-authorized\"};if(c=d[c]?\nnew O(d[c]):null)return c;c=a.error&&a.error.message||\"\";d={INVALID_CUSTOM_TOKEN:\"invalid-custom-token\",CREDENTIAL_MISMATCH:\"custom-token-mismatch\",MISSING_CUSTOM_TOKEN:\"internal-error\",INVALID_IDENTIFIER:\"invalid-email\",MISSING_CONTINUE_URI:\"internal-error\",INVALID_EMAIL:\"invalid-email\",INVALID_PASSWORD:\"wrong-password\",USER_DISABLED:\"user-disabled\",MISSING_PASSWORD:\"internal-error\",EMAIL_EXISTS:\"email-already-in-use\",PASSWORD_LOGIN_DISABLED:\"operation-not-allowed\",INVALID_IDP_RESPONSE:\"invalid-credential\",\nFEDERATED_USER_ID_ALREADY_LINKED:\"credential-already-in-use\",INVALID_MESSAGE_PAYLOAD:\"invalid-message-payload\",INVALID_RECIPIENT_EMAIL:\"invalid-recipient-email\",INVALID_SENDER:\"invalid-sender\",EMAIL_NOT_FOUND:\"user-not-found\",EXPIRED_OOB_CODE:\"expired-action-code\",INVALID_OOB_CODE:\"invalid-action-code\",MISSING_OOB_CODE:\"internal-error\",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:\"requires-recent-login\",INVALID_ID_TOKEN:\"invalid-user-token\",TOKEN_EXPIRED:\"user-token-expired\",USER_NOT_FOUND:\"user-token-expired\",\nCORS_UNSUPPORTED:\"cors-unsupported\",DYNAMIC_LINK_NOT_ACTIVATED:\"dynamic-link-not-activated\",TOO_MANY_ATTEMPTS_TRY_LATER:\"too-many-requests\",WEAK_PASSWORD:\"weak-password\",OPERATION_NOT_ALLOWED:\"operation-not-allowed\",USER_CANCELLED:\"user-cancelled\"};b=(b=c.match(/^[^\\s]+\\s*:\\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new O(d[e],b);!b&&a&&(b=sf(a));return new O(\"internal-error\",b)};var Qg=function(a){this.U=a};Qg.prototype.value=function(){return this.U};Qg.prototype.Sd=function(a){this.U.style=a;return this};var Rg=function(a){this.U=a||{}};Rg.prototype.value=function(){return this.U};Rg.prototype.Sd=function(a){this.U.style=a;return this};var Tg=function(a){this.xf=a;this.ac=null;this.Uc=Sg(this)},Ug=function(a){var b=new Rg;b.U.where=document.body;b.U.url=a.xf;b.U.messageHandlersFilter=M(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\");b.U.attributes=b.U.attributes||{};(new Qg(b.U.attributes)).Sd({position:\"absolute\",top:\"-100px\",width:\"1px\",height:\"1px\"});b.U.dontclear=!0;return b},Sg=function(a){return Vg().then(function(){return new C(function(b,c){M(\"gapi.iframes.getContext\")().open(Ug(a).value(),function(d){a.ac=d;a.ac.restyle({setHideOnLeave:!1});\nvar e=setTimeout(function(){c(Error(\"Network Error\"))},Wg.get()),f=function(){clearTimeout(e);b()};d.ping(f).then(f,function(){c(Error(\"Network Error\"))})})})})};Tg.prototype.sendMessage=function(a){var b=this;return this.Uc.then(function(){return new C(function(c){b.ac.send(a.type,a,c,M(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})})};\nvar Xg=function(a,b){a.Uc.then(function(){a.ac.register(\"authEvent\",b,M(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})},Yg=new yf(3E4,6E4),Wg=new yf(5E3,15E3),Vg=function(){return new C(function(a,b){if(xf()){var c=function(){wf();M(\"gapi.load\")(\"gapi.iframes\",{callback:a,ontimeout:function(){wf();b(Error(\"Network Error\"))},timeout:Yg.get()})};if(M(\"gapi.iframes.Iframe\"))a();else if(M(\"gapi.load\"))c();else{var d=\"__iframefcb\"+Math.floor(1E6*Math.random()).toString();l[d]=function(){M(\"gapi.load\")?\nc():b(Error(\"Network Error\"))};D(Cd(\"https://apis.google.com/js/api.js?onload=\"+d)).c(function(){b(Error(\"Network Error\"))})}}else b(Error(\"Network Error\"))})};var Zg=function(a,b,c){this.v=a;this.j=b;this.B=c;this.Ma=null;this.Mb=Re(this.v,\"/__/auth/iframe\");J(this.Mb,\"apiKey\",this.j);J(this.Mb,\"appName\",this.B)};Zg.prototype.setVersion=function(a){this.Ma=a;return this};Zg.prototype.toString=function(){this.Ma?J(this.Mb,\"v\",this.Ma):Pe(this.Mb,\"v\");return this.Mb.toString()};var ah=function(a,b,c,d,e){this.v=a;this.j=b;this.B=c;this.le=d;this.Ma=this.F=this.ad=null;this.kc=e};ah.prototype.setVersion=function(a){this.Ma=a;return this};\nah.prototype.toString=function(){var a=Re(this.v,\"/__/auth/handler\");J(a,\"apiKey\",this.j);J(a,\"appName\",this.B);J(a,\"authType\",this.le);if(this.kc.isOAuthProvider){J(a,\"providerId\",this.kc.providerId);var b=this.kc.Ce();b&&b.length&&J(a,\"scopes\",b.join(\",\"));b=this.kc.Be();Qa(b)||J(a,\"customParameters\",sf(b))}this.ad?J(a,\"redirectUrl\",this.ad):Pe(a,\"redirectUrl\");this.F?J(a,\"eventId\",this.F):Pe(a,\"eventId\");this.Ma?J(a,\"v\",this.Ma):Pe(a,\"v\");if(this.Nb)for(var c in this.Nb)this.Nb.hasOwnProperty(c)&&\n!Oe(a,c)&&J(a,c,this.Nb[c]);return a.toString()};\nvar bh=function(a,b,c,d){this.v=a;this.j=b;this.B=c;this.ze=(this.za=d||null)?nf(this.za):null;d=this.za;this.Je=(new Zg(a,b,c)).setVersion(d).toString();this.ia=[];this.g=new R(b,null,this.ze);this.dc=this.ra=null},ch=function(a){var b=Xe();return vg(a).then(function(a){a:{for(var c=Qe(b),e=c.da,c=c.$,f=0;f<a.length;f++){var g;var k=a[f];g=c;var n=e;0==k.indexOf(\"chrome-extension://\")?g=Qe(k).$==g&&\"chrome-extension\"==n:\"http\"!=n&&\"https\"!=n?g=!1:ff.test(k)?g=g==k:(k=k.split(\".\").join(\"\\\\.\"),g=(new RegExp(\"^(.+\\\\.\"+\nk+\"|\"+k+\")$\",\"i\")).test(g));if(g){a=!0;break a}}a=!1}if(!a)throw new Mf(Xe());})};h=bh.prototype;h.ub=function(){if(this.dc)return this.dc;var a=this;return this.dc=gf().then(function(){a.$b=new Tg(a.Je);dh(a)})};h.Hb=function(a,b,c){var d=new O(\"popup-closed-by-user\"),e=new O(\"web-storage-unsupported\"),f=this,g=!1;return this.Da().then(function(){eh(f).then(function(c){c||(a&&cf(a),b(e),g=!0)})}).c(function(){}).then(function(){if(!g)return ef(a)}).then(function(){if(!g)return ke(c).then(function(){b(d)})})};\nh.Td=function(){var a=K();return!rf(a)&&!vf(a)};h.Ad=function(){return!1};h.Bb=function(a,b,c,d,e,f,g){if(!a)return E(new O(\"popup-blocked\"));if(g&&!rf())return this.Da().c(function(b){cf(a);e(b)}),d(),D();this.ra||(this.ra=ch(this.g));var k=this;return this.ra.then(function(){var b=k.Da().c(function(b){cf(a);e(b);throw b;});d();return b}).then(function(){cg(c);if(!g){var d=fh(k.v,k.j,k.B,b,c,null,f,k.za);Ye(d,a)}}).c(function(a){\"auth/network-request-failed\"==a.code&&(k.ra=null);throw a;})};\nh.Cb=function(a,b,c){this.ra||(this.ra=ch(this.g));var d=this;return this.ra.then(function(){cg(b);var e=fh(d.v,d.j,d.B,a,b,Xe(),c,d.za);Ye(e)})};h.Da=function(){var a=this;return this.ub().then(function(){return a.$b.Uc}).c(function(){a.ra=null;throw new O(\"network-request-failed\");})};h.Wd=function(){return!0};\nvar fh=function(a,b,c,d,e,f,g,k,n){a=new ah(a,b,c,d,e);a.ad=f;a.F=g;f=a.setVersion(k);f.Nb=Sa(n||null);return f.toString()},dh=function(a){if(!a.$b)throw Error(\"IfcHandler must be initialized!\");Xg(a.$b,function(b){var c={};if(b&&b.authEvent){var d=!1;b=Lf(b.authEvent);for(c=0;c<a.ia.length;c++)d=a.ia[c](b)||d;c={};c.status=d?\"ACK\":\"ERROR\";return D(c)}c.status=\"ERROR\";return D(c)})},eh=function(a){var b={type:\"webStorageSupport\"};return a.ub().then(function(){return a.$b.sendMessage(b)}).then(function(a){if(a&&\na.length&&\"undefined\"!==typeof a[0].webStorageSupport)return a[0].webStorageSupport;throw Error();})};bh.prototype.Oa=function(a){this.ia.push(a)};bh.prototype.Fb=function(a){Ka(this.ia,function(b){return b==a})};var gh=function(a){this.A=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.A)throw new O(\"internal-error\",\"The React Native compatibility library was not found.\");};h=gh.prototype;h.get=function(a){return D(this.A.getItem(a)).then(function(a){return a&&uf(a)})};h.set=function(a,b){return D(this.A.setItem(a,sf(b)))};h.remove=function(a){return D(this.A.removeItem(a))};h.Pa=function(){};h.Ja=function(){};var hh=function(){this.A={}};h=hh.prototype;h.get=function(a){return D(this.A[a])};h.set=function(a,b){this.A[a]=b;return D()};h.remove=function(a){delete this.A[a];return D()};h.Pa=function(){};h.Ja=function(){};var jh=function(){if(!ih()){if(\"Node\"==L())throw new O(\"internal-error\",\"The LocalStorage compatibility library was not found.\");throw new O(\"web-storage-unsupported\");}this.A=l.localStorage||firebase.INTERNAL.node.localStorage},ih=function(){var a=\"Node\"==L(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}};h=jh.prototype;\nh.get=function(a){var b=this;return D().then(function(){var c=b.A.getItem(a);return uf(c)})};h.set=function(a,b){var c=this;return D().then(function(){var d=sf(b);null===d?c.remove(a):c.A.setItem(a,d)})};h.remove=function(a){var b=this;return D().then(function(){b.A.removeItem(a)})};h.Pa=function(a){l.window&&Ub(l.window,\"storage\",a)};h.Ja=function(a){l.window&&cc(l.window,\"storage\",a)};var kh=function(){this.A={}};h=kh.prototype;h.get=function(){return D(null)};h.set=function(){return D()};h.remove=function(){return D()};h.Pa=function(){};h.Ja=function(){};var mh=function(){if(!lh()){if(\"Node\"==L())throw new O(\"internal-error\",\"The SessionStorage compatibility library was not found.\");throw new O(\"web-storage-unsupported\");}this.A=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},lh=function(){var a=\"Node\"==L(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}};h=mh.prototype;\nh.get=function(a){var b=this;return D().then(function(){var c=b.A.getItem(a);return uf(c)})};h.set=function(a,b){var c=this;return D().then(function(){var d=sf(b);null===d?c.remove(a):c.A.setItem(a,d)})};h.remove=function(a){var b=this;return D().then(function(){b.A.removeItem(a)})};h.Pa=function(){};h.Ja=function(){};var nh=function(a,b,c,d,e,f){if(!window.indexedDB)throw new O(\"web-storage-unsupported\");this.pe=a;this.Tc=b;this.Gc=c;this.$d=d;this.nb=e;this.Y={};this.Ib=[];this.xb=0;this.Ke=f||l.indexedDB},oh,ph=function(a){return new C(function(b,c){var d=a.Ke.open(a.pe,a.nb);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.Tc,{keyPath:a.Gc})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})},qh=function(a){a.Dd||(a.Dd=\nph(a));return a.Dd},rh=function(a,b){return b.objectStore(a.Tc)},sh=function(a,b,c){return b.transaction([a.Tc],c?\"readwrite\":\"readonly\")},th=function(a){return new C(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};h=nh.prototype;\nh.set=function(a,b){var c=!1,d,e=this;return ld(qh(this).then(function(b){d=b;b=rh(e,sh(e,d,!0));return th(b.get(a))}).then(function(f){var g=rh(e,sh(e,d,!0));if(f)return f.value=b,th(g.put(f));e.xb++;c=!0;f={};f[e.Gc]=a;f[e.$d]=b;return th(g.add(f))}).then(function(){e.Y[a]=b}),function(){c&&e.xb--})};h.get=function(a){var b=this;return qh(this).then(function(c){return th(rh(b,sh(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};\nh.remove=function(a){var b=!1,c=this;return ld(qh(this).then(function(d){b=!0;c.xb++;return th(rh(c,sh(c,d,!0))[\"delete\"](a))}).then(function(){delete c.Y[a]}),function(){b&&c.xb--})};\nh.pf=function(){var a=this;return qh(this).then(function(b){var c=rh(a,sh(a,b,!1));return c.getAll?th(c.getAll()):new C(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b[\"continue\"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.xb){for(d=0;d<b.length;d++)c[b[d][a.Gc]]=b[d][a.$d];d=Ze(a.Y,c);a.Y=c}return d})};h.Pa=function(a){0==this.Ib.length&&this.gd();this.Ib.push(a)};\nh.Ja=function(a){Ka(this.Ib,function(b){return b==a});0==this.Ib.length&&this.rc()};h.gd=function(){var a=this;this.rc();var b=function(){a.Xc=ke(800).then(r(a.pf,a)).then(function(b){0<b.length&&x(a.Ib,function(a){a(b)})}).then(b).c(function(a){\"STOP_EVENT\"!=a.message&&b()});return a.Xc};b()};h.rc=function(){this.Xc&&this.Xc.cancel(\"STOP_EVENT\")};var xh=function(){this.td={Browser:uh,Node:vh,ReactNative:wh}[L()]},yh,uh={I:jh,kd:mh},vh={I:jh,kd:mh},wh={I:gh,kd:kh};var zh=function(a){var b={},c=a.email,d=a.newEmail;a=a.requestType;if(!c||!a)throw Error(\"Invalid provider user info!\");b.fromEmail=d||null;b.email=c;N(this,\"operation\",a);N(this,\"data\",Ef(b))};var Ah=\"First Second Third Fourth Fifth Sixth Seventh Eighth Ninth\".split(\" \"),S=function(a,b){return{name:a||\"\",fa:\"a valid string\",optional:!!b,ha:p}},T=function(a){return{name:a||\"\",fa:\"a valid object\",optional:!1,ha:ga}},Bh=function(a,b){return{name:a||\"\",fa:\"a function\",optional:!!b,ha:q}},Ch=function(){return{name:\"\",fa:\"null\",optional:!1,ha:ca}},Dh=function(){return{name:\"credential\",fa:\"a valid credential\",optional:!1,ha:function(a){return!(!a||!a.Ub)}}},Eh=function(){return{name:\"authProvider\",\nfa:\"a valid Auth provider\",optional:!1,ha:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty(\"isOAuthProvider\"))}}},Fh=function(a,b,c,d){return{name:c||\"\",fa:a.fa+\" or \"+b.fa,optional:!!d,ha:function(c){return a.ha(c)||b.ha(c)}}};var Hh=function(a,b){for(var c in b){var d=b[c].name;a[d]=Gh(d,a[c],b[c].a)}},U=function(a,b,c,d){a[b]=Gh(b,c,d)},Gh=function(a,b,c){if(!c)return b;var d=Ih(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var k;k=0;for(var n=!1,y=0;y<c.length;y++)if(c[y].optional)n=!0;else{if(n)throw new O(\"internal-error\",\"Argument validator encountered a required argument after an optional argument.\");k++}n=c.length;if(e.length<k||n<e.length)e=\"Expected \"+(k==n?1==\nk?\"1 argument\":k+\" arguments\":k+\"-\"+n+\" arguments\")+\" but got \"+e.length+\".\";else{for(k=0;k<e.length;k++)if(n=c[k].optional&&void 0===e[k],!c[k].ha(e[k])&&!n){e=c[k];if(0>k||k>=Ah.length)throw new O(\"internal-error\",\"Argument validator received an unsupported number of arguments.\");e=Ah[k]+\" argument \"+(e.name?'\"'+e.name+'\" ':\"\")+\"must be \"+e.fa+\".\";break a}e=null}}if(e)throw new O(\"argument-error\",d+\" failed: \"+e);return b.apply(this,a)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=\nb.prototype[e];return a},Ih=function(a){a=a.split(\".\");return a[a.length-1]};var Jh=function(a,b,c,d){this.Xe=a;this.Qd=b;this.ff=c;this.Gb=d;this.S={};yh||(yh=new xh);a=yh;try{var e;We()?(oh||(oh=new nh(\"firebaseLocalStorageDb\",\"firebaseLocalStorage\",\"fbase_key\",\"value\",1)),e=oh):e=new a.td.I;this.Ha=e}catch(f){this.Ha=new hh,this.Gb=!0}try{this.tc=new a.td.kd}catch(f){this.tc=new hh}this.hd=r(this.Ud,this);this.Y={}},Kh,Lh=function(){Kh||(Kh=new Jh(\"firebase\",\":\",!vf(K())&&lf()?!0:!1,rf()));return Kh};h=Jh.prototype;\nh.P=function(a,b){return this.Xe+this.Qd+a.name+(b?this.Qd+b:\"\")};h.get=function(a,b){return(a.I?this.Ha:this.tc).get(this.P(a,b))};h.remove=function(a,b){b=this.P(a,b);a.I&&!this.Gb&&(this.Y[b]=null);return(a.I?this.Ha:this.tc).remove(b)};h.set=function(a,b,c){var d=this.P(a,c),e=this,f=a.I?this.Ha:this.tc;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.I&&!this.Gb&&(e.Y[d]=b)})};\nh.addListener=function(a,b,c){a=this.P(a,b);this.Gb||(this.Y[a]=l.localStorage.getItem(a));Qa(this.S)&&this.gd();this.S[a]||(this.S[a]=[]);this.S[a].push(c)};h.removeListener=function(a,b,c){a=this.P(a,b);this.S[a]&&(Ka(this.S[a],function(a){return a==c}),0==this.S[a].length&&delete this.S[a]);Qa(this.S)&&this.rc()};h.gd=function(){this.Ha.Pa(this.hd);this.Gb||We()||Mh(this)};\nvar Mh=function(a){Nh(a);a.Sc=setInterval(function(){for(var b in a.S){var c=l.localStorage.getItem(b),d=a.Y[b];c!=d&&(a.Y[b]=c,c=new Jb({type:\"storage\",key:b,target:window,oldValue:d,newValue:c,bf:!0}),a.Ud(c))}},1E3)},Nh=function(a){a.Sc&&(clearInterval(a.Sc),a.Sc=null)};Jh.prototype.rc=function(){this.Ha.Ja(this.hd);Nh(this)};\nJh.prototype.Ud=function(a){if(a&&a.Ae){var b=a.Ua.key;\"undefined\"!==typeof a.Ua.bf?this.Ha.Ja(this.hd):Nh(this);if(this.ff){var c=l.localStorage.getItem(b);a=a.Ua.newValue;a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.Y[b]=l.localStorage.getItem(b);this.nd(b)}else x(a,r(this.nd,this))};Jh.prototype.nd=function(a){this.S[a]&&x(this.S[a],function(a){a()})};var Oh=function(a,b){this.u=a;this.i=b||Lh()},Ph={name:\"authEvent\",I:!0},Qh=function(a){return a.i.get(Ph,a.u).then(function(a){return Lf(a)})};Oh.prototype.Oa=function(a){this.i.addListener(Ph,this.u,a)};Oh.prototype.Fb=function(a){this.i.removeListener(Ph,this.u,a)};var Rh=function(a){this.i=a||Lh()},Sh={name:\"sessionId\",I:!1};Rh.prototype.Vb=function(a){return this.i.get(Sh,a)};var Th=function(a,b,c,d,e,f){this.v=a;this.j=b;this.B=c;this.za=d||null;this.Vd=b+\":\"+c;this.gf=new Rh;this.xd=new Oh(this.Vd);this.Oc=null;this.ia=[];this.Ne=e||500;this.df=f||2E3;this.tb=this.hc=null},Uh=function(a){return new O(\"invalid-cordova-configuration\",a)};\nTh.prototype.Da=function(){return this.Qc?this.Qc:this.Qc=jf().then(function(){if(\"function\"!==typeof M(\"universalLinks.subscribe\",l))throw Uh(\"cordova-universal-links-plugin is not installed\");if(\"undefined\"===typeof M(\"BuildInfo.packageName\",l))throw Uh(\"cordova-plugin-buildinfo is not installed\");if(\"function\"!==typeof M(\"cordova.plugins.browsertab.openUrl\",l))throw Uh(\"cordova-plugin-browsertab is not installed\");if(\"function\"!==typeof M(\"cordova.InAppBrowser.open\",l))throw Uh(\"cordova-plugin-inappbrowser is not installed\");\n},function(){throw new O(\"cordova-not-ready\");})};var Vh=function(){for(var a=20,b=[];0<a;)b.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),a--;return b.join(\"\")},Wh=function(a){var b=new Db;b.update(a);return ob(b.digest())};h=Th.prototype;h.Hb=function(a,b){b(new O(\"operation-not-supported-in-this-environment\"));return D()};h.Bb=function(){return E(new O(\"operation-not-supported-in-this-environment\"))};h.Wd=function(){return!1};h.Td=function(){return!0};\nh.Ad=function(){return!0};\nh.Cb=function(a,b,c){if(this.hc)return E(new O(\"redirect-operation-pending\"));var d=this,e=l.document,f=null,g=null,k=null,n=null;return this.hc=ld(D().then(function(){cg(b);return Xh(d)}).then(function(){return Yh(d,a,b,c)}).then(function(){return(new C(function(a,b){g=function(){var b=M(\"cordova.plugins.browsertab.close\",l);a();\"function\"===typeof b&&b();d.tb&&\"function\"===typeof d.tb.close&&(d.tb.close(),d.tb=null);return!1};d.Oa(g);k=function(){f||(f=ke(d.df).then(function(){b(new O(\"redirect-cancelled-by-user\"))}))};n=\nfunction(){var a=l.document;(a&&\"undefined\"!==typeof a.visibilityState?\"visible\"==a.visibilityState:1)&&k()};e.addEventListener(\"resume\",k,!1);K().toLowerCase().match(/android/)||e.addEventListener(\"visibilitychange\",n,!1)})).c(function(a){return Zh(d).then(function(){throw a;})})}),function(){k&&e.removeEventListener(\"resume\",k,!1);n&&e.removeEventListener(\"visibilitychange\",n,!1);f&&f.cancel();g&&d.Fb(g);d.hc=null})};\nvar Yh=function(a,b,c,d){var e=Vh(),f=new P(b,d,null,e,new O(\"no-auth-event\")),g=M(\"BuildInfo.packageName\",l);if(\"string\"!==typeof g)throw new O(\"invalid-cordova-configuration\");var k=M(\"BuildInfo.displayName\",l),n={};if(K().toLowerCase().match(/iphone|ipad|ipod/))n.ibi=g;else if(K().toLowerCase().match(/android/))n.apn=g;else return E(new O(\"operation-not-supported-in-this-environment\"));k&&(n.appDisplayName=k);e=Wh(e);n.sessionId=e;var y=fh(a.v,a.j,a.B,b,c,null,d,a.za,n);return a.Da().then(function(){var b=\na.Vd;return a.gf.i.set(Ph,f.D(),b)}).then(function(){var b=M(\"cordova.plugins.browsertab.isAvailable\",l);if(\"function\"!==typeof b)throw new O(\"invalid-cordova-configuration\");var c=null;b(function(b){if(b){c=M(\"cordova.plugins.browsertab.openUrl\",l);if(\"function\"!==typeof c)throw new O(\"invalid-cordova-configuration\");c(y)}else{c=M(\"cordova.InAppBrowser.open\",l);if(\"function\"!==typeof c)throw new O(\"invalid-cordova-configuration\");b=c;var d;d=K();d=!(!d.match(/(iPad|iPhone|iPod).*OS 7_\\d/i)&&!d.match(/(iPad|iPhone|iPod).*OS 8_\\d/i));\na.tb=b(y,d?\"_blank\":\"_system\",\"location=yes\")}})})},$h=function(a,b){for(var c=0;c<a.ia.length;c++)try{a.ia[c](b)}catch(d){}},Xh=function(a){a.Oc||(a.Oc=a.Da().then(function(){return new C(function(b){var c=function(d){b(d);a.Fb(c);return!1};a.Oa(c);ai(a)})}));return a.Oc},Zh=function(a){var b=null;return Qh(a.xd).then(function(c){b=c;c=a.xd;return c.i.remove(Ph,c.u)}).then(function(){return b})},ai=function(a){var b=M(\"universalLinks.subscribe\",l);if(\"function\"!==typeof b)throw new O(\"invalid-cordova-configuration\");\nvar c=new P(\"unknown\",null,null,null,new O(\"no-auth-event\")),d=!1,e=ke(a.Ne).then(function(){return Zh(a).then(function(){d||$h(a,c)})}),f=function(b){d=!0;e&&e.cancel();Zh(a).then(function(d){var e=c;if(d&&b&&b.url){var e=null,f;f=b.url;var g=Qe(f),k=Oe(g,\"link\"),n=Oe(Qe(k),\"link\"),g=Oe(g,\"deep_link_id\");f=Oe(Qe(g),\"link\")||g||n||k||f;-1!=f.indexOf(\"/__/auth/callback\")&&(e=Qe(f),e=uf(Oe(e,\"error\")||null),e=(e=\"object\"===typeof e?Kf(e):null)?new P(d.ga,d.F,null,null,e):new P(d.ga,d.F,f,d.Vb()));e=\ne||c}$h(a,e)})},g=l.handleOpenURL;l.handleOpenURL=function(a){0==a.indexOf(M(\"BuildInfo.packageName\",l)+\"://\")&&f({url:a});if(\"function\"===typeof g)try{g(a)}catch(n){console.error(n)}};b(null,f)};Th.prototype.Oa=function(a){this.ia.push(a);Xh(this).c(function(){})};Th.prototype.Fb=function(a){Ka(this.ia,function(b){return b==a})};var bi=function(a){this.u=a;this.i=Lh()},ci={name:\"pendingRedirect\",I:!1},di=function(a){return a.i.set(ci,\"pending\",a.u)},ei=function(a){return a.i.remove(ci,a.u)},fi=function(a){return a.i.get(ci,a.u).then(function(a){return\"pending\"==a})};var V=function(a,b,c){this.v=a;this.j=b;this.B=c;this.Jb=[];this.Za=!1;this.Cc=r(this.Mc,this);this.cb=new gi(this);this.Kd=new hi(this);this.yb=new bi(this.j+\":\"+this.B);this.lb={};this.lb.unknown=this.cb;this.lb.signInViaRedirect=this.cb;this.lb.linkViaRedirect=this.cb;this.lb.signInViaPopup=this.Kd;this.lb.linkViaPopup=this.Kd;this.G=ii(this.v,this.j,this.B)},ii=function(a,b,c){var d=firebase.SDK_VERSION||null;return hf()?new Th(a,b,c,d):new bh(a,b,c,d)};\nV.prototype.reset=function(){this.Za=!1;this.G.Fb(this.Cc);this.G=ii(this.v,this.j,this.B)};V.prototype.ub=function(){var a=this;this.Za||(this.Za=!0,this.G.Oa(this.Cc));var b=this.G;return this.G.Da().c(function(c){a.G==b&&a.reset();throw c;})};var li=function(a){a.G.Td()&&a.ub().c(function(b){var c=new P(\"unknown\",null,null,null,new O(\"operation-not-supported-in-this-environment\"));ji(b)&&a.Mc(c)});a.G.Ad()||ki(a.cb)};\nV.prototype.subscribe=function(a){Ha(this.Jb,a)||this.Jb.push(a);if(!this.Za){var b=this;fi(this.yb).then(function(a){a?ei(b.yb).then(function(){b.ub().c(function(a){var c=new P(\"unknown\",null,null,null,new O(\"operation-not-supported-in-this-environment\"));ji(a)&&b.Mc(c)})}):li(b)}).c(function(){li(b)})}};V.prototype.unsubscribe=function(a){Ka(this.Jb,function(b){return b==a})};\nV.prototype.Mc=function(a){if(!a)throw new O(\"invalid-auth-event\");for(var b=!1,c=0;c<this.Jb.length;c++){var d=this.Jb[c];if(d.od(a.ga,a.F)){(b=this.lb[a.ga])&&b.Ld(a,d);b=!0;break}}ki(this.cb);return b};var mi=new yf(2E3,1E4),ni=new yf(3E4,6E4);V.prototype.getRedirectResult=function(){return this.cb.getRedirectResult()};V.prototype.Bb=function(a,b,c,d,e){var f=this;return this.G.Bb(a,b,c,function(){f.Za||(f.Za=!0,f.G.Oa(f.Cc))},function(){f.reset()},d,e)};\nvar ji=function(a){return a&&\"auth/cordova-not-ready\"==a.code?!0:!1};V.prototype.Cb=function(a,b,c){var d=this,e;return di(this.yb).then(function(){return d.G.Cb(a,b,c).c(function(a){if(ji(a))throw new O(\"operation-not-supported-in-this-environment\");e=a;return ei(d.yb).then(function(){throw e;})}).then(function(){return d.G.Wd()?new C(function(){}):ei(d.yb).then(function(){return d.getRedirectResult()}).then(function(){}).c(function(){})})})};\nV.prototype.Hb=function(a,b,c,d){return this.G.Hb(c,function(c){a.Ka(b,null,c,d)},mi.get())};var oi={},pi=function(a,b,c){var d=b+\":\"+c;oi[d]||(oi[d]=new V(a,b,c));return oi[d]},gi=function(a){this.i=a;this.gb=null;this.Eb=[];this.Db=[];this.eb=null;this.$c=!1};gi.prototype.reset=function(){this.gb=null;this.eb&&(this.eb.cancel(),this.eb=null)};\ngi.prototype.Ld=function(a,b){if(!a)return E(new O(\"invalid-auth-event\"));this.reset();this.$c=!0;var c=a.ga,d=a.F,e=a.getError()&&\"auth/web-storage-unsupported\"==a.getError().code,f=a.getError()&&\"auth/operation-not-supported-in-this-environment\"==a.getError().code;\"unknown\"!=c||e||f?a=a.O?this.Yc(a,b):b.qb(c,d)?this.Zc(a,b):E(new O(\"invalid-auth-event\")):(qi(this,!1,null,null),a=D());return a};var ki=function(a){a.$c||(a.$c=!0,qi(a,!1,null,null))};\ngi.prototype.Yc=function(a){qi(this,!0,null,a.getError());return D()};gi.prototype.Zc=function(a,b){var c=this,d=a.ga;b=b.qb(d,a.F);var e=a.mb;a=a.Vb();var f=\"signInViaRedirect\"==d||\"linkViaRedirect\"==d;return b(e,a).then(function(a){qi(c,f,a,null)}).c(function(a){qi(c,f,null,a)})};\nvar ri=function(a,b){a.gb=function(){return E(b)};if(a.Db.length)for(var c=0;c<a.Db.length;c++)a.Db[c](b)},si=function(a,b){a.gb=function(){return D(b)};if(a.Eb.length)for(var c=0;c<a.Eb.length;c++)a.Eb[c](b)},qi=function(a,b,c,d){b?d?ri(a,d):si(a,c):si(a,{user:null});a.Eb=[];a.Db=[]};gi.prototype.getRedirectResult=function(){var a=this;return new C(function(b,c){a.gb?a.gb().then(b,c):(a.Eb.push(b),a.Db.push(c),ti(a))})};\nvar ti=function(a){var b=new O(\"timeout\");a.eb&&a.eb.cancel();a.eb=ke(ni.get()).then(function(){a.gb||qi(a,!0,null,b)})},hi=function(a){this.i=a};hi.prototype.Ld=function(a,b){if(!a)return E(new O(\"invalid-auth-event\"));var c=a.ga,d=a.F;return a.O?this.Yc(a,b):b.qb(c,d)?this.Zc(a,b):E(new O(\"invalid-auth-event\"))};hi.prototype.Yc=function(a,b){b.Ka(a.ga,null,a.getError(),a.F);return D()};\nhi.prototype.Zc=function(a,b){var c=a.F,d=a.ga,e=b.qb(d,c),f=a.mb;a=a.Vb();return e(f,a).then(function(a){b.Ka(d,a,null,c)}).c(function(a){b.Ka(d,null,a,c)})};var ui=function(a){this.g=a;this.xa=this.W=null;this.Va=0};ui.prototype.D=function(){return{apiKey:this.g.j,refreshToken:this.W,accessToken:this.xa,expirationTime:this.Va}};\nvar wi=function(a,b){var c=b.idToken,d=b.refreshToken;b=vi(b.expiresIn);a.xa=c;a.Va=b;a.W=d},vi=function(a){return ka()+1E3*parseInt(a,10)},xi=function(a,b){return og(a.g,b).then(function(b){a.xa=b.access_token;a.Va=vi(b.expires_in);a.W=b.refresh_token;return{accessToken:a.xa,expirationTime:a.Va,refreshToken:a.W}}).c(function(b){\"auth/user-token-expired\"==b.code&&(a.W=null);throw b;})},yi=function(a){return!(!a.xa||a.W)};\nui.prototype.getToken=function(a){a=!!a;return yi(this)?E(new O(\"user-token-expired\")):a||!this.xa||ka()>this.Va-3E4?this.W?xi(this,{grant_type:\"refresh_token\",refresh_token:this.W}):D(null):D({accessToken:this.xa,expirationTime:this.Va,refreshToken:this.W})};var zi=function(a,b,c,d,e){Bf(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},Ai=function(a,b){Ib.call(this,a);for(var c in b)this[c]=b[c]};t(Ai,Ib);\nvar W=function(a,b,c){this.Z=[];this.j=a.apiKey;this.B=a.appName;this.v=a.authDomain||null;a=firebase.SDK_VERSION?nf(firebase.SDK_VERSION):null;this.g=new R(this.j,null,a);this.ea=new ui(this.g);Bi(this,b.idToken);wi(this.ea,b);N(this,\"refreshToken\",this.ea.W);Ci(this,c||{});Od.call(this);this.ic=!1;this.v&&qf()&&(this.m=pi(this.v,this.j,this.B));this.qc=[];this.Bc=D()};t(W,Od);\nW.prototype.ta=function(a,b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.Bc=this.Bc.then(function(){return a.apply(d,c)},function(){return a.apply(d,c)})};\nvar Bi=function(a,b){a.Ed=b;N(a,\"_lat\",b)},Di=function(a,b){Ka(a.qc,function(a){return a==b})},Ei=function(a){for(var b=[],c=0;c<a.qc.length;c++)b.push(a.qc[c](a));return id(b).then(function(){return a})},Fi=function(a){a.m&&!a.ic&&(a.ic=!0,a.m.subscribe(a))},Ci=function(a,b){Bf(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};N(W.prototype,\"providerId\",\"firebase\");\nvar Gi=function(){},Hi=function(a){return D().then(function(){if(a.re)throw new O(\"app-deleted\");})},Ii=function(a){return Da(a.providerData,function(a){return a.providerId})},Ki=function(a,b){b&&(Ji(a,b.providerId),a.providerData.push(b))},Ji=function(a,b){Ka(a.providerData,function(a){return a.providerId==b})},Li=function(a,b,c){(\"uid\"!=b||c)&&a.hasOwnProperty(b)&&N(a,b,c)};\nW.prototype.copy=function(a){var b=this;b!=a&&(Bf(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),x(a.providerData,function(a){Ki(b,a)}),this.ea=a.ea,N(this,\"refreshToken\",this.ea.W))};W.prototype.reload=function(){var a=this;return Hi(this).then(function(){return Mi(a).then(function(){return Ei(a)}).then(Gi)})};\nvar Mi=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return Ni(a,b).then(function(){c||Li(a,\"isAnonymous\",!1);return b}).c(function(b){\"auth/user-token-expired\"==b.code&&(a.dispatchEvent(new Ai(\"userDeleted\")),Oi(a));throw b;})})};\nW.prototype.getToken=function(a){var b=this,c=yi(this.ea);return Hi(this).then(function(){return b.ea.getToken(a)}).then(function(a){if(!a)throw new O(\"internal-error\");a.accessToken!=b.Ed&&(Bi(b,a.accessToken),b.Ea());Li(b,\"refreshToken\",a.refreshToken);return a.accessToken}).c(function(a){if(\"auth/user-token-expired\"==a.code&&!c)return Ei(b).then(function(){Li(b,\"refreshToken\",null);throw a;});throw a;})};\nvar Pi=function(a,b){b.idToken&&a.Ed!=b.idToken&&(wi(a.ea,b),a.Ea(),Bi(a,b.idToken),Li(a,\"refreshToken\",a.ea.W))};W.prototype.Ea=function(){this.dispatchEvent(new Ai(\"tokenChanged\"))};var Ni=function(a,b){return Q(a.g,Og,{idToken:b}).then(r(a.af,a))};\nW.prototype.af=function(a){a=a.users;if(!a||!a.length)throw new O(\"internal-error\");a=a[0];Ci(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=Qi(a),c=0;c<b.length;c++)Ki(this,b[c]);Li(this,\"isAnonymous\",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};\nvar Qi=function(a){return(a=a.providerUserInfo)&&a.length?Da(a,function(a){return new zi(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};\nW.prototype.reauthenticate=function(a){var b=this;return this.f(a.Ub(this.g).then(function(a){var c;a:{var e=a.idToken.split(\".\");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++)e+=\".\";try{var k=JSON.parse(sb(e));if(k.sub&&k.iss&&k.aud&&k.exp){c=new Nf(k);break a}}catch(n){}}c=null}if(!c||b.uid!=c.Te)throw new O(\"user-mismatch\");Pi(b,a);return b.reload()}))};\nvar Ri=function(a,b){return Mi(a).then(function(){if(Ha(Ii(a),b))return Ei(a).then(function(){throw new O(\"provider-already-linked\");})})};h=W.prototype;h.Re=function(a){var b=this;return this.f(Ri(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.Gd(b.g,c)}).then(r(this.vd,this)))};h.link=function(a){return this.ta(this.Re,a)};h.vd=function(a){Pi(this,a);var b=this;return this.reload().then(function(){return b})};\nh.uf=function(a){var b=this;return this.f(this.getToken().then(function(c){return b.g.updateEmail(c,a)}).then(function(a){Pi(b,a);return b.reload()}))};h.updateEmail=function(a){return this.ta(this.uf,a)};h.vf=function(a){var b=this;return this.f(this.getToken().then(function(c){return b.g.updatePassword(c,a)}).then(function(a){Pi(b,a);return b.reload()}))};h.updatePassword=function(a){return this.ta(this.vf,a)};\nh.wf=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Hi(this);var b=this;return this.f(this.getToken().then(function(c){return b.g.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){Pi(b,a);Li(b,\"displayName\",a.displayName||null);Li(b,\"photoURL\",a.photoUrl||null);return Ei(b)}).then(Gi))};h.updateProfile=function(a){return this.ta(this.wf,a)};\nh.tf=function(a){var b=this;return this.f(Mi(this).then(function(c){return Ha(Ii(b),a)?Dg(b.g,c,[a]).then(function(a){var c={};x(a.providerUserInfo||[],function(a){c[a.providerId]=!0});x(Ii(b),function(a){c[a]||Ji(b,a)});return Ei(b)}):Ei(b).then(function(){throw new O(\"no-such-provider\");})}))};h.unlink=function(a){return this.ta(this.tf,a)};h.qe=function(){var a=this;return this.f(this.getToken().then(function(b){return Q(a.g,Ng,{idToken:b})}).then(function(){a.dispatchEvent(new Ai(\"userDeleted\"))})).then(function(){Oi(a)})};\nh[\"delete\"]=function(){return this.ta(this.qe)};h.od=function(a,b){return\"linkViaPopup\"==a&&(this.la||null)==b&&this.ca||\"linkViaRedirect\"==a&&(this.mc||null)==b?!0:!1};h.Ka=function(a,b,c,d){\"linkViaPopup\"==a&&d==(this.la||null)&&(c&&this.Ga?this.Ga(c):b&&!c&&this.ca&&this.ca(b),this.J&&(this.J.cancel(),this.J=null),delete this.ca,delete this.Ga)};h.qb=function(a,b){return\"linkViaPopup\"==a&&b==(this.la||null)||\"linkViaRedirect\"==a&&(this.mc||null)==b?r(this.ue,this):null};\nh.Tb=function(){return pf(this.uid+\":::\")};\nvar Ti=function(a,b){if(!qf())return E(new O(\"operation-not-supported-in-this-environment\"));var c=Hf(b.providerId),d=a.Tb(),e=null;(!rf()||lf())&&a.v&&b.isOAuthProvider&&(e=fh(a.v,a.j,a.B,\"linkViaPopup\",b,null,d,firebase.SDK_VERSION||null));var f=df(e,c&&c.Ab,c&&c.zb),c=Ri(a,b.providerId).then(function(){return Ei(a)}).then(function(){Si(a);return a.getToken()}).then(function(){return a.m.Bb(f,\"linkViaPopup\",b,d,!!e)}).then(function(){return new C(function(b,c){a.Ka(\"linkViaPopup\",null,new O(\"cancelled-popup-request\"),\na.la||null);a.ca=b;a.Ga=c;a.la=d;a.J=a.m.Hb(a,\"linkViaPopup\",f,d)})}).then(function(a){f&&cf(f);return a}).c(function(a){f&&cf(f);throw a;});return a.f(c)};W.prototype.linkWithPopup=function(a){var b=Ti(this,a);return this.ta(function(){return b})};\nW.prototype.Se=function(a){if(!qf())return E(new O(\"operation-not-supported-in-this-environment\"));var b=this,c=null,d=this.Tb(),e=Ri(this,a.providerId).then(function(){Si(b);return b.getToken()}).then(function(){b.mc=d;return Ei(b)}).then(function(a){b.Ia&&(a=b.Ia,a=a.i.set(Ui,b.D(),a.u));return a}).then(function(){return b.m.Cb(\"linkViaRedirect\",a,d)}).c(function(a){c=a;if(b.Ia)return Vi(b.Ia);throw c;}).then(function(){if(c)throw c;});return this.f(e)};\nW.prototype.linkWithRedirect=function(a){return this.ta(this.Se,a)};var Si=function(a){if(!a.m||!a.ic){if(a.m&&!a.ic)throw new O(\"internal-error\");throw new O(\"auth-domain-config-required\");}};W.prototype.ue=function(a,b){var c=this;this.J&&(this.J.cancel(),this.J=null);var d=null,e=this.getToken().then(function(d){return Rf(c.g,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=bg(a);return c.vd(a)}).then(function(a){return{user:a,credential:d}});return this.f(e)};\nW.prototype.sendEmailVerification=function(){var a=this;return this.f(this.getToken().then(function(b){return a.g.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var Oi=function(a){for(var b=0;b<a.Z.length;b++)a.Z[b].cancel(\"app-deleted\");a.Z=[];a.re=!0;N(a,\"refreshToken\",null);a.m&&a.m.unsubscribe(a)};W.prototype.f=function(a){var b=this;this.Z.push(a);ld(a,function(){Ja(b.Z,a)});return a};W.prototype.toJSON=function(){return this.D()};\nW.prototype.D=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.B,authDomain:this.v,stsTokenManager:this.ea.D(),redirectEventId:this.mc||null};x(this.providerData,function(b){a.providerData.push(Cf(b))});return a};\nvar Wi=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-ka())/1E3;else return null;var d=new W(b,c,a);a.providerData&&x(a.providerData,function(a){if(a){var b={};Bf(b,a);Ki(d,b)}});a.redirectEventId&&(d.mc=a.redirectEventId);\nreturn d},Xi=function(a,b,c){var d=new W(a,b);c&&(d.Ia=c);return d.reload().then(function(){return d})};var Yi=function(a){this.u=a;this.i=Lh()},Ui={name:\"redirectUser\",I:!1},Vi=function(a){return a.i.remove(Ui,a.u)},Zi=function(a,b){return a.i.get(Ui,a.u).then(function(a){a&&b&&(a.authDomain=b);return Wi(a||{})})};var $i=function(a){this.u=a;this.i=Lh()},aj={name:\"authUser\",I:!0},bj=function(a,b){return a.i.set(aj,b.D(),a.u)},cj=function(a){return a.i.remove(aj,a.u)},dj=function(a,b){return a.i.get(aj,a.u).then(function(a){a&&b&&(a.authDomain=b);return Wi(a||{})})};var Y=function(a){this.Sa=!1;N(this,\"app\",a);if(X(this).options&&X(this).options.apiKey)a=firebase.SDK_VERSION?nf(firebase.SDK_VERSION):null,this.g=new R(X(this).options&&X(this).options.apiKey,null,a);else throw new O(\"invalid-api-key\");this.Z=[];this.Qa=[];this.Ze=firebase.INTERNAL.createSubscribe(r(this.Le,this));ej(this,null);this.oa=new $i(X(this).options.apiKey+\":\"+X(this).name);this.fb=new Yi(X(this).options.apiKey+\":\"+X(this).name);this.Ob=this.f(fj(this));this.ua=this.f(gj(this));this.Rc=\n!1;this.Lc=r(this.nf,this);this.Yd=r(this.Xa,this);this.Zd=r(this.He,this);this.Xd=r(this.Ge,this);hj(this);this.INTERNAL={};this.INTERNAL[\"delete\"]=r(this[\"delete\"],this)};Y.prototype.toJSON=function(){return{apiKey:X(this).options.apiKey,authDomain:X(this).options.authDomain,appName:X(this).name,currentUser:Z(this)&&Z(this).D()}};\nvar ij=function(a){return a.se||E(new O(\"auth-domain-config-required\"))},hj=function(a){var b=X(a).options.authDomain,c=X(a).options.apiKey;b&&qf()&&(a.se=a.Ob.then(function(){if(!a.Sa)return a.m=pi(b,c,X(a).name),a.m.subscribe(a),Z(a)&&Fi(Z(a)),a.bd&&(Fi(a.bd),a.bd=null),a.m}))};h=Y.prototype;h.od=function(a,b){switch(a){case \"unknown\":case \"signInViaRedirect\":return!0;case \"signInViaPopup\":return this.la==b&&!!this.ca;default:return!1}};\nh.Ka=function(a,b,c,d){\"signInViaPopup\"==a&&this.la==d&&(c&&this.Ga?this.Ga(c):b&&!c&&this.ca&&this.ca(b),this.J&&(this.J.cancel(),this.J=null),delete this.ca,delete this.Ga)};h.qb=function(a,b){return\"signInViaRedirect\"==a||\"signInViaPopup\"==a&&this.la==b&&this.ca?r(this.ve,this):null};\nh.ve=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.J&&(this.J.cancel(),this.J=null);var d=null,e=Pf(c.g,a).then(function(a){d=bg(a);return a});a=c.Ob.then(function(){return e}).then(function(a){return jj(c,a)}).then(function(){return{user:Z(c),credential:d}});return this.f(a)};h.Tb=function(){return pf()};\nh.signInWithPopup=function(a){if(!qf())return E(new O(\"operation-not-supported-in-this-environment\"));var b=this,c=Hf(a.providerId),d=this.Tb(),e=null;(!rf()||lf())&&X(this).options.authDomain&&a.isOAuthProvider&&(e=fh(X(this).options.authDomain,X(this).options.apiKey,X(this).name,\"signInViaPopup\",a,null,d,firebase.SDK_VERSION||null));var f=df(e,c&&c.Ab,c&&c.zb),c=ij(this).then(function(b){return b.Bb(f,\"signInViaPopup\",a,d,!!e)}).then(function(){return new C(function(a,c){b.Ka(\"signInViaPopup\",null,\nnew O(\"cancelled-popup-request\"),b.la);b.ca=a;b.Ga=c;b.la=d;b.J=b.m.Hb(b,\"signInViaPopup\",f,d)})}).then(function(a){f&&cf(f);return a}).c(function(a){f&&cf(f);throw a;});return this.f(c)};h.signInWithRedirect=function(a){if(!qf())return E(new O(\"operation-not-supported-in-this-environment\"));var b=this,c=ij(this).then(function(){return b.m.Cb(\"signInViaRedirect\",a)});return this.f(c)};\nh.getRedirectResult=function(){if(!qf())return E(new O(\"operation-not-supported-in-this-environment\"));var a=this,b=ij(this).then(function(){return a.m.getRedirectResult()});return this.f(b)};\nvar jj=function(a,b){var c={};c.apiKey=X(a).options.apiKey;c.authDomain=X(a).options.authDomain;c.appName=X(a).name;return a.Ob.then(function(){return Xi(c,b,a.fb)}).then(function(b){if(Z(a)&&b.uid==Z(a).uid)return Z(a).copy(b),a.Xa(b);ej(a,b);Fi(b);return a.Xa(b)}).then(function(){a.Ea()})},ej=function(a,b){Z(a)&&(Di(Z(a),a.Yd),cc(Z(a),\"tokenChanged\",a.Zd),cc(Z(a),\"userDeleted\",a.Xd));b&&(b.qc.push(a.Yd),Ub(b,\"tokenChanged\",a.Zd),Ub(b,\"userDeleted\",a.Xd));N(a,\"currentUser\",b)};\nY.prototype.signOut=function(){var a=this,b=this.ua.then(function(){if(!Z(a))return D();ej(a,null);return cj(a.oa).then(function(){a.Ea()})});return this.f(b)};\nvar kj=function(a){var b=Zi(a.fb,X(a).options.authDomain).then(function(b){if(a.bd=b)b.Ia=a.fb;return Vi(a.fb)});return a.f(b)},fj=function(a){var b=X(a).options.authDomain,c=kj(a).then(function(){return dj(a.oa,b)}).then(function(b){return b?(b.Ia=a.fb,b.reload().then(function(){return bj(a.oa,b).then(function(){return b})}).c(function(c){return\"auth/network-request-failed\"==c.code?b:cj(a.oa)})):null}).then(function(b){ej(a,b||null)});return a.f(c)},gj=function(a){return a.Ob.then(function(){return a.getRedirectResult()}).c(function(){}).then(function(){if(!a.Sa)return a.Lc()}).c(function(){}).then(function(){if(!a.Sa){a.Rc=\n!0;var b=a.oa;b.i.addListener(aj,b.u,a.Lc)}})};Y.prototype.nf=function(){var a=this;return dj(this.oa,X(this).options.authDomain).then(function(b){if(!a.Sa){var c;if(c=Z(a)&&b){c=Z(a).uid;var d=b.uid;c=void 0===c||null===c||\"\"===c||void 0===d||null===d||\"\"===d?!1:c==d}if(c)return Z(a).copy(b),Z(a).getToken();if(Z(a)||b)ej(a,b),b&&(Fi(b),b.Ia=a.fb),a.m&&a.m.subscribe(a),a.Ea()}})};Y.prototype.Xa=function(a){return bj(this.oa,a)};Y.prototype.He=function(){this.Ea();this.Xa(Z(this))};\nY.prototype.Ge=function(){this.signOut()};var lj=function(a,b){return a.f(b.then(function(b){return jj(a,b)}).then(function(){return Z(a)}))};h=Y.prototype;h.Le=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Z(b))})};h.onAuthStateChanged=function(a,b,c){var d=this;this.Rc&&firebase.Promise.resolve().then(function(){q(a)?a(Z(d)):q(a.next)&&a.next(Z(d))});return this.Ze(a,b,c)};\nh.getToken=function(a){var b=this,c=this.ua.then(function(){return Z(b)?Z(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.f(c)};h.signInWithCustomToken=function(a){var b=this;return this.ua.then(function(){return lj(b,Q(b.g,Pg,{token:a}))}).then(function(a){Li(a,\"isAnonymous\",!1);return b.Xa(a)}).then(function(){return Z(b)})};h.signInWithEmailAndPassword=function(a,b){var c=this;return this.ua.then(function(){return lj(c,Q(c.g,Yf,{email:a,password:b}))})};\nh.createUserWithEmailAndPassword=function(a,b){var c=this;return this.ua.then(function(){return lj(c,Q(c.g,Mg,{email:a,password:b}))})};h.signInWithCredential=function(a){var b=this;return this.ua.then(function(){return lj(b,a.Ub(b.g))})};h.signInAnonymously=function(){var a=Z(this),b=this;return a&&a.isAnonymous?D(a):this.ua.then(function(){return lj(b,b.g.signInAnonymously())}).then(function(a){Li(a,\"isAnonymous\",!0);return b.Xa(a)}).then(function(){return Z(b)})};\nvar X=function(a){return a.app},Z=function(a){return a.currentUser};h=Y.prototype;h.Ea=function(){if(this.Rc)for(var a=0;a<this.Qa.length;a++)if(this.Qa[a])this.Qa[a](Z(this)&&Z(this)._lat||null)};h.addAuthTokenListener=function(a){var b=this;this.Qa.push(a);this.f(this.ua.then(function(){b.Sa||Ha(b.Qa,a)&&a(Z(b)&&Z(b)._lat||null)}))};h.removeAuthTokenListener=function(a){Ka(this.Qa,function(b){return b==a})};\nh[\"delete\"]=function(){this.Sa=!0;for(var a=0;a<this.Z.length;a++)this.Z[a].cancel(\"app-deleted\");this.Z=[];this.oa&&(a=this.oa,a.i.removeListener(aj,a.u,this.Lc));this.m&&this.m.unsubscribe(this);return firebase.Promise.resolve()};h.f=function(a){var b=this;this.Z.push(a);ld(a,function(){Ja(b.Z,a)});return a};h.fetchProvidersForEmail=function(a){return this.f(tg(this.g,a))};h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};\nh.confirmPasswordReset=function(a,b){return this.f(this.g.confirmPasswordReset(a,b).then(function(){}))};h.checkActionCode=function(a){return this.f(this.g.checkActionCode(a).then(function(a){return new zh(a)}))};h.applyActionCode=function(a){return this.f(this.g.applyActionCode(a).then(function(){}))};h.sendPasswordResetEmail=function(a){return this.f(this.g.sendPasswordResetEmail(a).then(function(){}))};Hh(Y.prototype,{applyActionCode:{name:\"applyActionCode\",a:[S(\"code\")]},checkActionCode:{name:\"checkActionCode\",a:[S(\"code\")]},confirmPasswordReset:{name:\"confirmPasswordReset\",a:[S(\"code\"),S(\"newPassword\")]},createUserWithEmailAndPassword:{name:\"createUserWithEmailAndPassword\",a:[S(\"email\"),S(\"password\")]},fetchProvidersForEmail:{name:\"fetchProvidersForEmail\",a:[S(\"email\")]},getRedirectResult:{name:\"getRedirectResult\",a:[]},onAuthStateChanged:{name:\"onAuthStateChanged\",a:[Fh(T(),Bh(),\"nextOrObserver\"),\nBh(\"opt_error\",!0),Bh(\"opt_completed\",!0)]},sendPasswordResetEmail:{name:\"sendPasswordResetEmail\",a:[S(\"email\")]},signInAnonymously:{name:\"signInAnonymously\",a:[]},signInWithCredential:{name:\"signInWithCredential\",a:[Dh()]},signInWithCustomToken:{name:\"signInWithCustomToken\",a:[S(\"token\")]},signInWithEmailAndPassword:{name:\"signInWithEmailAndPassword\",a:[S(\"email\"),S(\"password\")]},signInWithPopup:{name:\"signInWithPopup\",a:[Eh()]},signInWithRedirect:{name:\"signInWithRedirect\",a:[Eh()]},signOut:{name:\"signOut\",\na:[]},toJSON:{name:\"toJSON\",a:[S(null,!0)]},verifyPasswordResetCode:{name:\"verifyPasswordResetCode\",a:[S(\"code\")]}});\nHh(W.prototype,{\"delete\":{name:\"delete\",a:[]},getToken:{name:\"getToken\",a:[{name:\"opt_forceRefresh\",fa:\"a boolean\",optional:!0,ha:function(a){return\"boolean\"==typeof a}}]},link:{name:\"link\",a:[Dh()]},linkWithPopup:{name:\"linkWithPopup\",a:[Eh()]},linkWithRedirect:{name:\"linkWithRedirect\",a:[Eh()]},reauthenticate:{name:\"reauthenticate\",a:[Dh()]},reload:{name:\"reload\",a:[]},sendEmailVerification:{name:\"sendEmailVerification\",a:[]},toJSON:{name:\"toJSON\",a:[S(null,!0)]},unlink:{name:\"unlink\",a:[S(\"provider\")]},\nupdateEmail:{name:\"updateEmail\",a:[S(\"email\")]},updatePassword:{name:\"updatePassword\",a:[S(\"password\")]},updateProfile:{name:\"updateProfile\",a:[T(\"profile\")]}});Hh(C.prototype,{c:{name:\"catch\"},then:{name:\"then\"}});U($f,\"credential\",function(a,b){return new Xf(a,b)},[S(\"email\"),S(\"password\")]);Hh(Tf.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(Tf,\"credential\",Tf.credential,[Fh(S(),T(),\"token\")]);\nHh(Uf.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(Uf,\"credential\",Uf.credential,[Fh(S(),T(),\"token\")]);Hh(Vf.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(Vf,\"credential\",Vf.credential,[Fh(S(),Fh(T(),Ch()),\"idToken\"),Fh(S(),Ch(),\"accessToken\",!0)]);Hh(Wf.prototype,{setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});\nU(Wf,\"credential\",Wf.credential,[Fh(S(),T(),\"token\"),S(\"secret\",!0)]);\n(function(){if(\"undefined\"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:Y,Error:O};U(a,\"EmailAuthProvider\",$f,[]);U(a,\"FacebookAuthProvider\",Tf,[]);U(a,\"GithubAuthProvider\",Uf,[]);U(a,\"GoogleAuthProvider\",Vf,[]);U(a,\"TwitterAuthProvider\",Wf,[]);firebase.INTERNAL.registerService(\"auth\",function(a,c){a=new Y(a);c({INTERNAL:{getToken:r(a.getToken,a),addAuthTokenListener:r(a.addAuthTokenListener,a),removeAuthTokenListener:r(a.removeAuthTokenListener,a)}});return a},\na,function(a,c){if(\"create\"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:W})}else throw Error(\"Cannot find the firebase namespace; be sure to include firebase-app.js before this library.\");})();}).call(this);\n}).call(typeof global !== undefined ? global : typeof self !== undefined ? self : typeof window !== undefined ? window : {});\nmodule.exports = firebase.auth;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.9\n    Build: 3.6.9-rc.1\n    Terms: https://firebase.google.com/terms/\n\n    ---\n\n    typedarray.js\n    Copyright (c) 2010, Linden Research, Inc.\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights\n    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n    copies of the Software, and to permit persons to whom the Software is\n    furnished to do so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in\n    all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n    THE SOFTWARE. */\n(function() {var g,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.Vb=function(){return a.Ye?a.Ye:a.Ye=new a}}\nfunction da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function ea(a){return\"array\"==da(a)}function fa(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function p(a){return\"string\"==typeof a}function ga(a){return\"number\"==typeof a}function ha(a){return\"function\"==da(a)}function ia(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ja:ka;return q.apply(null,arguments)}\nfunction la(a,b){function c(){}c.prototype=b.prototype;a.wg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function ma(){this.Wa=-1};function na(){this.Wa=-1;this.Wa=64;this.M=[];this.Vd=[];this.Af=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Wa;++a)this.zd[a]=0;this.Pd=this.$b=0;this.reset()}la(na,ma);na.prototype.reset=function(){this.M[0]=1732584193;this.M[1]=4023233417;this.M[2]=2562383102;this.M[3]=271733878;this.M[4]=3285377520;this.Pd=this.$b=0};\nfunction oa(a,b,c){c||(c=0);var d=a.Af;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.M[0];c=a.M[1];for(var h=a.M[2],k=a.M[3],l=a.M[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),m=1518500249):(f=c^h^k,m=1859775393):60>e?(f=c&h|k&(c|h),m=2400959708):(f=c^h^k,m=3395469782),f=(b<<\n5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.M[0]=a.M[0]+b&4294967295;a.M[1]=a.M[1]+c&4294967295;a.M[2]=a.M[2]+h&4294967295;a.M[3]=a.M[3]+k&4294967295;a.M[4]=a.M[4]+l&4294967295}\nna.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Wa,d=0,e=this.Vd,f=this.$b;d<b;){if(0==f)for(;d<=c;)oa(this,a,d),d+=this.Wa;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Wa){oa(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Wa){oa(this,e);f=0;break}}this.$b=f;this.Pd+=b}};function r(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function pa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function qa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function ra(a){var b=0,c;for(c in a)b++;return b}function sa(a){for(var b in a)return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function va(a,b){for(var c in a)if(a[c]==b)return!0;return!1}\nfunction wa(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function xa(a,b){var c=wa(a,b,void 0);return c&&a[c]}function ya(a){for(var b in a)return!1;return!0}function za(a){var b={},c;for(c in a)b[c]=a[c];return b};function Aa(a){a=String(a);if(/^\\s*$/.test(a)?0:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);}function Ba(){this.Fd=void 0}\nfunction Ca(a,b,c){switch(typeof b){case \"string\":Da(b,c);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?b:\"null\");break;case \"boolean\":c.push(b);break;case \"undefined\":c.push(\"null\");break;case \"object\":if(null==b){c.push(\"null\");break}if(ea(b)){var d=b.length;c.push(\"[\");for(var e=\"\",f=0;f<d;f++)c.push(e),e=b[f],Ca(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=\",\";c.push(\"]\");break}c.push(\"{\");d=\"\";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],\"function\"!=typeof e&&(c.push(d),Da(f,c),\nc.push(\":\"),Ca(a,a.Fd?a.Fd.call(b,f,e):e,c),d=\",\"));c.push(\"}\");break;case \"function\":break;default:throw Error(\"Unknown type: \"+typeof b);}}var Ea={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},Fa=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Da(a,b){b.push('\"',a.replace(Fa,function(a){if(a in Ea)return Ea[a];var b=a.charCodeAt(0),e=\"\\\\u\";16>b?e+=\"000\":256>b?e+=\"00\":4096>b&&(e+=\"0\");return Ea[a]=e+b.toString(16)}),'\"')};var t;a:{var Ga=aa.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){t=Ha;break a}}t=\"\"};var v=Array.prototype,Ia=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?\na.split(\"\"):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},La=v.map?function(a,b,c){return v.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(\"\"):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ma=v.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return v.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ja(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Na=v.every?function(a,b,\nc){return v.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&v.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)}\nfunction Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0};var Ua=-1!=t.indexOf(\"Opera\")||-1!=t.indexOf(\"OPR\"),Va=-1!=t.indexOf(\"Trident\")||-1!=t.indexOf(\"MSIE\"),Wa=-1!=t.indexOf(\"Gecko\")&&-1==t.toLowerCase().indexOf(\"webkit\")&&!(-1!=t.indexOf(\"Trident\")||-1!=t.indexOf(\"MSIE\")),Xa=-1!=t.toLowerCase().indexOf(\"webkit\");\n(function(){var a=\"\",b;if(Ua&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Wa?b=/rv\\:([^\\);]+)(\\)|;)/:Va?b=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:Xa&&(b=/WebKit\\/(\\S+)/);b&&(a=(a=b.exec(t))?a[1]:\"\");return Va&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!fa(a))throw Error(\"encodeByteArray takes an array as a parameter\");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,h||(k=64));d.push(c[u],c[f],c[k],c[m])}return d.join(\"\")}\nfunction bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++)Ya[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),Za[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a),$a[Za[a]]=a,62<=a&&($a[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a)]=a)}};function cb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function db(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])};function x(a,b,c,d){var e;d<b?e=\"at least \"+b:d>c&&(e=0===c?\"none\":\"no more than \"+c);if(e)throw Error(a+\" failed: Was called with \"+d+(1===d?\" argument.\":\" arguments.\")+\" Expects \"+e+\".\");}function y(a,b,c){var d=\"\";switch(b){case 1:d=c?\"first\":\"First\";break;case 2:d=c?\"second\":\"Second\";break;case 3:d=c?\"third\":\"Third\";break;case 4:d=c?\"fourth\":\"Fourth\";break;default:throw Error(\"errorPrefix called with argumentNumber > 4.  Need to update it?\");}return a=a+\" failed: \"+(d+\" argument \")}\nfunction A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(y(a,b,d)+\"must be a valid function.\");}function eb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(y(a,b,!0)+\"must be a valid context object.\");};function fb(a){var b=[];db(a,function(a,d){ea(d)?Ja(d,function(d){b.push(encodeURIComponent(a)+\"=\"+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+\"=\"+encodeURIComponent(d))});return b.length?\"&\"+b.join(\"&\"):\"\"};var gb=firebase.Promise;function hb(){var a=this;this.reject=this.resolve=null;this.ra=new gb(function(b,c){a.resolve=b;a.reject=c})}function ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ha(b)&&(jb(a.ra),1===b.length?b(c):b(c,d))}}function jb(a){a.then(void 0,ba)};function kb(a,b){if(!a)throw lb(b);}function lb(a){return Error(\"Firebase Database (\"+firebase.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+a)};function mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,kb(d<a.length,\"Surrogate pair missing trail surrogate.\"),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function ob(a){return\"undefined\"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):Aa(a)}function B(a){if(\"undefined\"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ca(new Ba,a,b);a=b.join(\"\")}return a};function pb(a,b){this.committed=a;this.snapshot=b};function qb(){return\"undefined\"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(\"undefined\"!==typeof navigator&&\"string\"===typeof navigator.userAgent?navigator.userAgent:\"\")};function rb(a){this.re=a;this.Bd=[];this.Qb=0;this.Xd=-1;this.Fb=null}function sb(a,b,c){a.Xd=b;a.Fb=c;a.Xd<a.Qb&&(a.Fb(),a.Fb=null)}function tb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Qb];){var d=a.Bd[a.Qb];delete a.Bd[a.Qb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;ub(function(){f.re(d[e])})}if(a.Qb===a.Xd){a.Fb&&(clearTimeout(a.Fb),a.Fb(),a.Fb=null);break}a.Qb++}};function vb(){this.pc={}}vb.prototype.set=function(a,b){null==b?delete this.pc[a]:this.pc[a]=b};vb.prototype.get=function(a){return cb(this.pc,a)?this.pc[a]:null};vb.prototype.remove=function(a){delete this.pc[a]};vb.prototype.Ze=!0;function wb(a){this.uc=a;this.Cd=\"firebase:\"}g=wb.prototype;g.set=function(a,b){null==b?this.uc.removeItem(this.Cd+a):this.uc.setItem(this.Cd+a,B(b))};g.get=function(a){a=this.uc.getItem(this.Cd+a);return null==a?null:ob(a)};g.remove=function(a){this.uc.removeItem(this.Cd+a)};g.Ze=!1;g.toString=function(){return this.uc.toString()};function xb(a){try{if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window[a]){var b=window[a];b.setItem(\"firebase:sentinel\",\"cache\");b.removeItem(\"firebase:sentinel\");return new wb(b)}}catch(c){}return new vb}var yb=xb(\"localStorage\"),zb=xb(\"sessionStorage\");function Ab(a,b,c){this.type=Bb;this.source=a;this.path=b;this.Ga=c}Ab.prototype.Mc=function(a){return this.path.e()?new Ab(this.source,C,this.Ga.Q(a)):new Ab(this.source,D(this.path),this.Ga)};Ab.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" overwrite: \"+this.Ga.toString()+\")\"};function Cb(a,b){this.type=Db;this.source=a;this.path=b}Cb.prototype.Mc=function(){return this.path.e()?new Cb(this.source,C):new Cb(this.source,D(this.path))};Cb.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" listen_complete)\"};function Eb(a){this.oc=a}Eb.prototype.getToken=function(a){return this.oc.INTERNAL.getToken(a).then(null,function(a){return a&&\"auth/token-not-initialized\"===a.code?(E(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(a)})};function Fb(a,b){a.oc.INTERNAL.addAuthTokenListener(b)};function Gb(){this.Jd=G}Gb.prototype.j=function(a){return this.Jd.P(a)};Gb.prototype.toString=function(){return this.Jd.toString()};function Hb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(\".\")+1);this.Sc=b;this.ne=c;this.qg=d;this.gf=e||\"\";this.$a=yb.get(\"host:\"+a)||this.host}function Ib(a,b){b!==a.$a&&(a.$a=b,\"s-\"===a.$a.substr(0,2)&&yb.set(\"host:\"+a.host,a.$a))}\nfunction Jb(a,b,c){H(\"string\"===typeof b,\"typeof type must == string\");H(\"object\"===typeof c,\"typeof params must == object\");if(\"websocket\"===b)b=(a.Sc?\"wss://\":\"ws://\")+a.$a+\"/.ws?\";else if(\"long_polling\"===b)b=(a.Sc?\"https://\":\"http://\")+a.$a+\"/.lp?\";else throw Error(\"Unknown connection type: \"+b);a.host!==a.$a&&(c.ns=a.ne);var d=[];r(c,function(a,b){d.push(b+\"=\"+a)});return b+d.join(\"&\")}\nHb.prototype.toString=function(){var a=(this.Sc?\"https://\":\"http://\")+this.host;this.gf&&(a+=\"<\"+this.gf+\">\");return a};function Kb(){this.tc={}}function Lb(a,b,c){n(c)||(c=1);cb(a.tc,b)||(a.tc[b]=0);a.tc[b]+=c}Kb.prototype.get=function(){return za(this.tc)};function Mb(a){this.Ef=a;this.rd=null}Mb.prototype.get=function(){var a=this.Ef.get(),b=za(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};function Nb(){this.vb=[]}function Ob(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.Z(c.Yb())||(a.vb.push(c),c=null);null===c&&(c=new Pb(f));c.add(e)}c&&a.vb.push(c)}function Qb(a,b,c){Ob(a,c);Rb(a,function(a){return a.Z(b)})}function Sb(a,b,c){Ob(a,c);Rb(a,function(a){return a.contains(b)||b.contains(a)})}\nfunction Rb(a,b){for(var c=!0,d=0;d<a.vb.length;d++){var e=a.vb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.vb[d],f=0;f<e.jd.length;f++){var h=e.jd[f];if(null!==h){e.jd[f]=null;var k=h.Tb();Tb&&E(\"event: \"+h.toString());ub(k)}}a.vb[d]=null}else c=!1}c&&(a.vb=[])}function Pb(a){this.qa=a;this.jd=[]}Pb.prototype.add=function(a){this.jd.push(a)};Pb.prototype.Yb=function(){return this.qa};function Ub(a,b,c,d){this.$d=b;this.Md=c;this.Dd=d;this.hd=a}Ub.prototype.Yb=function(){var a=this.Md.wb();return\"value\"===this.hd?a.path:a.getParent().path};Ub.prototype.ee=function(){return this.hd};Ub.prototype.Tb=function(){return this.$d.Tb(this)};Ub.prototype.toString=function(){return this.Yb().toString()+\":\"+this.hd+\":\"+B(this.Md.Qe())};function Vb(a,b,c){this.$d=a;this.error=b;this.path=c}Vb.prototype.Yb=function(){return this.path};Vb.prototype.ee=function(){return\"cancel\"};\nVb.prototype.Tb=function(){return this.$d.Tb(this)};Vb.prototype.toString=function(){return this.path.toString()+\":cancel\"};function Wb(){}Wb.prototype.Te=function(){return null};Wb.prototype.de=function(){return null};var Xb=new Wb;function Yb(a,b,c){this.xf=a;this.Ka=b;this.yd=c}Yb.prototype.Te=function(a){var b=this.Ka.N;if(Zb(b,a))return b.j().Q(a);b=null!=this.yd?new $b(this.yd,!0,!1):this.Ka.w();return this.xf.qc(a,b)};Yb.prototype.de=function(a,b,c){var d=null!=this.yd?this.yd:ac(this.Ka);a=this.xf.Wd(d,b,1,c,a);return 0===a.length?null:a[0]};function I(a,b,c,d){this.type=a;this.Ja=b;this.Xa=c;this.oe=d;this.Dd=void 0}function bc(a){return new I(cc,a)}var cc=\"value\";function $b(a,b,c){this.A=a;this.da=b;this.Sb=c}function dc(a){return a.da}function ec(a){return a.Sb}function fc(a,b){return b.e()?a.da&&!a.Sb:Zb(a,J(b))}function Zb(a,b){return a.da&&!a.Sb||a.A.Da(b)}$b.prototype.j=function(){return this.A};function gc(a,b){return hc(a.name,b.name)}function ic(a,b){return hc(a,b)};function K(a,b){this.name=a;this.R=b}function jc(a,b){return new K(a,b)};function kc(a,b){return a&&\"object\"===typeof a?(H(\".sv\"in a,\"Unexpected leaf node or priority contents\"),b[a[\".sv\"]]):a}function lc(a,b){var c=new mc;nc(a,new L(\"\"),function(a,e){oc(c,a,pc(e,b))});return c}function pc(a,b){var c=a.C().H(),c=kc(c,b),d;if(a.J()){var e=kc(a.Ca(),b);return e!==a.Ca()||c!==a.C().H()?new qc(e,M(c)):a}d=a;c!==a.C().H()&&(d=d.fa(new qc(c)));a.O(N,function(a,c){var e=pc(c,b);e!==c&&(d=d.T(a,e))});return d};var rc=function(){var a=1;return function(){return a++}}(),H=kb,sc=lb;\nfunction tc(a){try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==l)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(h<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a=\"\";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}return b}catch(m){E(\"base64Decode failed: \",\nm)}return null}function uc(a){var b=mb(a);a=new na;a.update(b);var b=[],c=8*a.Pd;56>a.$b?a.update(a.zd,56-a.$b):a.update(a.zd,a.Wa-(a.$b-56));for(var d=a.Wa-1;56<=d;d--)a.Vd[d]=c&255,c/=256;oa(a,a.Vd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.M[d]>>e&255,++c;return ab(b)}function vc(a){for(var b=\"\",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+vc.apply(null,arguments[c]):\"object\"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=\" \";return b}var Tb=null,wc=!0;\nfunction xc(a,b){kb(!b||!0===a||!1===a,\"Can't turn on custom loggers persistently.\");!0===a?(\"undefined\"!==typeof console&&(\"function\"===typeof console.log?Tb=q(console.log,console):\"object\"===typeof console.log&&(Tb=function(a){console.log(a)})),b&&zb.set(\"logging_enabled\",!0)):ha(a)?Tb=a:(Tb=null,zb.remove(\"logging_enabled\"))}function E(a){!0===wc&&(wc=!1,null===Tb&&!0===zb.get(\"logging_enabled\")&&xc(!0));if(Tb){var b=vc.apply(null,arguments);Tb(b)}}\nfunction yc(a){return function(){E(a,arguments)}}function zc(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE INTERNAL ERROR: \"+vc.apply(null,arguments);\"undefined\"!==typeof console.error?console.error(b):console.log(b)}}function Ac(a){var b=vc.apply(null,arguments);throw Error(\"FIREBASE FATAL ERROR: \"+b);}function O(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE WARNING: \"+vc.apply(null,arguments);\"undefined\"!==typeof console.warn?console.warn(b):console.log(b)}}\nfunction Bc(a){var b,c,d,e,f,h=a;f=c=a=b=\"\";d=!0;e=\"https\";if(p(h)){var k=h.indexOf(\"//\");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf(\"/\");-1===k&&(k=h.length);b=h.substring(0,k);f=\"\";h=h.substring(k).split(\"/\");for(k=0;k<h.length;k++)if(0<h[k].length){var l=h[k];try{l=decodeURIComponent(l.replace(/\\+/g,\" \"))}catch(m){}f+=\"/\"+l}h=b.split(\".\");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(\":\");0<=k&&(d=\"https\"===e||\"wss\"===e)}\"firebase\"===a&&Ac(b+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\");\nc&&\"undefined\"!=c||Ac(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\");d||\"undefined\"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&O(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");return{jc:new Hb(b,d,c,\"ws\"===e||\"wss\"===e),path:new L(f)}}function Cc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}\nfunction Dc(a){if(\"complete\"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",c,!1),window.addEventListener(\"load\",c,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",function(){\"complete\"===document.readyState&&c()}),window.attachEvent(\"onload\",c))}}\nfunction hc(a,b){if(a===b)return 0;if(\"[MIN_NAME]\"===a||\"[MAX_NAME]\"===b)return-1;if(\"[MIN_NAME]\"===b||\"[MAX_NAME]\"===a)return 1;var c=Ec(a),d=Ec(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function Fc(a,b){if(b&&a in b)return b[a];throw Error(\"Missing required key (\"+a+\") in object: \"+B(b));}\nfunction Gc(a){if(\"object\"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c=\"{\";for(var d=0;d<b.length;d++)0!==d&&(c+=\",\"),c+=B(b[d]),c+=\":\",c+=Gc(a[b[d]]);return c+\"}\"}function Hc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Ic(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else r(a,b)}\nfunction Jc(a){H(!Cc(a),\"Invalid JSON number\");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join(\"\");c=\"\";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&\n(d=\"0\"+d),c+=d;return c.toLowerCase()}var Kc=/^-?\\d{1,10}$/;function Ec(a){return Kc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function ub(a){try{a()}catch(b){setTimeout(function(){O(\"Exception was thrown by user callback.\",b.stack||\"\");throw b;},Math.floor(0))}}function Lc(a,b,c){Object.defineProperty(a,b,{get:c})}function Mc(a,b){var c=setTimeout(a,b);\"object\"===typeof c&&c.unref&&c.unref();return c};function Nc(a){var b={},c={},d={},e=\"\";try{var f=a.split(\".\"),b=ob(tc(f[0])||\"\"),c=ob(tc(f[1])||\"\"),e=f[2],d=c.d||{};delete c.d}catch(h){}return{tg:b,Ie:c,data:d,mg:e}}function Oc(a){a=Nc(a);var b=a.Ie;return!!a.mg&&!!b&&\"object\"===typeof b&&b.hasOwnProperty(\"iat\")}function Pc(a){a=Nc(a).Ie;return\"object\"===typeof a&&!0===w(a,\"admin\")};function Qc(a,b,c){this.f=yc(\"p:rest:\");this.L=a;this.Gb=b;this.$c=c;this.$={}}function Rc(a,b){if(n(b))return\"tag$\"+b;H(Sc(a.m),\"should have a tag if it's not a default query.\");return a.path.toString()}g=Qc.prototype;\ng.$e=function(a,b,c,d){var e=a.path.toString();this.f(\"Listen called for \"+e+\" \"+a.ja());var f=Rc(a,c),h={};this.$[f]=h;a=Tc(a.m);var k=this;Uc(this,e+\".json\",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Gb(e,u,!1,c);w(k.$,f)===h&&d(a?401==a?\"permission_denied\":\"rest_error:\"+a:\"ok\",null)})};g.uf=function(a,b){var c=Rc(a,b);delete this.$[c]};g.kf=function(){};g.pe=function(){};g.cf=function(){};g.xd=function(){};g.put=function(){};g.af=function(){};g.we=function(){};\nfunction Uc(a,b,c,d){c=c||{};c.format=\"export\";a.$c.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.L.Sc?\"https://\":\"http://\")+a.L.host+b+\"?\"+fb(c);a.f(\"Sending REST request for \"+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f(\"REST Response for \"+f+\" received. status:\",h.status,\"response:\",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=ob(h.responseText)}catch(c){O(\"Failed to parse JSON response for \"+f+\": \"+h.responseText)}d(null,\nb)}else 401!==h.status&&404!==h.status&&O(\"Got unsuccessful REST response for \"+f+\" Status: \"+h.status),d(h.status);d=null}};h.open(\"GET\",f,!0);h.send()})};function Vc(a,b,c){this.type=Wc;this.source=a;this.path=b;this.children=c}Vc.prototype.Mc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new Ab(this.source,C,a.value):new Vc(this.source,C,a);H(J(this.path)===a,\"Can't get a merge for a child not on the path of the operation\");return new Vc(this.source,D(this.path),this.children)};Vc.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"};function Xc(a,b){this.rf={};this.Vc=new Mb(a);this.va=b;var c=1E4+2E4*Math.random();Mc(q(this.lf,this),Math.floor(c))}Xc.prototype.lf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a)0<a[d]&&cb(this.rf,d)&&(b[d]=a[d],c=!0);c&&this.va.we(b);Mc(q(this.lf,this),Math.floor(6E5*Math.random()))};var Yc={},Zc={};function $c(a){a=a.toString();Yc[a]||(Yc[a]=new Kb);return Yc[a]}function ad(a,b){var c=a.toString();Zc[c]||(Zc[c]=b());return Zc[c]};var bd=null;\"undefined\"!==typeof MozWebSocket?bd=MozWebSocket:\"undefined\"!==typeof WebSocket&&(bd=WebSocket);function cd(a,b,c,d){this.Yd=a;this.f=yc(this.Yd);this.frames=this.zc=null;this.pb=this.qb=this.De=0;this.Va=$c(b);a={v:\"5\"};\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(a.r=\"f\");c&&(a.s=c);d&&(a.ls=d);this.Je=Jb(b,\"websocket\",a)}var dd;\ncd.prototype.open=function(a,b){this.ib=b;this.Xf=a;this.f(\"Websocket connecting to \"+this.Je);this.wc=!1;yb.set(\"previous_websocket_failure\",!0);try{this.Ia=new bd(this.Je)}catch(c){this.f(\"Error instantiating WebSocket.\");var d=c.message||c.data;d&&this.f(d);this.bb();return}var e=this;this.Ia.onopen=function(){e.f(\"Websocket connected.\");e.wc=!0};this.Ia.onclose=function(){e.f(\"Websocket connection was disconnected.\");e.Ia=null;e.bb()};this.Ia.onmessage=function(a){if(null!==e.Ia)if(a=a.data,e.pb+=\na.length,Lb(e.Va,\"bytes_received\",a.length),ed(e),null!==e.frames)fd(e,a);else{a:{H(null===e.frames,\"We already have a frame buffer\");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.De=b;e.frames=[];a=null;break a}}e.De=1;e.frames=[]}null!==a&&fd(e,a)}};this.Ia.onerror=function(a){e.f(\"WebSocket error.  Closing connection.\");(a=a.message||a.data)&&e.f(a);e.bb()}};cd.prototype.start=function(){};\ncd.isAvailable=function(){var a=!1;if(\"undefined\"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==bd&&!dd};cd.responsesRequiredToBeHealthy=2;cd.healthyTimeout=3E4;g=cd.prototype;g.sd=function(){yb.remove(\"previous_websocket_failure\")};function fd(a,b){a.frames.push(b);if(a.frames.length==a.De){var c=a.frames.join(\"\");a.frames=null;c=ob(c);a.Xf(c)}}\ng.send=function(a){ed(this);a=B(a);this.qb+=a.length;Lb(this.Va,\"bytes_sent\",a.length);a=Hc(a,16384);1<a.length&&gd(this,String(a.length));for(var b=0;b<a.length;b++)gd(this,a[b])};g.Tc=function(){this.Ab=!0;this.zc&&(clearInterval(this.zc),this.zc=null);this.Ia&&(this.Ia.close(),this.Ia=null)};g.bb=function(){this.Ab||(this.f(\"WebSocket is closing itself\"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))};g.close=function(){this.Ab||(this.f(\"WebSocket is being closed\"),this.Tc())};\nfunction ed(a){clearInterval(a.zc);a.zc=setInterval(function(){a.Ia&&gd(a,\"0\");ed(a)},Math.floor(45E3))}function gd(a,b){try{a.Ia.send(b)}catch(c){a.f(\"Exception thrown from WebSocket.send():\",c.message||c.data,\"Closing connection.\"),setTimeout(q(a.bb,a),0)}};function hd(){this.fb={}}\nfunction jd(a,b){var c=b.type,d=b.Xa;H(\"child_added\"==c||\"child_changed\"==c||\"child_removed\"==c,\"Only child changes supported for tracking\");H(\".priority\"!==d,\"Only non-priority child changes can be tracked.\");var e=w(a.fb,d);if(e){var f=e.type;if(\"child_added\"==c&&\"child_removed\"==f)a.fb[d]=new I(\"child_changed\",b.Ja,d,e.Ja);else if(\"child_removed\"==c&&\"child_added\"==f)delete a.fb[d];else if(\"child_removed\"==c&&\"child_changed\"==f)a.fb[d]=new I(\"child_removed\",e.oe,d);else if(\"child_changed\"==c&&\n\"child_added\"==f)a.fb[d]=new I(\"child_added\",b.Ja,d);else if(\"child_changed\"==c&&\"child_changed\"==f)a.fb[d]=new I(\"child_changed\",b.Ja,d,e.oe);else throw sc(\"Illegal combination of changes: \"+b+\" occurred after \"+e);}else a.fb[d]=b};function kd(a){this.V=a;this.g=a.m.g}function ld(a,b,c,d){var e=[],f=[];Ja(b,function(b){\"child_changed\"===b.type&&a.g.nd(b.oe,b.Ja)&&f.push(new I(\"child_moved\",b.Ja,b.Xa))});md(a,e,\"child_removed\",b,d,c);md(a,e,\"child_added\",b,d,c);md(a,e,\"child_moved\",f,d,c);md(a,e,\"child_changed\",b,d,c);md(a,e,cc,b,d,c);return e}function md(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c});Sa(d,q(a.Ff,a));Ja(d,function(c){var d=nd(a,c,f);Ja(e,function(e){e.nf(c.type)&&b.push(e.createEvent(d,a.V))})})}\nfunction nd(a,b,c){\"value\"!==b.type&&\"child_removed\"!==b.type&&(b.Dd=c.Ve(b.Xa,b.Ja,a.g));return b}kd.prototype.Ff=function(a,b){if(null==a.Xa||null==b.Xa)throw sc(\"Should only compare child_ events.\");return this.g.compare(new K(a.Xa,a.Ja),new K(b.Xa,b.Ja))};function od(a,b){this.Sd=a;this.Df=b}function pd(a){this.U=a}\npd.prototype.eb=function(a,b,c,d){var e=new hd,f;if(b.type===Bb)b.source.ce?c=qd(this,a,b.path,b.Ga,c,d,e):(H(b.source.Se,\"Unknown source.\"),f=b.source.Ce||ec(a.w())&&!b.path.e(),c=rd(this,a,b.path,b.Ga,c,d,f,e));else if(b.type===Wc)b.source.ce?c=sd(this,a,b.path,b.children,c,d,e):(H(b.source.Se,\"Unknown source.\"),f=b.source.Ce||ec(a.w()),c=td(this,a,b.path,b.children,c,d,f,e));else if(b.type===ud)if(b.Id)if(b=b.path,null!=c.lc(b))c=a;else{f=new Yb(c,a,d);d=a.N.j();if(b.e()||\".priority\"===J(b))dc(a.w())?\nb=c.Aa(ac(a)):(b=a.w().j(),H(b instanceof P,\"serverChildren would be complete if leaf node\"),b=c.rc(b)),b=this.U.ya(d,b,e);else{var h=J(b),k=c.qc(h,a.w());null==k&&Zb(a.w(),h)&&(k=d.Q(h));b=null!=k?this.U.F(d,h,k,D(b),f,e):a.N.j().Da(h)?this.U.F(d,h,G,D(b),f,e):d;b.e()&&dc(a.w())&&(d=c.Aa(ac(a)),d.J()&&(b=this.U.ya(b,d,e)))}d=dc(a.w())||null!=c.lc(C);c=vd(a,b,d,this.U.Na())}else c=wd(this,a,b.path,b.Ob,c,d,e);else if(b.type===Db)d=b.path,b=a.w(),f=b.j(),h=b.da||d.e(),c=xd(this,new yd(a.N,new $b(f,\nh,b.Sb)),d,c,Xb,e);else throw sc(\"Unknown operation type: \"+b.type);e=ta(e.fb);d=c;b=d.N;b.da&&(f=b.j().J()||b.j().e(),h=zd(a),(0<e.length||!a.N.da||f&&!b.j().Z(h)||!b.j().C().Z(h.C()))&&e.push(bc(zd(d))));return new od(c,e)};\nfunction xd(a,b,c,d,e,f){var h=b.N;if(null!=d.lc(c))return b;var k;if(c.e())H(dc(b.w()),\"If change path is empty, we must have complete server data\"),ec(b.w())?(e=ac(b),d=d.rc(e instanceof P?e:G)):d=d.Aa(ac(b)),f=a.U.ya(b.N.j(),d,f);else{var l=J(c);if(\".priority\"==l)H(1==Ad(c),\"Can't have a priority with additional path components\"),f=h.j(),k=b.w().j(),d=d.ad(c,f,k),f=null!=d?a.U.fa(f,d):h.j();else{var m=D(c);Zb(h,l)?(k=b.w().j(),d=d.ad(c,h.j(),k),d=null!=d?h.j().Q(l).F(m,d):h.j().Q(l)):d=d.qc(l,\nb.w());f=null!=d?a.U.F(h.j(),l,d,m,e,f):h.j()}}return vd(b,f,h.da||c.e(),a.U.Na())}function rd(a,b,c,d,e,f,h,k){var l=b.w();h=h?a.U:a.U.Ub();if(c.e())d=h.ya(l.j(),d,null);else if(h.Na()&&!l.Sb)d=l.j().F(c,d),d=h.ya(l.j(),d,null);else{var m=J(c);if(!fc(l,c)&&1<Ad(c))return b;var u=D(c);d=l.j().Q(m).F(u,d);d=\".priority\"==m?h.fa(l.j(),d):h.F(l.j(),m,d,u,Xb,null)}l=l.da||c.e();b=new yd(b.N,new $b(d,l,h.Na()));return xd(a,b,c,e,new Yb(e,b,f),k)}\nfunction qd(a,b,c,d,e,f,h){var k=b.N;e=new Yb(e,b,f);if(c.e())h=a.U.ya(b.N.j(),d,h),a=vd(b,h,!0,a.U.Na());else if(f=J(c),\".priority\"===f)h=a.U.fa(b.N.j(),d),a=vd(b,h,k.da,k.Sb);else{c=D(c);var l=k.j().Q(f);if(!c.e()){var m=e.Te(f);d=null!=m?\".priority\"===Bd(c)&&m.P(c.parent()).e()?m:m.F(c,d):G}l.Z(d)?a=b:(h=a.U.F(k.j(),f,d,c,e,h),a=vd(b,h,k.da,a.U.Na()))}return a}\nfunction sd(a,b,c,d,e,f,h){var k=b;Cd(d,function(d,m){var u=c.n(d);Zb(b.N,J(u))&&(k=qd(a,k,u,m,e,f,h))});Cd(d,function(d,m){var u=c.n(d);Zb(b.N,J(u))||(k=qd(a,k,u,m,e,f,h))});return k}function Dd(a,b){Cd(b,function(b,d){a=a.F(b,d)});return a}\nfunction td(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!dc(b.w()))return b;var l=b;c=c.e()?d:Ed(Q,c,d);var m=b.w().j();c.children.ha(function(c,d){if(m.Da(c)){var F=b.w().j().Q(c),F=Dd(F,d);l=rd(a,l,new L(c),F,e,f,h,k)}});c.children.ha(function(c,d){var F=!Zb(b.w(),c)&&null==d.value;m.Da(c)||F||(F=b.w().j().Q(c),F=Dd(F,d),l=rd(a,l,new L(c),F,e,f,h,k))});return l}\nfunction wd(a,b,c,d,e,f,h){if(null!=e.lc(c))return b;var k=ec(b.w()),l=b.w();if(null!=d.value){if(c.e()&&l.da||fc(l,c))return rd(a,b,c,l.j().P(c),e,f,k,h);if(c.e()){var m=Q;l.j().O(Fd,function(a,b){m=m.set(new L(a),b)});return td(a,b,c,m,e,f,k,h)}return b}m=Q;Cd(d,function(a){var b=c.n(a);fc(l,b)&&(m=m.set(a,l.j().P(b)))});return td(a,b,c,m,e,f,k,h)};function Gd(a){this.g=a}g=Gd.prototype;g.F=function(a,b,c,d,e,f){H(a.yc(this.g),\"A node must be indexed if only a child is updated\");e=a.Q(b);if(e.P(d).Z(c.P(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Da(b)?jd(f,new I(\"child_removed\",e,b)):H(a.J(),\"A child remove without an old child only makes sense on a leaf node\"):e.e()?jd(f,new I(\"child_added\",c,b)):jd(f,new I(\"child_changed\",c,b,e)));return a.J()&&c.e()?a:a.T(b,c).nb(this.g)};\ng.ya=function(a,b,c){null!=c&&(a.J()||a.O(N,function(a,e){b.Da(a)||jd(c,new I(\"child_removed\",e,a))}),b.J()||b.O(N,function(b,e){if(a.Da(b)){var f=a.Q(b);f.Z(e)||jd(c,new I(\"child_changed\",e,b,f))}else jd(c,new I(\"child_added\",e,b))}));return b.nb(this.g)};g.fa=function(a,b){return a.e()?G:a.fa(b)};g.Na=function(){return!1};g.Ub=function(){return this};function Hd(a){this.fe=new Gd(a.g);this.g=a.g;var b;a.ka?(b=Id(a),b=a.g.Ec(Jd(a),b)):b=a.g.Hc();this.Uc=b;a.na?(b=Kd(a),a=a.g.Ec(Ld(a),b)):a=a.g.Fc();this.vc=a}g=Hd.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.vc)};g.F=function(a,b,c,d,e,f){this.matches(new K(b,c))||(c=G);return this.fe.F(a,b,c,d,e,f)};\ng.ya=function(a,b,c){b.J()&&(b=G);var d=b.nb(this.g),d=d.fa(G),e=this;b.O(N,function(a,b){e.matches(new K(a,b))||(d=d.T(a,G))});return this.fe.ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.fe};function Md(a){this.sa=new Hd(a);this.g=a.g;H(a.xa,\"Only valid if limit has been set\");this.oa=a.oa;this.Ib=!Nd(a)}g=Md.prototype;g.F=function(a,b,c,d,e,f){this.sa.matches(new K(b,c))||(c=G);return a.Q(b).Z(c)?a:a.Eb()<this.oa?this.sa.Ub().F(a,b,c,d,e,f):Od(this,a,b,c,e,f)};\ng.ya=function(a,b,c){var d;if(b.J()||b.e())d=G.nb(this.g);else if(2*this.oa<b.Eb()&&b.yc(this.g)){d=G.nb(this.g);b=this.Ib?b.Zb(this.sa.vc,this.g):b.Xb(this.sa.Uc,this.g);for(var e=0;0<b.Pa.length&&e<this.oa;){var f=R(b),h;if(h=this.Ib?0>=this.g.compare(this.sa.Uc,f):0>=this.g.compare(f,this.sa.vc))d=d.T(f.name,f.R),e++;else break}}else{d=b.nb(this.g);d=d.fa(G);var k,l,m;if(this.Ib){b=d.We(this.g);k=this.sa.vc;l=this.sa.Uc;var u=Pd(this.g);m=function(a,b){return u(b,a)}}else b=d.Wb(this.g),k=this.sa.Uc,\nl=this.sa.vc,m=Pd(this.g);for(var e=0,z=!1;0<b.Pa.length;)f=R(b),!z&&0>=m(k,f)&&(z=!0),(h=z&&e<this.oa&&0>=m(f,l))?e++:d=d.T(f.name,G)}return this.sa.Ub().ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.sa.Ub()};\nfunction Od(a,b,c,d,e,f){var h;if(a.Ib){var k=Pd(a.g);h=function(a,b){return k(b,a)}}else h=Pd(a.g);H(b.Eb()==a.oa,\"\");var l=new K(c,d),m=a.Ib?Qd(b,a.g):Rd(b,a.g),u=a.sa.matches(l);if(b.Da(c)){for(var z=b.Q(c),m=e.de(a.g,m,a.Ib);null!=m&&(m.name==c||b.Da(m.name));)m=e.de(a.g,m,a.Ib);e=null==m?1:h(m,l);if(u&&!d.e()&&0<=e)return null!=f&&jd(f,new I(\"child_changed\",d,c,z)),b.T(c,d);null!=f&&jd(f,new I(\"child_removed\",z,c));b=b.T(c,G);return null!=m&&a.sa.matches(m)?(null!=f&&jd(f,new I(\"child_added\",\nm.R,m.name)),b.T(m.name,m.R)):b}return d.e()?b:u&&0<=h(m,l)?(null!=f&&(jd(f,new I(\"child_removed\",m.R,m.name)),jd(f,new I(\"child_added\",d,c))),b.T(c,d).T(m.name,G)):b};function qc(a,b){this.B=a;H(n(this.B)&&null!==this.B,\"LeafNode shouldn't be created with null/undefined value.\");this.aa=b||G;Sd(this.aa);this.Db=null}var Td=[\"object\",\"boolean\",\"number\",\"string\"];g=qc.prototype;g.J=function(){return!0};g.C=function(){return this.aa};g.fa=function(a){return new qc(this.B,a)};g.Q=function(a){return\".priority\"===a?this.aa:G};g.P=function(a){return a.e()?this:\".priority\"===J(a)?this.aa:G};g.Da=function(){return!1};g.Ve=function(){return null};\ng.T=function(a,b){return\".priority\"===a?this.fa(b):b.e()&&\".priority\"!==a?this:G.T(a,b).fa(this.aa)};g.F=function(a,b){var c=J(a);if(null===c)return b;if(b.e()&&\".priority\"!==c)return this;H(\".priority\"!==c||1===Ad(a),\".priority must be the last token in a path\");return this.T(c,G.F(D(a),b))};g.e=function(){return!1};g.Eb=function(){return 0};g.O=function(){return!1};g.H=function(a){return a&&!this.C().e()?{\".value\":this.Ca(),\".priority\":this.C().H()}:this.Ca()};\ng.hash=function(){if(null===this.Db){var a=\"\";this.aa.e()||(a+=\"priority:\"+Ud(this.aa.H())+\":\");var b=typeof this.B,a=a+(b+\":\"),a=\"number\"===b?a+Jc(this.B):a+this.B;this.Db=uc(a)}return this.Db};g.Ca=function(){return this.B};g.sc=function(a){if(a===G)return 1;if(a instanceof P)return-1;H(a.J(),\"Unknown node type\");var b=typeof a.B,c=typeof this.B,d=Ia(Td,b),e=Ia(Td,c);H(0<=d,\"Unknown leaf type: \"+b);H(0<=e,\"Unknown leaf type: \"+c);return d===e?\"object\"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};\ng.nb=function(){return this};g.yc=function(){return!0};g.Z=function(a){return a===this?!0:a.J()?this.B===a.B&&this.aa.Z(a.aa):!1};g.toString=function(){return B(this.H(!0))};function Vd(){}var Wd={};function Pd(a){return q(a.compare,a)}Vd.prototype.nd=function(a,b){return 0!==this.compare(new K(\"[MIN_NAME]\",a),new K(\"[MIN_NAME]\",b))};Vd.prototype.Hc=function(){return Xd};function Yd(a){H(!a.e()&&\".priority\"!==J(a),\"Can't create PathIndex with empty path or .priority key\");this.bc=a}la(Yd,Vd);g=Yd.prototype;g.xc=function(a){return!a.P(this.bc).e()};g.compare=function(a,b){var c=a.R.P(this.bc),d=b.R.P(this.bc),c=c.sc(d);return 0===c?hc(a.name,b.name):c};\ng.Ec=function(a,b){var c=M(a),c=G.F(this.bc,c);return new K(b,c)};g.Fc=function(){var a=G.F(this.bc,Zd);return new K(\"[MAX_NAME]\",a)};g.toString=function(){return this.bc.slice().join(\"/\")};function $d(){}la($d,Vd);g=$d.prototype;g.compare=function(a,b){var c=a.R.C(),d=b.R.C(),c=c.sc(d);return 0===c?hc(a.name,b.name):c};g.xc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().Z(b.C())};g.Hc=function(){return Xd};g.Fc=function(){return new K(\"[MAX_NAME]\",new qc(\"[PRIORITY-POST]\",Zd))};\ng.Ec=function(a,b){var c=M(a);return new K(b,new qc(\"[PRIORITY-POST]\",c))};g.toString=function(){return\".priority\"};var N=new $d;function ae(){}la(ae,Vd);g=ae.prototype;g.compare=function(a,b){return hc(a.name,b.name)};g.xc=function(){throw sc(\"KeyIndex.isDefinedOn not expected to be called.\");};g.nd=function(){return!1};g.Hc=function(){return Xd};g.Fc=function(){return new K(\"[MAX_NAME]\",G)};g.Ec=function(a){H(p(a),\"KeyIndex indexValue must always be a string.\");return new K(a,G)};g.toString=function(){return\".key\"};\nvar Fd=new ae;function be(){}la(be,Vd);g=be.prototype;g.compare=function(a,b){var c=a.R.sc(b.R);return 0===c?hc(a.name,b.name):c};g.xc=function(){return!0};g.nd=function(a,b){return!a.Z(b)};g.Hc=function(){return Xd};g.Fc=function(){return ce};g.Ec=function(a,b){var c=M(a);return new K(b,c)};g.toString=function(){return\".value\"};var de=new be;function ee(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1;this.oa=0;this.mb=\"\";this.dc=null;this.zb=\"\";this.ac=null;this.xb=\"\";this.g=N}var fe=new ee;function Nd(a){return\"\"===a.mb?a.ka:\"l\"===a.mb}function Jd(a){H(a.ka,\"Only valid if start has been set\");return a.dc}function Id(a){H(a.ka,\"Only valid if start has been set\");return a.Kb?a.zb:\"[MIN_NAME]\"}function Ld(a){H(a.na,\"Only valid if end has been set\");return a.ac}\nfunction Kd(a){H(a.na,\"Only valid if end has been set\");return a.Rb?a.xb:\"[MAX_NAME]\"}function ge(a){var b=new ee;b.xa=a.xa;b.oa=a.oa;b.ka=a.ka;b.dc=a.dc;b.Kb=a.Kb;b.zb=a.zb;b.na=a.na;b.ac=a.ac;b.Rb=a.Rb;b.xb=a.xb;b.g=a.g;b.mb=a.mb;return b}g=ee.prototype;g.le=function(a){var b=ge(this);b.xa=!0;b.oa=a;b.mb=\"l\";return b};g.me=function(a){var b=ge(this);b.xa=!0;b.oa=a;b.mb=\"r\";return b};g.Nd=function(a,b){var c=ge(this);c.ka=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Kb=!0,c.zb=b):(c.Kb=!1,c.zb=\"\");return c};\ng.gd=function(a,b){var c=ge(this);c.na=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Rb=!0,c.xb=b):(c.vg=!1,c.xb=\"\");return c};function he(a,b){var c=ge(a);c.g=b;return c}function ie(a){var b={};a.ka&&(b.sp=a.dc,a.Kb&&(b.sn=a.zb));a.na&&(b.ep=a.ac,a.Rb&&(b.en=a.xb));if(a.xa){b.l=a.oa;var c=a.mb;\"\"===c&&(c=Nd(a)?\"l\":\"r\");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}function S(a){return!(a.ka||a.na||a.xa)}function Sc(a){return S(a)&&a.g==N}\nfunction Tc(a){var b={};if(Sc(a))return b;var c;a.g===N?c=\"$priority\":a.g===de?c=\"$value\":a.g===Fd?c=\"$key\":(H(a.g instanceof Yd,\"Unrecognized index type!\"),c=a.g.toString());b.orderBy=B(c);a.ka&&(b.startAt=B(a.dc),a.Kb&&(b.startAt+=\",\"+B(a.zb)));a.na&&(b.endAt=B(a.ac),a.Rb&&(b.endAt+=\",\"+B(a.xb)));a.xa&&(Nd(a)?b.limitToFirst=a.oa:b.limitToLast=a.oa);return b}g.toString=function(){return B(ie(this))};function je(a,b){this.od=a;this.cc=b}je.prototype.get=function(a){var b=w(this.od,a);if(!b)throw Error(\"No index defined for \"+a);return b===Wd?null:b};function ke(a,b,c){var d=pa(a.od,function(d,f){var h=w(a.cc,f);H(h,\"Missing index implementation for \"+f);if(d===Wd){if(h.xc(b.R)){for(var k=[],l=c.Wb(jc),m=R(l);m;)m.name!=b.name&&k.push(m),m=R(l);k.push(b);return le(k,Pd(h))}return Wd}h=c.get(b.name);k=d;h&&(k=k.remove(new K(b.name,h)));return k.Oa(b,b.R)});return new je(d,a.cc)}\nfunction me(a,b,c){var d=pa(a.od,function(a){if(a===Wd)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new je(d,a.cc)}var ne=new je({\".priority\":Wd},{\".priority\":N});function oe(){this.set={}}g=oe.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return cb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return ya(this.set)};g.count=function(){return ra(this.set)};function pe(a,b){r(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];r(this.set,function(b,c){a.push(c)});return a};function qe(a,b,c,d){this.Yd=a;this.f=yc(a);this.jc=b;this.pb=this.qb=0;this.Va=$c(b);this.tf=c;this.wc=!1;this.Cb=d;this.Yc=function(a){return Jb(b,\"long_polling\",a)}}var re,se;\nqe.prototype.open=function(a,b){this.Me=0;this.ia=b;this.bf=new rb(a);this.Ab=!1;var c=this;this.sb=setTimeout(function(){c.f(\"Timed out trying to connect.\");c.bb();c.sb=null},Math.floor(3E4));Dc(function(){if(!c.Ab){c.Ta=new te(function(a,b,d,k,l){ue(c,arguments);if(c.Ta)if(c.sb&&(clearTimeout(c.sb),c.sb=null),c.wc=!0,\"start\"==a)c.id=b,c.ff=d;else if(\"close\"===a)b?(c.Ta.Kd=!1,sb(c.bf,b,function(){c.bb()})):c.bb();else throw Error(\"Unrecognized command received: \"+a);},function(a,b){ue(c,arguments);\ntb(c.bf,a,b)},function(){c.bb()},c.Yc);var a={start:\"t\"};a.ser=Math.floor(1E8*Math.random());c.Ta.Qd&&(a.cb=c.Ta.Qd);a.v=\"5\";c.tf&&(a.s=c.tf);c.Cb&&(a.ls=c.Cb);\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(a.r=\"f\");a=c.Yc(a);c.f(\"Connecting via long-poll to \"+a);ve(c.Ta,a,function(){})}})};\nqe.prototype.start=function(){var a=this.Ta,b=this.ff;a.Vf=this.id;a.Wf=b;for(a.Ud=!0;we(a););a=this.id;b=this.ff;this.fc=document.createElement(\"iframe\");var c={dframe:\"t\"};c.id=a;c.pw=b;this.fc.src=this.Yc(c);this.fc.style.display=\"none\";document.body.appendChild(this.fc)};\nqe.isAvailable=function(){return re||!se&&\"undefined\"!==typeof document&&null!=document.createElement&&!(\"object\"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!(\"object\"===typeof Windows&&\"object\"===typeof Windows.rg)&&!0};g=qe.prototype;g.sd=function(){};g.Tc=function(){this.Ab=!0;this.Ta&&(this.Ta.close(),this.Ta=null);this.fc&&(document.body.removeChild(this.fc),this.fc=null);this.sb&&(clearTimeout(this.sb),this.sb=null)};\ng.bb=function(){this.Ab||(this.f(\"Longpoll is closing itself\"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))};g.close=function(){this.Ab||(this.f(\"Longpoll is being closed.\"),this.Tc())};g.send=function(a){a=B(a);this.qb+=a.length;Lb(this.Va,\"bytes_sent\",a.length);a=mb(a);a=ab(a,!0);a=Hc(a,1840);for(var b=0;b<a.length;b++){var c=this.Ta;c.Qc.push({jg:this.Me,pg:a.length,Oe:a[b]});c.Ud&&we(c);this.Me++}};function ue(a,b){var c=B(b).length;a.pb+=c;Lb(a.Va,\"bytes_received\",c)}\nfunction te(a,b,c,d){this.Yc=d;this.ib=c;this.te=new oe;this.Qc=[];this.Zd=Math.floor(1E8*Math.random());this.Kd=!0;this.Qd=rc();window[\"pLPCommand\"+this.Qd]=a;window[\"pRTLPCB\"+this.Qd]=b;a=document.createElement(\"iframe\");a.style.display=\"none\";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||E(\"No IE domain setting required\")}catch(e){a.src=\"javascript:void((function(){document.open();document.domain='\"+document.domain+\"';document.close();})())\"}}else throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";\na.contentDocument?a.gb=a.contentDocument:a.contentWindow?a.gb=a.contentWindow.document:a.document&&(a.gb=a.document);this.Ea=a;a=\"\";this.Ea.src&&\"javascript:\"===this.Ea.src.substr(0,11)&&(a='<script>document.domain=\"'+document.domain+'\";\\x3c/script>');a=\"<html><body>\"+a+\"</body></html>\";try{this.Ea.gb.open(),this.Ea.gb.write(a),this.Ea.gb.close()}catch(f){E(\"frame writing exception\"),f.stack&&E(f.stack),E(f)}}\nte.prototype.close=function(){this.Ud=!1;if(this.Ea){this.Ea.gb.body.innerHTML=\"\";var a=this;setTimeout(function(){null!==a.Ea&&(document.body.removeChild(a.Ea),a.Ea=null)},Math.floor(0))}var b=this.ib;b&&(this.ib=null,b())};\nfunction we(a){if(a.Ud&&a.Kd&&a.te.count()<(0<a.Qc.length?2:1)){a.Zd++;var b={};b.id=a.Vf;b.pw=a.Wf;b.ser=a.Zd;for(var b=a.Yc(b),c=\"\",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].Oe.length+30+c.length){var e=a.Qc.shift(),c=c+\"&seg\"+d+\"=\"+e.jg+\"&ts\"+d+\"=\"+e.pg+\"&d\"+d+\"=\"+e.Oe;d++}else break;xe(a,b+c,a.Zd);return!0}return!1}function xe(a,b,c){function d(){a.te.remove(c);we(a)}a.te.add(c,1);var e=setTimeout(d,Math.floor(25E3));ve(a,b,function(){clearTimeout(e);d()})}\nfunction ve(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ea.gb.createElement(\"script\");d.type=\"text/javascript\";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&\"loaded\"!==a&&\"complete\"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){E(\"Long-poll script failed to load: \"+b);a.Kd=!1;a.close()};a.Ea.gb.body.appendChild(d)}}catch(e){}},Math.floor(1))};function ye(a){ze(this,a)}var Ae=[qe,cd];function ze(a,b){var c=cd&&cd.isAvailable(),d=c&&!(yb.Ze||!0===yb.get(\"previous_websocket_failure\"));b.qg&&(c||O(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),d=!0);if(d)a.Wc=[cd];else{var e=a.Wc=[];Ic(Ae,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Be(a){if(0<a.Wc.length)return a.Wc[0];throw Error(\"No transports available\");};function Ce(a,b,c,d,e,f,h){this.id=a;this.f=yc(\"c:\"+this.id+\":\");this.re=c;this.Lc=d;this.ia=e;this.qe=f;this.L=b;this.Ad=[];this.Ke=0;this.sf=new ye(b);this.Ua=0;this.Cb=h;this.f(\"Connection created\");De(this)}\nfunction De(a){var b=Be(a.sf);a.I=new b(\"c:\"+a.id+\":\"+a.Ke++,a.L,void 0,a.Cb);a.ve=b.responsesRequiredToBeHealthy||0;var c=Ee(a,a.I),d=Fe(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Bb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=Mc(function(){a.md=null;a.Bb||(a.I&&102400<a.I.pb?(a.f(\"Connection exceeded healthy timeout but has received \"+a.I.pb+\" bytes.  Marking connection healthy.\"),a.Bb=!0,a.I.sd()):a.I&&10240<a.I.qb?a.f(\"Connection exceeded healthy timeout but has sent \"+\na.I.qb+\" bytes.  Leaving connection alive.\"):(a.f(\"Closing unhealthy connection after timeout.\"),a.close()))},Math.floor(b)))}function Fe(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ua?1===a.Ua&&a.f(\"Realtime connection lost.\"):(a.f(\"Realtime connection failed.\"),\"s-\"===a.L.$a.substr(0,2)&&(yb.remove(\"host:\"+a.L.host),a.L.$a=a.L.host)),a.close()):b===a.D?(a.f(\"Secondary connection lost.\"),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f(\"closing an old connection\")}}\nfunction Ee(a,b){return function(c){if(2!=a.Ua)if(b===a.Rc){var d=Fc(\"t\",c);c=Fc(\"d\",c);if(\"c\"==d){if(d=Fc(\"t\",c),\"d\"in c)if(c=c.d,\"h\"===d){var d=c.ts,e=c.v,f=c.h;a.qf=c.s;Ib(a.L,f);0==a.Ua&&(a.I.start(),Ge(a,a.I,d),\"5\"!==e&&O(\"Protocol version mismatch detected\"),c=a.sf,(c=1<c.Wc.length?c.Wc[1]:null)&&He(a,c))}else if(\"n\"===d){a.f(\"recvd end transmission on primary\");a.Rc=a.D;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];Ie(a)}else\"s\"===d?(a.f(\"Connection shutdown command received. Shutting down...\"),\na.qe&&(a.qe(c),a.qe=null),a.ia=null,a.close()):\"r\"===d?(a.f(\"Reset packet received.  New host: \"+c),Ib(a.L,c),1===a.Ua?a.close():(Je(a),De(a))):\"e\"===d?zc(\"Server Error: \"+c):\"o\"===d?(a.f(\"got pong on primary.\"),Ke(a),Le(a)):zc(\"Unknown control packet command: \"+d)}else\"d\"==d&&a.wd(c)}else if(b===a.D)if(d=Fc(\"t\",c),c=Fc(\"d\",c),\"c\"==d)\"t\"in c&&(c=c.t,\"a\"===c?Me(a):\"r\"===c?(a.f(\"Got a reset on secondary, closing it\"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):\"o\"===c&&(a.f(\"got pong on secondary.\"),\na.pf--,Me(a)));else if(\"d\"==d)a.Ad.push(c);else throw Error(\"Unknown protocol layer: \"+d);else a.f(\"message on old connection\")}}Ce.prototype.ua=function(a){Ne(this,{t:\"d\",d:a})};function Ie(a){a.Xc===a.D&&a.Rc===a.D&&(a.f(\"cleaning up and promoting a connection: \"+a.D.Yd),a.I=a.D,a.D=null)}\nfunction Me(a){0>=a.pf?(a.f(\"Secondary connection is healthy.\"),a.Bb=!0,a.D.sd(),a.D.start(),a.f(\"sending client ack on secondary\"),a.D.send({t:\"c\",d:{t:\"a\",d:{}}}),a.f(\"Ending transmission on primary\"),a.I.send({t:\"c\",d:{t:\"n\",d:{}}}),a.Xc=a.D,Ie(a)):(a.f(\"sending ping on secondary.\"),a.D.send({t:\"c\",d:{t:\"p\",d:{}}}))}Ce.prototype.wd=function(a){Ke(this);this.re(a)};function Ke(a){a.Bb||(a.ve--,0>=a.ve&&(a.f(\"Primary connection is healthy.\"),a.Bb=!0,a.I.sd()))}\nfunction He(a,b){a.D=new b(\"c:\"+a.id+\":\"+a.Ke++,a.L,a.qf);a.pf=b.responsesRequiredToBeHealthy||0;a.D.open(Ee(a,a.D),Fe(a,a.D));Mc(function(){a.D&&(a.f(\"Timed out trying to upgrade.\"),a.D.close())},Math.floor(6E4))}function Ge(a,b,c){a.f(\"Realtime connection established.\");a.I=b;a.Ua=1;a.Lc&&(a.Lc(c,a.qf),a.Lc=null);0===a.ve?(a.f(\"Primary connection is healthy.\"),a.Bb=!0):Mc(function(){Le(a)},Math.floor(5E3))}\nfunction Le(a){a.Bb||1!==a.Ua||(a.f(\"sending ping on primary.\"),Ne(a,{t:\"c\",d:{t:\"p\",d:{}}}))}function Ne(a,b){if(1!==a.Ua)throw\"Connection is not connected\";a.Xc.send(b)}Ce.prototype.close=function(){2!==this.Ua&&(this.f(\"Closing realtime connection.\"),this.Ua=2,Je(this),this.ia&&(this.ia(),this.ia=null))};function Je(a){a.f(\"Shutting down all connections\");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)};function L(a,b){if(1==arguments.length){this.o=a.split(\"/\");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Y=0}else this.o=a,this.Y=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error(\"INTERNAL ERROR: innerPath (\"+b+\") is not within outerPath (\"+a+\")\");}\nfunction Oe(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=hc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Y>=a.o.length?null:a.o[a.Y]}function Ad(a){return a.o.length-a.Y}function D(a){var b=a.Y;b<a.o.length&&b++;return new L(a.o,b)}function Bd(a){return a.Y<a.o.length?a.o[a.o.length-1]:null}g=L.prototype;\ng.toString=function(){for(var a=\"\",b=this.Y;b<this.o.length;b++)\"\"!==this.o[b]&&(a+=\"/\"+this.o[b]);return a||\"/\"};g.slice=function(a){return this.o.slice(this.Y+(a||0))};g.parent=function(){if(this.Y>=this.o.length)return null;for(var a=[],b=this.Y;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)};\ng.n=function(a){for(var b=[],c=this.Y;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Y;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split(\"/\"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Y>=this.o.length};g.Z=function(a){if(Ad(this)!==Ad(a))return!1;for(var b=this.Y,c=a.Y;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};\ng.contains=function(a){var b=this.Y,c=a.Y;if(Ad(this)>Ad(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var C=new L(\"\");function Pe(a,b){this.Qa=a.slice();this.Ha=Math.max(1,this.Qa.length);this.Pe=b;for(var c=0;c<this.Qa.length;c++)this.Ha+=nb(this.Qa[c]);Qe(this)}Pe.prototype.push=function(a){0<this.Qa.length&&(this.Ha+=1);this.Qa.push(a);this.Ha+=nb(a);Qe(this)};Pe.prototype.pop=function(){var a=this.Qa.pop();this.Ha-=nb(a);0<this.Qa.length&&--this.Ha};\nfunction Qe(a){if(768<a.Ha)throw Error(a.Pe+\"has a key path longer than 768 bytes (\"+a.Ha+\").\");if(32<a.Qa.length)throw Error(a.Pe+\"path specified exceeds the maximum depth that can be written (32) or object contains a cycle \"+Re(a));}function Re(a){return 0==a.Qa.length?\"\":\"in property '\"+a.Qa.join(\".\")+\"'\"};function Se(a){a instanceof Te||Ac(\"Don't call new Database() directly - please use firebase.database().\");this.ta=a;this.ba=new U(a,C);this.INTERNAL=new Ue(this)}var Ve={TIMESTAMP:{\".sv\":\"timestamp\"}};g=Se.prototype;g.app=null;g.jf=function(a){We(this,\"ref\");x(\"database.ref\",0,1,arguments.length);return n(a)?this.ba.n(a):this.ba};\ng.gg=function(a){We(this,\"database.refFromURL\");x(\"database.refFromURL\",1,1,arguments.length);var b=Bc(a);Xe(\"database.refFromURL\",b);var c=b.jc;c.host!==this.ta.L.host&&Ac(\"database.refFromURL: Host name does not match the current database: (found \"+c.host+\" but expected \"+this.ta.L.host+\")\");return this.jf(b.path.toString())};function We(a,b){null===a.ta&&Ac(\"Cannot call \"+b+\" on a deleted database.\")}g.Pf=function(){x(\"database.goOffline\",0,0,arguments.length);We(this,\"goOffline\");this.ta.ab()};\ng.Qf=function(){x(\"database.goOnline\",0,0,arguments.length);We(this,\"goOnline\");this.ta.kc()};Object.defineProperty(Se.prototype,\"app\",{get:function(){return this.ta.app}});function Ue(a){this.Ya=a}Ue.prototype.delete=function(){We(this.Ya,\"delete\");var a=Ye.Vb(),b=this.Ya.ta;w(a.lb,b.app.name)!==b&&Ac(\"Database \"+b.app.name+\" has already been deleted.\");b.ab();delete a.lb[b.app.name];this.Ya.ta=null;this.Ya.ba=null;this.Ya=this.Ya.INTERNAL=null;return firebase.Promise.resolve()};\nSe.prototype.ref=Se.prototype.jf;Se.prototype.refFromURL=Se.prototype.gg;Se.prototype.goOnline=Se.prototype.Qf;Se.prototype.goOffline=Se.prototype.Pf;Ue.prototype[\"delete\"]=Ue.prototype.delete;function mc(){this.k=this.B=null}mc.prototype.find=function(a){if(null!=this.B)return this.B.P(a);if(a.e()||null==this.k)return null;var b=J(a);a=D(a);return this.k.contains(b)?this.k.get(b).find(a):null};function oc(a,b,c){if(b.e())a.B=c,a.k=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.k&&(a.k=new oe);var d=J(b);a.k.contains(d)||a.k.add(d,new mc);a=a.k.get(d);b=D(b);oc(a,b,c)}}\nfunction Ze(a,b){if(b.e())return a.B=null,a.k=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.O(N,function(b,c){oc(a,new L(b),c)});return Ze(a,b)}return null!==a.k?(c=J(b),b=D(b),a.k.contains(c)&&Ze(a.k.get(c),b)&&a.k.remove(c),a.k.e()?(a.k=null,!0):!1):!0}function nc(a,b,c){null!==a.B?c(b,a.B):a.O(function(a,e){var f=new L(b.toString()+\"/\"+a);nc(e,f,c)})}mc.prototype.O=function(a){null!==this.k&&pe(this.k,function(b,c){a(b,c)})};var $e=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,af=/[\\[\\].#$\\u0000-\\u001F\\u007F]/;function bf(a){return p(a)&&0!==a.length&&!$e.test(a)}function cf(a){return null===a||p(a)||ga(a)&&!Cc(a)||ia(a)&&cb(a,\".sv\")}function df(a,b,c,d){d&&!n(b)||ef(y(a,1,d),b,c)}\nfunction ef(a,b,c){c instanceof L&&(c=new Pe(c,a));if(!n(b))throw Error(a+\"contains undefined \"+Re(c));if(ha(b))throw Error(a+\"contains a function \"+Re(c)+\" with contents: \"+b.toString());if(Cc(b))throw Error(a+\"contains \"+b.toString()+\" \"+Re(c));if(p(b)&&b.length>10485760/3&&10485760<nb(b))throw Error(a+\"contains a string greater than 10485760 utf8 bytes \"+Re(c)+\" ('\"+b.substring(0,50)+\"...')\");if(ia(b)){var d=!1,e=!1;db(b,function(b,h){if(\".value\"===b)d=!0;else if(\".priority\"!==b&&\".sv\"!==b&&(e=\n!0,!bf(b)))throw Error(a+\" contains an invalid key (\"+b+\") \"+Re(c)+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');c.push(b);ef(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains \".value\" child '+Re(c)+\" in addition to actual children.\");}}\nfunction ff(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((\".priority\"!==e[f]||f!==e.length-1)&&!bf(e[f]))throw Error(a+\"contains an invalid key (\"+e[f]+\") in path \"+d.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');}b.sort(Oe);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+\"contains a path \"+e.toString()+\" that is ancestor of another path \"+d.toString());e=d}}\nfunction gf(a,b,c){var d=y(a,1,!1);if(!ia(b)||ea(b))throw Error(d+\" must be an object containing the children to replace.\");var e=[];db(b,function(a,b){var k=new L(a);ef(d,b,c.n(k));if(\".priority\"===Bd(k)&&!cf(b))throw Error(d+\"contains an invalid value for '\"+k.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");e.push(k)});ff(d,e)}\nfunction hf(a,b,c){if(Cc(c))throw Error(y(a,b,!1)+\"is \"+c.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!cf(c))throw Error(y(a,b,!1)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\");}\nfunction jf(a,b,c){if(!c||n(b))switch(b){case \"value\":case \"child_added\":case \"child_removed\":case \"child_changed\":case \"child_moved\":break;default:throw Error(y(a,1,c)+'must be a valid event type: \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".');}}function kf(a,b){if(n(b)&&!bf(b))throw Error(y(a,2,!0)+'was an invalid key: \"'+b+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").');}\nfunction lf(a,b){if(!p(b)||0===b.length||af.test(b))throw Error(y(a,1,!1)+'was an invalid path: \"'+b+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"');}function mf(a,b){if(\".info\"===J(b))throw Error(a+\" failed: Can't modify data under /.info/\");}\nfunction Xe(a,b){var c=b.path.toString(),d;!(d=!p(b.jc.host)||0===b.jc.host.length||!bf(b.jc.ne))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\\/*\\.info(\\/|$)/,\"/\")),d=!(p(c)&&0!==c.length&&!af.test(c)));if(d)throw Error(y(a,1,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".');};function V(a,b){this.ta=a;this.qa=b}V.prototype.cancel=function(a){x(\"Firebase.onDisconnect().cancel\",0,1,arguments.length);A(\"Firebase.onDisconnect().cancel\",1,a,!0);var b=new hb;this.ta.xd(this.qa,ib(b,a));return b.ra};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){x(\"Firebase.onDisconnect().remove\",0,1,arguments.length);mf(\"Firebase.onDisconnect().remove\",this.qa);A(\"Firebase.onDisconnect().remove\",1,a,!0);var b=new hb;nf(this.ta,this.qa,null,ib(b,a));return b.ra};\nV.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){x(\"Firebase.onDisconnect().set\",1,2,arguments.length);mf(\"Firebase.onDisconnect().set\",this.qa);df(\"Firebase.onDisconnect().set\",a,this.qa,!1);A(\"Firebase.onDisconnect().set\",2,b,!0);var c=new hb;nf(this.ta,this.qa,a,ib(c,b));return c.ra};V.prototype.set=V.prototype.set;\nV.prototype.Jb=function(a,b,c){x(\"Firebase.onDisconnect().setWithPriority\",2,3,arguments.length);mf(\"Firebase.onDisconnect().setWithPriority\",this.qa);df(\"Firebase.onDisconnect().setWithPriority\",a,this.qa,!1);hf(\"Firebase.onDisconnect().setWithPriority\",2,b);A(\"Firebase.onDisconnect().setWithPriority\",3,c,!0);var d=new hb;of(this.ta,this.qa,a,b,ib(d,c));return d.ra};V.prototype.setWithPriority=V.prototype.Jb;\nV.prototype.update=function(a,b){x(\"Firebase.onDisconnect().update\",1,2,arguments.length);mf(\"Firebase.onDisconnect().update\",this.qa);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;O(\"Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}gf(\"Firebase.onDisconnect().update\",a,this.qa);A(\"Firebase.onDisconnect().update\",2,b,!0);\nc=new hb;pf(this.ta,this.qa,a,ib(c,b));return c.ra};V.prototype.update=V.prototype.update;function qf(a){H(ea(a)&&0<a.length,\"Requires a non-empty array\");this.Bf=a;this.Dc={}}qf.prototype.Ee=function(a,b){var c;c=this.Dc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].He.apply(c[d].Ma,Array.prototype.slice.call(arguments,1))};qf.prototype.gc=function(a,b,c){rf(this,a);this.Dc[a]=this.Dc[a]||[];this.Dc[a].push({He:b,Ma:c});(a=this.Ue(a))&&b.apply(c,a)};\nqf.prototype.Ic=function(a,b,c){rf(this,a);a=this.Dc[a]||[];for(var d=0;d<a.length;d++)if(a[d].He===b&&(!c||c===a[d].Ma)){a.splice(d,1);break}};function rf(a,b){H(Oa(a.Bf,function(a){return a===b}),\"Unknown event: \"+b)};function sf(){qf.call(this,[\"online\"]);this.hc=!0;if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window.addEventListener&&!qb()){var a=this;window.addEventListener(\"online\",function(){a.hc||(a.hc=!0,a.Ee(\"online\",!0))},!1);window.addEventListener(\"offline\",function(){a.hc&&(a.hc=!1,a.Ee(\"online\",!1))},!1)}}la(sf,qf);sf.prototype.Ue=function(a){H(\"online\"===a,\"Unknown event type: \"+a);return[this.hc]};ca(sf);function tf(){qf.call(this,[\"visible\"]);var a,b;\"undefined\"!==typeof document&&\"undefined\"!==typeof document.addEventListener&&(\"undefined\"!==typeof document.hidden?(b=\"visibilitychange\",a=\"hidden\"):\"undefined\"!==typeof document.mozHidden?(b=\"mozvisibilitychange\",a=\"mozHidden\"):\"undefined\"!==typeof document.msHidden?(b=\"msvisibilitychange\",a=\"msHidden\"):\"undefined\"!==typeof document.webkitHidden&&(b=\"webkitvisibilitychange\",a=\"webkitHidden\"));this.Mb=!0;if(b){var c=this;document.addEventListener(b,\nfunction(){var b=!document[a];b!==c.Mb&&(c.Mb=b,c.Ee(\"visible\",b))},!1)}}la(tf,qf);tf.prototype.Ue=function(a){H(\"visible\"===a,\"Unknown event type: \"+a);return[this.Mb]};ca(tf);var uf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(c%64),c=Math.floor(c/64);H(0===c,\"Cannot push at time == 0\");c=e.join(\"\");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(b[f]);H(20===c.length,\"nextPushId: Length should be 20.\");\nreturn c}}();function vf(a,b){this.La=a;this.ba=b?b:wf}g=vf.prototype;g.Oa=function(a,b){return new vf(this.La,this.ba.Oa(a,b,this.La).X(null,null,!1,null,null))};g.remove=function(a){return new vf(this.La,this.ba.remove(a,this.La).X(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ba;!c.e();){b=this.La(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};\nfunction xf(a,b){for(var c,d=a.ba,e=null;!d.e();){c=a.La(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\");}g.e=function(){return this.ba.e()};g.count=function(){return this.ba.count()};g.Gc=function(){return this.ba.Gc()};g.ec=function(){return this.ba.ec()};g.ha=function(a){return this.ba.ha(a)};\ng.Wb=function(a){return new yf(this.ba,null,this.La,!1,a)};g.Xb=function(a,b){return new yf(this.ba,a,this.La,!1,b)};g.Zb=function(a,b){return new yf(this.ba,a,this.La,!0,b)};g.We=function(a){return new yf(this.ba,null,this.La,!0,a)};function yf(a,b,c,d,e){this.Hd=e||null;this.je=d;this.Pa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.je?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.je?a.right:a.left}\nfunction R(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.je)for(b=b.left;!b.e();)a.Pa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Pa.push(b),b=b.left;return c}function zf(a){if(0===a.Pa.length)return null;var b;b=a.Pa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function Af(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:wf;this.right=null!=e?e:wf}g=Af.prototype;\ng.X=function(a,b,c,d,e){return new Af(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ha=function(a){return this.left.ha(a)||a(this.key,this.value)||this.right.ha(a)};function Bf(a){return a.left.e()?a:Bf(a.left)}g.Gc=function(){return Bf(this).key};g.ec=function(){return this.right.e()?this.key:this.right.ec()};\ng.Oa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Oa(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Oa(a,b,c));return Cf(e)};function Df(a){if(a.left.e())return wf;a.left.ea()||a.left.left.ea()||(a=Ef(a));a=a.X(null,null,null,Df(a.left),null);return Cf(a)}\ng.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ea()||c.left.left.ea()||(c=Ef(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.ea()&&(c=Ff(c));c.right.e()||c.right.ea()||c.right.left.ea()||(c=Gf(c),c.left.left.ea()&&(c=Ff(c),c=Gf(c)));if(0===b(a,c.key)){if(c.right.e())return wf;d=Bf(c.right);c=c.X(d.key,d.value,null,null,Df(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return Cf(c)};g.ea=function(){return this.color};\nfunction Cf(a){a.right.ea()&&!a.left.ea()&&(a=Hf(a));a.left.ea()&&a.left.left.ea()&&(a=Ff(a));a.left.ea()&&a.right.ea()&&(a=Gf(a));return a}function Ef(a){a=Gf(a);a.right.left.ea()&&(a=a.X(null,null,null,null,Ff(a.right)),a=Hf(a),a=Gf(a));return a}function Hf(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function Ff(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}\nfunction Gf(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function If(){}g=If.prototype;g.X=function(){return this};g.Oa=function(a,b){return new Af(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ha=function(){return!1};g.Gc=function(){return null};g.ec=function(){return null};g.ea=function(){return!1};var wf=new If;function P(a,b,c){this.k=a;(this.aa=b)&&Sd(this.aa);a.e()&&H(!this.aa||this.aa.e(),\"An empty node cannot have a priority\");this.yb=c;this.Db=null}g=P.prototype;g.J=function(){return!1};g.C=function(){return this.aa||G};g.fa=function(a){return this.k.e()?this:new P(this.k,a,this.yb)};g.Q=function(a){if(\".priority\"===a)return this.C();a=this.k.get(a);return null===a?G:a};g.P=function(a){var b=J(a);return null===b?this:this.Q(b).P(D(a))};g.Da=function(a){return null!==this.k.get(a)};\ng.T=function(a,b){H(b,\"We should always be passing snapshot nodes\");if(\".priority\"===a)return this.fa(b);var c=new K(a,b),d,e;b.e()?(d=this.k.remove(a),c=me(this.yb,c,this.k)):(d=this.k.Oa(a,b),c=ke(this.yb,c,this.k));e=d.e()?G:this.aa;return new P(d,e,c)};g.F=function(a,b){var c=J(a);if(null===c)return b;H(\".priority\"!==J(a)||1===Ad(a),\".priority must be the last token in a path\");var d=this.Q(c).F(D(a),b);return this.T(c,d)};g.e=function(){return this.k.e()};g.Eb=function(){return this.k.count()};\nvar Jf=/^(0|[1-9]\\d*)$/;g=P.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.O(N,function(f,h){b[f]=h.H(a);c++;e&&Jf.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[\".priority\"]=this.C().H());return b};g.hash=function(){if(null===this.Db){var a=\"\";this.C().e()||(a+=\"priority:\"+Ud(this.C().H())+\":\");this.O(N,function(b,c){var d=c.hash();\"\"!==d&&(a+=\":\"+b+\":\"+d)});this.Db=\"\"===a?\"\":uc(a)}return this.Db};\ng.Ve=function(a,b,c){return(c=Kf(this,c))?(a=xf(c,new K(a,b)))?a.name:null:xf(this.k,a)};function Qd(a,b){var c;c=(c=Kf(a,b))?(c=c.Gc())&&c.name:a.k.Gc();return c?new K(c,a.k.get(c)):null}function Rd(a,b){var c;c=(c=Kf(a,b))?(c=c.ec())&&c.name:a.k.ec();return c?new K(c,a.k.get(c)):null}g.O=function(a,b){var c=Kf(this,a);return c?c.ha(function(a){return b(a.name,a.R)}):this.k.ha(b)};g.Wb=function(a){return this.Xb(a.Hc(),a)};\ng.Xb=function(a,b){var c=Kf(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.k.Xb(a.name,jc),d=zf(c);null!=d&&0>b.compare(d,a);)R(c),d=zf(c);return c};g.We=function(a){return this.Zb(a.Fc(),a)};g.Zb=function(a,b){var c=Kf(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.k.Zb(a.name,jc),d=zf(c);null!=d&&0<b.compare(d,a);)R(c),d=zf(c);return c};g.sc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===Zd?-1:0};\ng.nb=function(a){if(a===Fd||va(this.yb.cc,a.toString()))return this;var b=this.yb,c=this.k;H(a!==Fd,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var d=[],e=!1,c=c.Wb(jc),f=R(c);f;)e=e||a.xc(f.R),d.push(f),f=R(c);d=e?le(d,Pd(a)):Wd;e=a.toString();c=za(b.cc);c[e]=a;a=za(b.od);a[e]=d;return new P(this.k,this.aa,new je(a,c))};g.yc=function(a){return a===Fd||va(this.yb.cc,a.toString())};\ng.Z=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().Z(a.C())&&this.k.count()===a.k.count()){var b=this.Wb(N);a=a.Wb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.R.Z(d.R))return!1;c=R(b);d=R(a)}return null===c&&null===d}return!1};function Kf(a,b){return b===Fd?null:a.yb.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return G;var c=null;\"object\"===typeof a&&\".priority\"in a?c=a[\".priority\"]:\"undefined\"!==typeof b&&(c=b);H(null===c||\"string\"===typeof c||\"number\"===typeof c||\"object\"===typeof c&&\".sv\"in c,\"Invalid priority type found: \"+typeof c);\"object\"===typeof a&&\".value\"in a&&null!==a[\".value\"]&&(a=a[\".value\"]);if(\"object\"!==typeof a||\".sv\"in a)return new qc(a,M(c));if(a instanceof Array){var d=G,e=a;r(e,function(a,b){if(cb(e,b)&&\".\"!==b.substring(0,1)){var c=M(a);if(c.J()||!c.e())d=\nd.T(b,c)}});return d.fa(M(c))}var f=[],h=!1,k=a;db(k,function(a){if(\"string\"!==typeof a||\".\"!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.C().e(),f.push(new K(a,b)))}});if(0==f.length)return G;var l=le(f,gc,function(a){return a.name},ic);if(h){var m=le(f,Pd(N));return new P(l,M(c),new je({\".priority\":m},{\".priority\":N}))}return new P(l,M(c),ne)}var Lf=Math.log(2);\nfunction Mf(a){this.count=parseInt(Math.log(a+1)/Lf,10);this.Ne=this.count-1;this.Cf=a+1&parseInt(Array(this.count+1).join(\"1\"),2)}function Nf(a){var b=!(a.Cf&1<<a.Ne);a.Ne--;return b}\nfunction le(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],u=c?c(m):m;return new Af(u,m.R,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),z=e(m+1,d),m=a[m],u=c?c(m):m;return new Af(u,m.R,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],F=c?c(k):k,z=new Af(F,k.R,h,null,z);f?f.left=z:m=z;f=z}for(var f=null,m=null,u=a.length,z=0;z<b.count;++z){var F=Nf(b),id=Math.pow(2,b.count-(z+1));F?d(id,!1):(d(id,!1),d(id,!0))}return m}(new Mf(a.length));\nreturn null!==f?new vf(d||b,f):new vf(d||b)}function Ud(a){return\"number\"===typeof a?\"number:\"+Jc(a):\"string:\"+a}function Sd(a){if(a.J()){var b=a.H();H(\"string\"===typeof b||\"number\"===typeof b||\"object\"===typeof b&&cb(b,\".sv\"),\"Priority must be a string or number.\")}else H(a===Zd||a.e(),\"priority of unexpected type.\");H(a===Zd||a.C().e(),\"Priority nodes can't have a priority of their own.\")}var G=new P(new vf(ic),null,ne);function Of(){P.call(this,new vf(ic),G,ne)}la(Of,P);g=Of.prototype;\ng.sc=function(a){return a===this?0:1};g.Z=function(a){return a===this};g.C=function(){return this};g.Q=function(){return G};g.e=function(){return!1};var Zd=new Of,Xd=new K(\"[MIN_NAME]\",G),ce=new K(\"[MAX_NAME]\",Zd);function W(a,b,c){this.A=a;this.V=b;this.g=c}W.prototype.H=function(){x(\"Firebase.DataSnapshot.val\",0,0,arguments.length);return this.A.H()};W.prototype.val=W.prototype.H;W.prototype.Qe=function(){x(\"Firebase.DataSnapshot.exportVal\",0,0,arguments.length);return this.A.H(!0)};W.prototype.exportVal=W.prototype.Qe;W.prototype.Lf=function(){x(\"Firebase.DataSnapshot.exists\",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.Lf;\nW.prototype.n=function(a){x(\"Firebase.DataSnapshot.child\",0,1,arguments.length);ga(a)&&(a=String(a));lf(\"Firebase.DataSnapshot.child\",a);var b=new L(a),c=this.V.n(b);return new W(this.A.P(b),c,N)};W.prototype.child=W.prototype.n;W.prototype.Da=function(a){x(\"Firebase.DataSnapshot.hasChild\",1,1,arguments.length);lf(\"Firebase.DataSnapshot.hasChild\",a);var b=new L(a);return!this.A.P(b).e()};W.prototype.hasChild=W.prototype.Da;\nW.prototype.C=function(){x(\"Firebase.DataSnapshot.getPriority\",0,0,arguments.length);return this.A.C().H()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){x(\"Firebase.DataSnapshot.forEach\",1,1,arguments.length);A(\"Firebase.DataSnapshot.forEach\",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.O(this.g,function(c,d){return a(new W(d,b.V.n(c),N))})};W.prototype.forEach=W.prototype.forEach;\nW.prototype.kd=function(){x(\"Firebase.DataSnapshot.hasChildren\",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.kd;W.prototype.getKey=function(){x(\"Firebase.DataSnapshot.key\",0,0,arguments.length);return this.V.getKey()};Lc(W.prototype,\"key\",W.prototype.getKey);W.prototype.Eb=function(){x(\"Firebase.DataSnapshot.numChildren\",0,0,arguments.length);return this.A.Eb()};W.prototype.numChildren=W.prototype.Eb;\nW.prototype.wb=function(){x(\"Firebase.DataSnapshot.ref\",0,0,arguments.length);return this.V};Lc(W.prototype,\"ref\",W.prototype.wb);function yd(a,b){this.N=a;this.Ld=b}function vd(a,b,c,d){return new yd(new $b(b,c,d),a.Ld)}function zd(a){return a.N.da?a.N.j():null}yd.prototype.w=function(){return this.Ld};function ac(a){return a.Ld.da?a.Ld.j():null};function Pf(a,b){this.V=a;var c=a.m,d=new Gd(c.g),c=S(c)?new Gd(c.g):c.xa?new Md(c):new Hd(c);this.hf=new pd(c);var e=b.w(),f=b.N,h=d.ya(G,e.j(),null),k=c.ya(G,f.j(),null);this.Ka=new yd(new $b(k,f.da,c.Na()),new $b(h,e.da,d.Na()));this.Za=[];this.Jf=new kd(a)}function Qf(a){return a.V}g=Pf.prototype;g.w=function(){return this.Ka.w().j()};g.hb=function(a){var b=ac(this.Ka);return b&&(S(this.V.m)||!a.e()&&!b.Q(J(a)).e())?b.P(a):null};g.e=function(){return 0===this.Za.length};g.Nb=function(a){this.Za.push(a)};\ng.kb=function(a,b){var c=[];if(b){H(null==a,\"A cancel should cancel all event registrations.\");var d=this.V.path;Ja(this.Za,function(a){(a=a.Le(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Za.length;++f){var h=this.Za[f];if(!h.matches(a))e.push(h);else if(a.Xe()){e=e.concat(this.Za.slice(f+1));break}}this.Za=e}else this.Za=[];return c};\ng.eb=function(a,b,c){a.type===Wc&&null!==a.source.Hb&&(H(ac(this.Ka),\"We should always have a full cache before handling merges\"),H(zd(this.Ka),\"Missing event cache, even though we have a server cache\"));var d=this.Ka;a=this.hf.eb(d,a,b,c);b=this.hf;c=a.Sd;H(c.N.j().yc(b.U.g),\"Event snap not indexed\");H(c.w().j().yc(b.U.g),\"Server snap not indexed\");H(dc(a.Sd.w())||!dc(d.w()),\"Once a server snap is complete, it should never go back\");this.Ka=a.Sd;return Rf(this,a.Df,a.Sd.N.j(),null)};\nfunction Sf(a,b){var c=a.Ka.N,d=[];c.j().J()||c.j().O(N,function(a,b){d.push(new I(\"child_added\",b,a))});c.da&&d.push(bc(c.j()));return Rf(a,d,c.j(),b)}function Rf(a,b,c,d){return ld(a.Jf,b,c,d?[d]:a.Za)};function Tf(a,b,c){this.Pb=a;this.rb=b;this.tb=c||null}g=Tf.prototype;g.nf=function(a){return\"value\"===a};g.createEvent=function(a,b){var c=b.m.g;return new Ub(\"value\",this,new W(a.Ja,b.wb(),c))};g.Tb=function(a){var b=this.tb;if(\"cancel\"===a.ee()){H(this.rb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.Pb;return function(){d.call(b,a.Md)}};g.Le=function(a,b){return this.rb?new Vb(this,a,b):null};\ng.matches=function(a){return a instanceof Tf?a.Pb&&this.Pb?a.Pb===this.Pb&&a.tb===this.tb:!0:!1};g.Xe=function(){return null!==this.Pb};function Uf(a,b,c){this.ga=a;this.rb=b;this.tb=c}g=Uf.prototype;g.nf=function(a){a=\"children_added\"===a?\"child_added\":a;return(\"children_removed\"===a?\"child_removed\":a)in this.ga};g.Le=function(a,b){return this.rb?new Vb(this,a,b):null};\ng.createEvent=function(a,b){H(null!=a.Xa,\"Child events should have a childName.\");var c=b.wb().n(a.Xa);return new Ub(a.type,this,new W(a.Ja,c,b.m.g),a.Dd)};g.Tb=function(a){var b=this.tb;if(\"cancel\"===a.ee()){H(this.rb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.ga[a.hd];return function(){d.call(b,a.Md,a.Dd)}};\ng.matches=function(a){if(a instanceof Uf){if(!this.ga||!a.ga)return!0;if(this.tb===a.tb){var b=ra(a.ga);if(b===ra(this.ga)){if(1===b){var b=sa(a.ga),c=sa(this.ga);return c===b&&(!a.ga[b]||!this.ga[c]||a.ga[b]===this.ga[c])}return qa(this.ga,function(b,c){return a.ga[c]===b})}}}return!1};g.Xe=function(){return null!==this.ga};function X(a,b,c,d){this.u=a;this.path=b;this.m=c;this.Nc=d}\nfunction Vf(a){var b=null,c=null;a.ka&&(b=Jd(a));a.na&&(c=Ld(a));if(a.g===Fd){if(a.ka){if(\"[MIN_NAME]\"!=Id(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(\"string\"!==typeof b)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}if(a.na){if(\"[MAX_NAME]\"!=Kd(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(\"string\"!==\ntypeof c)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}}else if(a.g===N){if(null!=b&&!cf(b)||null!=c&&!cf(c))throw Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\");}else if(H(a.g instanceof Yd||a.g===de,\"unknown index type.\"),null!=b&&\"object\"===typeof b||null!=c&&\"object\"===typeof c)throw Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\");\n}function Wf(a){if(a.ka&&a.na&&a.xa&&(!a.xa||\"\"===a.mb))throw Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\");}function Xf(a,b){if(!0===a.Nc)throw Error(b+\": You can't combine multiple orderBy calls.\");}g=X.prototype;g.wb=function(){x(\"Query.ref\",0,0,arguments.length);return new U(this.u,this.path)};\ng.gc=function(a,b,c,d){x(\"Query.on\",2,4,arguments.length);jf(\"Query.on\",a,!1);A(\"Query.on\",2,b,!1);var e=Yf(\"Query.on\",c,d);if(\"value\"===a)Zf(this.u,this,new Tf(b,e.cancel||null,e.Ma||null));else{var f={};f[a]=b;Zf(this.u,this,new Uf(f,e.cancel,e.Ma))}return b};\ng.Ic=function(a,b,c){x(\"Query.off\",0,3,arguments.length);jf(\"Query.off\",a,!0);A(\"Query.off\",2,b,!0);eb(\"Query.off\",3,c);var d=null,e=null;\"value\"===a?d=new Tf(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Uf(e,null,c||null));e=this.u;d=\".info\"===J(this.path)?e.pd.kb(this,d):e.K.kb(this,d);Qb(e.ca,this.path,d)};\ng.$f=function(a,b){function c(k){f&&(f=!1,e.Ic(a,c),b&&b.call(d.Ma,k),h.resolve(k))}x(\"Query.once\",1,4,arguments.length);jf(\"Query.once\",a,!1);A(\"Query.once\",2,b,!0);var d=Yf(\"Query.once\",arguments[2],arguments[3]),e=this,f=!0,h=new hb;jb(h.ra);this.gc(a,c,function(b){e.Ic(a,c);d.cancel&&d.cancel.call(d.Ma,b);h.reject(b)});return h.ra};\ng.le=function(a){x(\"Query.limitToFirst\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.m.xa)throw Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new X(this.u,this.path,this.m.le(a),this.Nc)};\ng.me=function(a){x(\"Query.limitToLast\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.m.xa)throw Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new X(this.u,this.path,this.m.me(a),this.Nc)};\ng.ag=function(a){x(\"Query.orderByChild\",1,1,arguments.length);if(\"$key\"===a)throw Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===a)throw Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===a)throw Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');lf(\"Query.orderByChild\",a);Xf(this,\"Query.orderByChild\");var b=new L(a);if(b.e())throw Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");\nb=new Yd(b);b=he(this.m,b);Vf(b);return new X(this.u,this.path,b,!0)};g.bg=function(){x(\"Query.orderByKey\",0,0,arguments.length);Xf(this,\"Query.orderByKey\");var a=he(this.m,Fd);Vf(a);return new X(this.u,this.path,a,!0)};g.cg=function(){x(\"Query.orderByPriority\",0,0,arguments.length);Xf(this,\"Query.orderByPriority\");var a=he(this.m,N);Vf(a);return new X(this.u,this.path,a,!0)};\ng.dg=function(){x(\"Query.orderByValue\",0,0,arguments.length);Xf(this,\"Query.orderByValue\");var a=he(this.m,de);Vf(a);return new X(this.u,this.path,a,!0)};g.Nd=function(a,b){x(\"Query.startAt\",0,2,arguments.length);df(\"Query.startAt\",a,this.path,!0);kf(\"Query.startAt\",b);var c=this.m.Nd(a,b);Wf(c);Vf(c);if(this.m.ka)throw Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");n(a)||(b=a=null);return new X(this.u,this.path,c,this.Nc)};\ng.gd=function(a,b){x(\"Query.endAt\",0,2,arguments.length);df(\"Query.endAt\",a,this.path,!0);kf(\"Query.endAt\",b);var c=this.m.gd(a,b);Wf(c);Vf(c);if(this.m.na)throw Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new X(this.u,this.path,c,this.Nc)};\ng.If=function(a,b){x(\"Query.equalTo\",1,2,arguments.length);df(\"Query.equalTo\",a,this.path,!1);kf(\"Query.equalTo\",b);if(this.m.ka)throw Error(\"Query.equalTo: Starting point was already set (by another call to endAt or equalTo).\");if(this.m.na)throw Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.Nd(a,b).gd(a,b)};\ng.toString=function(){x(\"Query.toString\",0,0,arguments.length);for(var a=this.path,b=\"\",c=a.Y;c<a.o.length;c++)\"\"!==a.o[c]&&(b+=\"/\"+encodeURIComponent(String(a.o[c])));return this.u.toString()+(b||\"/\")};g.ja=function(){var a=Gc(ie(this.m));return\"{}\"===a?\"default\":a};\ng.isEqual=function(a){x(\"Query.isEqual\",1,1,arguments.length);if(!(a instanceof X))throw Error(\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\");var b=this.u===a.u,c=this.path.Z(a.path),d=this.ja()===a.ja();return b&&c&&d};\nfunction Yf(a,b,c){var d={cancel:null,Ma:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Ma=c,eb(a,4,d.Ma);else if(b)if(\"object\"===typeof b&&null!==b)d.Ma=b;else if(\"function\"===typeof b)d.cancel=b;else throw Error(y(a,3,!0)+\" must either be a cancel callback or a context object.\");return d}X.prototype.on=X.prototype.gc;X.prototype.off=X.prototype.Ic;X.prototype.once=X.prototype.$f;X.prototype.limitToFirst=X.prototype.le;X.prototype.limitToLast=X.prototype.me;X.prototype.orderByChild=X.prototype.ag;\nX.prototype.orderByKey=X.prototype.bg;X.prototype.orderByPriority=X.prototype.cg;X.prototype.orderByValue=X.prototype.dg;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.gd;X.prototype.equalTo=X.prototype.If;X.prototype.toString=X.prototype.toString;X.prototype.isEqual=X.prototype.isEqual;Lc(X.prototype,\"ref\",X.prototype.wb);function $f(a,b){this.value=a;this.children=b||ag}var ag=new vf(function(a,b){return a===b?0:a<b?-1:1});function bg(a){var b=Q;r(a,function(a,d){b=b.set(new L(d),a)});return b}g=$f.prototype;g.e=function(){return null===this.value&&this.children.e()};function cg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=cg(a,D(b),c),null!=b?{path:(new L(d)).n(b.path),value:b.value}:null):null}\nfunction dg(a,b){return cg(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q};g.set=function(a,b){if(a.e())return new $f(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Oa(c,d);return new $f(this.value,c)};\ng.remove=function(a){if(a.e())return this.children.e()?Q:new $f(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Oa(b,a),null===this.value&&b.e()?Q:new $f(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};\nfunction Ed(a,b,c){if(b.e())return c;var d=J(b);b=Ed(a.children.get(d)||Q,D(b),c);d=b.e()?a.children.remove(d):a.children.Oa(d,b);return new $f(a.value,d)}function eg(a,b){return fg(a,C,b)}function fg(a,b,c){var d={};a.children.ha(function(a,f){d[a]=fg(f,b.n(a),c)});return c(b,a.value,d)}function gg(a,b,c){return hg(a,b,C,c)}function hg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?hg(a,D(b),c.n(e),d):null}\nfunction ig(a,b,c){jg(a,b,C,c)}function jg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?jg(a,D(b),c.n(e),d):Q}function Cd(a,b){kg(a,C,b)}function kg(a,b,c){a.children.ha(function(a,e){kg(e,b.n(a),c)});a.value&&c(b,a.value)}function lg(a,b){a.children.ha(function(a,d){d.value&&b(a,d.value)})}var Q=new $f(null);$f.prototype.toString=function(){var a={};Cd(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function mg(a,b,c){this.type=ud;this.source=ng;this.path=a;this.Ob=b;this.Id=c}mg.prototype.Mc=function(a){if(this.path.e()){if(null!=this.Ob.value)return H(this.Ob.children.e(),\"affectedTree should not have overlapping affected paths.\"),this;a=this.Ob.subtree(new L(a));return new mg(C,a,this.Id)}H(J(this.path)===a,\"operationForChild called for unrelated child.\");return new mg(D(this.path),this.Ob,this.Id)};\nmg.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" ack write revert=\"+this.Id+\" affectedTree=\"+this.Ob+\")\"};var Bb=0,Wc=1,ud=2,Db=3;function og(a,b,c,d){this.ce=a;this.Se=b;this.Hb=c;this.Ce=d;H(!d||b,\"Tagged queries must be from server.\")}var ng=new og(!0,!1,null,!1),pg=new og(!1,!0,null,!1);og.prototype.toString=function(){return this.ce?\"user\":this.Ce?\"server(queryID=\"+this.Hb+\")\":\"server\"};function qg(a){this.W=a}var rg=new qg(new $f(null));function sg(a,b,c){if(b.e())return new qg(new $f(c));var d=dg(a.W,b);if(null!=d){var e=d.path,d=d.value;b=T(e,b);d=d.F(b,c);return new qg(a.W.set(e,d))}a=Ed(a.W,b,new $f(c));return new qg(a)}function tg(a,b,c){var d=a;db(c,function(a,c){d=sg(d,b.n(a),c)});return d}qg.prototype.Ed=function(a){if(a.e())return rg;a=Ed(this.W,a,Q);return new qg(a)};function ug(a,b){var c=dg(a.W,b);return null!=c?a.W.get(c.path).P(T(c.path,b)):null}\nfunction vg(a){var b=[],c=a.W.value;null!=c?c.J()||c.O(N,function(a,c){b.push(new K(a,c))}):a.W.children.ha(function(a,c){null!=c.value&&b.push(new K(a,c.value))});return b}function wg(a,b){if(b.e())return a;var c=ug(a,b);return null!=c?new qg(new $f(c)):new qg(a.W.subtree(b))}qg.prototype.e=function(){return this.W.e()};qg.prototype.apply=function(a){return xg(C,this.W,a)};\nfunction xg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ha(function(b,f){\".priority\"===b?(H(null!==f.value,\"Priority writes must always be leaf nodes\"),d=f.value):c=xg(a.n(b),f,c)});c.P(a).e()||null===d||(c=c.F(a.n(\".priority\"),d));return c};function yg(){this.za={}}g=yg.prototype;g.e=function(){return ya(this.za)};g.eb=function(a,b,c){var d=a.source.Hb;if(null!==d)return d=w(this.za,d),H(null!=d,\"SyncTree gave us an op for an invalid query.\"),d.eb(a,b,c);var e=[];r(this.za,function(d){e=e.concat(d.eb(a,b,c))});return e};g.Nb=function(a,b,c,d,e){var f=a.ja(),h=w(this.za,f);if(!h){var h=c.Aa(e?d:null),k=!1;h?k=!0:(h=d instanceof P?c.rc(d):G,k=!1);h=new Pf(a,new yd(new $b(h,k,!1),new $b(d,e,!1)));this.za[f]=h}h.Nb(b);return Sf(h,b)};\ng.kb=function(a,b,c){var d=a.ja(),e=[],f=[],h=null!=zg(this);if(\"default\"===d){var k=this;r(this.za,function(a,d){f=f.concat(a.kb(b,c));a.e()&&(delete k.za[d],S(a.V.m)||e.push(a.V))})}else{var l=w(this.za,d);l&&(f=f.concat(l.kb(b,c)),l.e()&&(delete this.za[d],S(l.V.m)||e.push(l.V)))}h&&null==zg(this)&&e.push(new U(a.u,a.path));return{hg:e,Kf:f}};function Ag(a){return Ka(ta(a.za),function(a){return!S(a.V.m)})}g.hb=function(a){var b=null;r(this.za,function(c){b=b||c.hb(a)});return b};\nfunction Bg(a,b){if(S(b.m))return zg(a);var c=b.ja();return w(a.za,c)}function zg(a){return xa(a.za,function(a){return S(a.V.m)})||null};function Cg(){this.S=rg;this.la=[];this.Bc=-1}function Dg(a,b){for(var c=0;c<a.la.length;c++){var d=a.la[c];if(d.Zc===b)return d}return null}g=Cg.prototype;\ng.Ed=function(a){var b=Pa(this.la,function(b){return b.Zc===a});H(0<=b,\"removeWrite called with nonexistent writeId.\");var c=this.la[b];this.la.splice(b,1);for(var d=c.visible,e=!1,f=this.la.length-1;d&&0<=f;){var h=this.la[f];h.visible&&(f>=b&&Eg(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.S=Fg(this.la,Gg,C),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(c.Ga)this.S=this.S.Ed(c.path);else{var k=this;r(c.children,function(a,b){k.S=k.S.Ed(c.path.n(b))})}return!0}return!1};\ng.Aa=function(a,b,c,d){if(c||d){var e=wg(this.S,a);return!d&&e.e()?b:d||null!=b||null!=ug(e,C)?(e=Fg(this.la,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||G,e.apply(b)):null}e=ug(this.S,a);if(null!=e)return e;e=wg(this.S,a);return e.e()?b:null!=b||null!=ug(e,C)?(b=b||G,e.apply(b)):null};\ng.rc=function(a,b){var c=G,d=ug(this.S,a);if(d)d.J()||d.O(N,function(a,b){c=c.T(a,b)});else if(b){var e=wg(this.S,a);b.O(N,function(a,b){var d=wg(e,new L(a)).apply(b);c=c.T(a,d)});Ja(vg(e),function(a){c=c.T(a.name,a.R)})}else e=wg(this.S,a),Ja(vg(e),function(a){c=c.T(a.name,a.R)});return c};g.ad=function(a,b,c,d){H(c||d,\"Either existingEventSnap or existingServerSnap must exist\");a=a.n(b);if(null!=ug(this.S,a))return null;a=wg(this.S,a);return a.e()?d.P(b):a.apply(d.P(b))};\ng.qc=function(a,b,c){a=a.n(b);var d=ug(this.S,a);return null!=d?d:Zb(c,b)?wg(this.S,a).apply(c.j().Q(b)):null};g.lc=function(a){return ug(this.S,a)};g.Wd=function(a,b,c,d,e,f){var h;a=wg(this.S,a);h=ug(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.nb(f);if(h.e()||h.J())return[];b=[];a=Pd(f);e=e?h.Zb(c,f):h.Xb(c,f);for(f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b};\nfunction Eg(a,b){return a.Ga?a.path.contains(b):!!wa(a.children,function(c,d){return a.path.n(d).contains(b)})}function Gg(a){return a.visible}\nfunction Fg(a,b,c){for(var d=rg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ga)c.contains(h)?(h=T(c,h),d=sg(d,h,f.Ga)):h.contains(c)&&(h=T(h,c),d=sg(d,C,f.Ga.P(h)));else if(f.children)if(c.contains(h))h=T(c,h),d=tg(d,h,f.children);else{if(h.contains(c))if(h=T(h,c),h.e())d=tg(d,C,f.children);else if(f=w(f.children,J(h)))f=f.P(D(h)),d=sg(d,C,f)}else throw sc(\"WriteRecord should have .snap or .children\");}}return d}function Hg(a,b){this.Lb=a;this.W=b}g=Hg.prototype;\ng.Aa=function(a,b,c){return this.W.Aa(this.Lb,a,b,c)};g.rc=function(a){return this.W.rc(this.Lb,a)};g.ad=function(a,b,c){return this.W.ad(this.Lb,a,b,c)};g.lc=function(a){return this.W.lc(this.Lb.n(a))};g.Wd=function(a,b,c,d,e){return this.W.Wd(this.Lb,a,b,c,d,e)};g.qc=function(a,b){return this.W.qc(this.Lb,a,b)};g.n=function(a){return new Hg(this.Lb.n(a),this.W)};function Ig(){this.children={};this.bd=0;this.value=null}function Jg(a,b,c){this.ud=a?a:\"\";this.Pc=b?b:null;this.A=c?c:new Ig}function Kg(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=J(c));)d=new Jg(e,d,w(d.A.children,e)||new Ig),c=D(c);return d}g=Jg.prototype;g.Ca=function(){return this.A.value};function Lg(a,b){H(\"undefined\"!==typeof b,\"Cannot set value to undefined\");a.A.value=b;Mg(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.bd=0;Mg(this)};\ng.kd=function(){return 0<this.A.bd};g.e=function(){return null===this.Ca()&&!this.kd()};g.O=function(a){var b=this;r(this.A.children,function(c,d){a(new Jg(d,b,c))})};function Ng(a,b,c,d){c&&!d&&b(a);a.O(function(a){Ng(a,b,!0,d)});c&&d&&b(a)}function Og(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Pc?this.ud:this.Pc.path()+\"/\"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Pc};\nfunction Mg(a){if(null!==a.Pc){var b=a.Pc,c=a.ud,d=a.e(),e=cb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.bd--,Mg(b)):d||e||(b.A.children[c]=a.A,b.A.bd++,Mg(b))}};function Pg(a,b,c,d,e,f){this.id=Qg++;this.f=yc(\"p:\"+this.id+\":\");this.qd={};this.$={};this.pa=[];this.Oc=0;this.Kc=[];this.ma=!1;this.Sa=1E3;this.td=3E5;this.Gb=b;this.Jc=c;this.se=d;this.L=a;this.ob=this.Fa=this.Cb=this.xe=null;this.$c=e;this.be=!1;this.ie=0;if(f)throw Error(\"Auth override specified in options, but not supported on non Node.js platforms\");this.Ge=f||null;this.ub=null;this.Mb=!1;this.Gd={};this.ig=0;this.Re=!0;this.Ac=this.ke=null;Rg(this,0);tf.Vb().gc(\"visible\",this.Zf,this);-1===\na.host.indexOf(\"fblocal\")&&sf.Vb().gc(\"online\",this.Yf,this)}var Qg=0,Sg=0;g=Pg.prototype;g.ua=function(a,b,c){var d=++this.ig;a={r:d,a:a,b:b};this.f(B(a));H(this.ma,\"sendRequest call when we're not connected not allowed.\");this.Fa.ua(a);c&&(this.Gd[d]=c)};\ng.$e=function(a,b,c,d){var e=a.ja(),f=a.path.toString();this.f(\"Listen called for \"+f+\" \"+e);this.$[f]=this.$[f]||{};H(Sc(a.m)||!S(a.m),\"listen() called for non-default but complete query\");H(!this.$[f][e],\"listen() called twice for same path/queryId.\");a={G:d,ld:b,eg:a,tag:c};this.$[f][e]=a;this.ma&&Tg(this,a)};\nfunction Tg(a,b){var c=b.eg,d=c.path.toString(),e=c.ja();a.f(\"Listen on \"+d+\" for \"+e);var f={p:d};b.tag&&(f.q=ie(c.m),f.t=b.tag);f.h=b.ld();a.ua(\"q\",f,function(f){var k=f.d,l=f.s;if(k&&\"object\"===typeof k&&cb(k,\"w\")){var m=w(k,\"w\");ea(m)&&0<=Ia(m,\"no_index\")&&O(\"Using an unspecified index. Consider adding \"+('\".indexOn\": \"'+c.m.g.toString()+'\"')+\" at \"+c.path.toString()+\" to your security rules for better performance\")}(a.$[d]&&a.$[d][e])===b&&(a.f(\"listen response\",f),\"ok\"!==l&&Ug(a,d,e),b.G&&b.G(l,\nk))})}g.kf=function(a){this.ob=a;this.f(\"Auth token refreshed\");this.ob?Vg(this):this.ma&&this.ua(\"unauth\",{},function(){});if(a&&40===a.length||Pc(a))this.f(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.td=3E4};function Vg(a){if(a.ma&&a.ob){var b=a.ob,c=Oc(b)?\"auth\":\"gauth\",d={cred:b};a.Ge&&(d.authvar=a.Ge);a.ua(c,d,function(c){var d=c.s;c=c.d||\"error\";a.ob===b&&(\"ok\"===d?a.ie=0:Wg(a,d,c))})}}\ng.uf=function(a,b){var c=a.path.toString(),d=a.ja();this.f(\"Unlisten called for \"+c+\" \"+d);H(Sc(a.m)||!S(a.m),\"unlisten() called for non-default but complete query\");if(Ug(this,c,d)&&this.ma){var e=ie(a.m);this.f(\"Unlisten on \"+c+\" for \"+d);c={p:c};b&&(c.q=e,c.t=b);this.ua(\"n\",c)}};g.pe=function(a,b,c){this.ma?Xg(this,\"o\",a,b,c):this.Kc.push({ue:a,action:\"o\",data:b,G:c})};g.cf=function(a,b,c){this.ma?Xg(this,\"om\",a,b,c):this.Kc.push({ue:a,action:\"om\",data:b,G:c})};\ng.xd=function(a,b){this.ma?Xg(this,\"oc\",a,null,b):this.Kc.push({ue:a,action:\"oc\",data:null,G:b})};function Xg(a,b,c,d,e){c={p:c,d:d};a.f(\"onDisconnect \"+b,c);a.ua(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){Yg(this,\"p\",a,b,c,d)};g.af=function(a,b,c,d){Yg(this,\"m\",a,b,c,d)};function Yg(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.pa.push({action:b,mf:d,G:e});a.Oc++;b=a.pa.length-1;a.ma?Zg(a,b):a.f(\"Buffering put: \"+c)}\nfunction Zg(a,b){var c=a.pa[b].action,d=a.pa[b].mf,e=a.pa[b].G;a.pa[b].fg=a.ma;a.ua(c,d,function(d){a.f(c+\" response\",d);delete a.pa[b];a.Oc--;0===a.Oc&&(a.pa=[]);e&&e(d.s,d.d)})}g.we=function(a){this.ma&&(a={c:a},this.f(\"reportStats\",a),this.ua(\"s\",a,function(a){\"ok\"!==a.s&&this.f(\"reportStats\",\"Error sending stats: \"+a.d)}))};\ng.wd=function(a){if(\"r\"in a){this.f(\"from server: \"+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if(\"error\"in a)throw\"A server-side error has occurred: \"+a.error;\"a\"in a&&(b=a.a,a=a.b,this.f(\"handleServerMessage\",b,a),\"d\"===b?this.Gb(a.p,a.d,!1,a.t):\"m\"===b?this.Gb(a.p,a.d,!0,a.t):\"c\"===b?$g(this,a.p,a.q):\"ac\"===b?Wg(this,a.s,a.d):\"sd\"===b?this.xe?this.xe(a):\"msg\"in a&&\"undefined\"!==typeof console&&console.log(\"FIREBASE: \"+a.msg.replace(\"\\n\",\"\\nFIREBASE: \")):zc(\"Unrecognized action received from server: \"+\nB(b)+\"\\nAre you using the latest client?\"))}};g.Lc=function(a,b){this.f(\"connection ready\");this.ma=!0;this.Ac=(new Date).getTime();this.se({serverTimeOffset:a-(new Date).getTime()});this.Cb=b;if(this.Re){var c={};c[\"sdk.js.\"+firebase.SDK_VERSION.replace(/\\./g,\"-\")]=1;qb()?c[\"framework.cordova\"]=1:\"object\"===typeof navigator&&\"ReactNative\"===navigator.product&&(c[\"framework.reactnative\"]=1);this.we(c)}ah(this);this.Re=!1;this.Jc(!0)};\nfunction Rg(a,b){H(!a.Fa,\"Scheduling a connect when we're already connected/ing?\");a.ub&&clearTimeout(a.ub);a.ub=setTimeout(function(){a.ub=null;bh(a)},Math.floor(b))}g.Zf=function(a){a&&!this.Mb&&this.Sa===this.td&&(this.f(\"Window became visible.  Reducing delay.\"),this.Sa=1E3,this.Fa||Rg(this,0));this.Mb=a};g.Yf=function(a){a?(this.f(\"Browser went online.\"),this.Sa=1E3,this.Fa||Rg(this,0)):(this.f(\"Browser went offline.  Killing connection.\"),this.Fa&&this.Fa.close())};\ng.df=function(){this.f(\"data client disconnected\");this.ma=!1;this.Fa=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&\"h\"in b.mf&&b.fg&&(b.G&&b.G(\"disconnect\"),delete this.pa[a],this.Oc--)}0===this.Oc&&(this.pa=[]);this.Gd={};ch(this)&&(this.Mb?this.Ac&&(3E4<(new Date).getTime()-this.Ac&&(this.Sa=1E3),this.Ac=null):(this.f(\"Window isn't visible.  Delaying reconnect.\"),this.Sa=this.td,this.ke=(new Date).getTime()),a=Math.max(0,this.Sa-((new Date).getTime()-this.ke)),a*=Math.random(),this.f(\"Trying to reconnect in \"+\na+\"ms\"),Rg(this,a),this.Sa=Math.min(this.td,1.3*this.Sa));this.Jc(!1)};\nfunction bh(a){if(ch(a)){a.f(\"Making a connection attempt\");a.ke=(new Date).getTime();a.Ac=null;var b=q(a.wd,a),c=q(a.Lc,a),d=q(a.df,a),e=a.id+\":\"+Sg++,f=a.Cb,h=!1,k=null,l=function(){k?k.close():(h=!0,d())};a.Fa={close:l,ua:function(a){H(k,\"sendRequest call when we're not connected not allowed.\");k.ua(a)}};var m=a.be;a.be=!1;a.$c.getToken(m).then(function(l){h?E(\"getToken() completed but was canceled\"):(E(\"getToken() completed. Creating connection.\"),a.ob=l&&l.accessToken,k=new Ce(e,a.L,b,c,d,function(b){O(b+\n\" (\"+a.L.toString()+\")\");a.ab(\"server_kill\")},f))}).then(null,function(b){a.f(\"Failed to get token: \"+b);h||l()})}}g.ab=function(a){E(\"Interrupting connection for reason: \"+a);this.qd[a]=!0;this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())};g.kc=function(a){E(\"Resuming connection for reason: \"+a);delete this.qd[a];ya(this.qd)&&(this.Sa=1E3,this.Fa||Rg(this,0))};\nfunction $g(a,b,c){c=c?La(c,function(a){return Gc(a)}).join(\"$\"):\"default\";(a=Ug(a,b,c))&&a.G&&a.G(\"permission_denied\")}function Ug(a,b,c){b=(new L(b)).toString();var d;n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===ra(a.$[b])&&delete a.$[b]):d=void 0;return d}\nfunction Wg(a,b,c){E(\"Auth token revoked: \"+b+\"/\"+c);a.ob=null;a.be=!0;a.Fa.close();\"invalid_token\"===b&&(a.ie++,3<=a.ie&&(a.Sa=3E4,a=a.$c,b='Provided authentication credentials for the app named \"'+a.oc.name+'\" are invalid. This usually indicates your app was not initialized correctly. ',b=\"credential\"in a.oc.options?b+'Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in a.oc.options?\nb+'Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':b+'Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(b)))}\nfunction ah(a){Vg(a);r(a.$,function(b){r(b,function(b){Tg(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&Zg(a,b);for(;a.Kc.length;)b=a.Kc.shift(),Xg(a,b.action,b.ue,b.data,b.G)}function ch(a){var b;b=sf.Vb().hc;return ya(a.qd)&&b};var Y={Mf:function(){re=dd=!0}};Y.forceLongPolling=Y.Mf;Y.Nf=function(){se=!0};Y.forceWebSockets=Y.Nf;Y.Tf=function(){return cd.isAvailable()};Y.isWebSocketsAvailable=Y.Tf;Y.lg=function(a,b){a.u.Ra.xe=b};Y.setSecurityDebugCallback=Y.lg;Y.ze=function(a,b){a.u.ze(b)};Y.stats=Y.ze;Y.Ae=function(a,b){a.u.Ae(b)};Y.statsIncrementCounter=Y.Ae;Y.fd=function(a){return a.u.fd};Y.dataUpdateCount=Y.fd;Y.Sf=function(a,b){a.u.he=b};Y.interceptServerData=Y.Sf;function dh(a){this.wa=Q;this.jb=new Cg;this.Be={};this.ic={};this.Cc=a}function eh(a,b,c,d,e){var f=a.jb,h=e;H(d>f.Bc,\"Stacking an older write on top of newer ones\");n(h)||(h=!0);f.la.push({path:b,Ga:c,Zc:d,visible:h});h&&(f.S=sg(f.S,b,c));f.Bc=d;return e?fh(a,new Ab(ng,b,c)):[]}function gh(a,b,c,d){var e=a.jb;H(d>e.Bc,\"Stacking an older merge on top of newer ones\");e.la.push({path:b,children:c,Zc:d,visible:!0});e.S=tg(e.S,b,c);e.Bc=d;c=bg(c);return fh(a,new Vc(ng,b,c))}\nfunction hh(a,b,c){c=c||!1;var d=Dg(a.jb,b);if(a.jb.Ed(b)){var e=Q;null!=d.Ga?e=e.set(C,!0):db(d.children,function(a,b){e=e.set(new L(a),b)});return fh(a,new mg(d.path,e,c))}return[]}function ih(a,b,c){c=bg(c);return fh(a,new Vc(pg,b,c))}function jh(a,b,c,d){d=kh(a,d);if(null!=d){var e=lh(d);d=e.path;e=e.Hb;b=T(d,b);c=new Ab(new og(!1,!0,e,!0),b,c);return mh(a,d,c)}return[]}\nfunction nh(a,b,c,d){if(d=kh(a,d)){var e=lh(d);d=e.path;e=e.Hb;b=T(d,b);c=bg(c);c=new Vc(new og(!1,!0,e,!0),b,c);return mh(a,d,c)}return[]}\ndh.prototype.Nb=function(a,b){var c=a.path,d=null,e=!1;ig(this.wa,c,function(a,b){var f=T(a,c);d=d||b.hb(f);e=e||null!=zg(b)});var f=this.wa.get(c);f?(e=e||null!=zg(f),d=d||f.hb(C)):(f=new yg,this.wa=this.wa.set(c,f));var h;null!=d?h=!0:(h=!1,d=G,lg(this.wa.subtree(c),function(a,b){var c=b.hb(C);c&&(d=d.T(a,c))}));var k=null!=Bg(f,a);if(!k&&!S(a.m)){var l=oh(a);H(!(l in this.ic),\"View does not exist, but we have a tag\");var m=ph++;this.ic[l]=m;this.Be[\"_\"+m]=l}h=f.Nb(a,b,new Hg(c,this.jb),d,h);k||\ne||(f=Bg(f,a),h=h.concat(qh(this,a,f)));return h};\ndh.prototype.kb=function(a,b,c){var d=a.path,e=this.wa.get(d),f=[];if(e&&(\"default\"===a.ja()||null!=Bg(e,a))){f=e.kb(a,b,c);e.e()&&(this.wa=this.wa.remove(d));e=f.hg;f=f.Kf;b=-1!==Pa(e,function(a){return S(a.m)});var h=gg(this.wa,d,function(a,b){return null!=zg(b)});if(b&&!h&&(d=this.wa.subtree(d),!d.e()))for(var d=rh(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=sh(this,l);this.Cc.ye(th(m),uh(this,m),l.ld,l.G)}if(!h&&0<e.length&&!c)if(b)this.Cc.Od(th(a),null);else{var u=this;Ja(e,function(a){a.ja();\nvar b=u.ic[oh(a)];u.Cc.Od(th(a),b)})}vh(this,e)}return f};dh.prototype.Aa=function(a,b){var c=this.jb,d=gg(this.wa,a,function(b,c){var d=T(b,a);if(d=c.hb(d))return d});return c.Aa(a,d,b,!0)};function rh(a){return eg(a,function(a,c,d){if(c&&null!=zg(c))return[zg(c)];var e=[];c&&(e=Ag(c));r(d,function(a){e=e.concat(a)});return e})}function vh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.m)){var d=oh(d),e=a.ic[d];delete a.ic[d];delete a.Be[\"_\"+e]}}}\nfunction th(a){return S(a.m)&&!Sc(a.m)?a.wb():a}function qh(a,b,c){var d=b.path,e=uh(a,b);c=sh(a,c);b=a.Cc.ye(th(b),e,c.ld,c.G);d=a.wa.subtree(d);if(e)H(null==zg(d.value),\"If we're adding a query, it shouldn't be shadowed\");else for(e=eg(d,function(a,b,c){if(!a.e()&&b&&null!=zg(b))return[Qf(zg(b))];var d=[];b&&(d=d.concat(La(Ag(b),function(a){return a.V})));r(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Cc.Od(th(c),uh(a,c));return b}\nfunction sh(a,b){var c=b.V,d=uh(a,c);return{ld:function(){return(b.w()||G).hash()},G:function(b){if(\"ok\"===b){if(d){var f=c.path;if(b=kh(a,d)){var h=lh(b);b=h.path;h=h.Hb;f=T(b,f);f=new Cb(new og(!1,!0,h,!0),f);b=mh(a,b,f)}else b=[]}else b=fh(a,new Cb(pg,c.path));return b}f=\"Unknown Error\";\"too_big\"===b?f=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"==b?f=\"Client doesn't have permission to access the desired data.\":\"unavailable\"==b&&\n(f=\"The service is unavailable\");f=Error(b+\" at \"+c.path.toString()+\": \"+f);f.code=b.toUpperCase();return a.kb(c,null,f)}}}function oh(a){return a.path.toString()+\"$\"+a.ja()}function lh(a){var b=a.indexOf(\"$\");H(-1!==b&&b<a.length-1,\"Bad queryKey.\");return{Hb:a.substr(b+1),path:new L(a.substr(0,b))}}function kh(a,b){var c=a.Be,d=\"_\"+b;return d in c?c[d]:void 0}function uh(a,b){var c=oh(b);return w(a.ic,c)}var ph=1;\nfunction mh(a,b,c){var d=a.wa.get(b);H(d,\"Missing sync point for query tag that we're tracking\");return d.eb(c,new Hg(b,a.jb),null)}function fh(a,b){return wh(a,b,a.wa,null,new Hg(C,a.jb))}function wh(a,b,c,d,e){if(b.path.e())return xh(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.hb(C));var h=[],k=J(b.path),l=b.Mc(k);if((c=c.children.get(k))&&l)var m=d?d.Q(k):null,k=e.n(k),h=h.concat(wh(a,l,c,m,k));f&&(h=h.concat(f.eb(b,e,d)));return h}\nfunction xh(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.hb(C));var h=[];c.children.ha(function(c,f){var m=d?d.Q(c):null,u=e.n(c),z=b.Mc(c);z&&(h=h.concat(xh(a,z,f,m,u)))});f&&(h=h.concat(f.eb(b,e,d)));return h};function Te(a,b,c){this.app=c;var d=new Eb(c);this.L=a;this.Va=$c(a);this.Vc=null;this.ca=new Nb;this.vd=1;this.Ra=null;if(b||0<=(\"object\"===typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Qc(this.L,q(this.Gb,this),d),setTimeout(q(this.Jc,this,!0),0);else{b=c.options.databaseAuthVariableOverride||null;if(null!==b){if(\"object\"!==da(b))throw Error(\"Only objects are supported for option databaseAuthVariableOverride\");\ntry{B(b)}catch(e){throw Error(\"Invalid authOverride provided: \"+e);}}this.va=this.Ra=new Pg(this.L,q(this.Gb,this),q(this.Jc,this),q(this.se,this),d,b)}var f=this;Fb(d,function(a){f.va.kf(a)});this.og=ad(a,q(function(){return new Xc(this.Va,this.va)},this));this.mc=new Jg;this.ge=new Gb;this.pd=new dh({ye:function(a,b,c,d){b=[];c=f.ge.j(a.path);c.e()||(b=fh(f.pd,new Ab(pg,a.path,c)),setTimeout(function(){d(\"ok\")},0));return b},Od:ba});yh(this,\"connected\",!1);this.ia=new mc;this.Ya=new Se(this);this.fd=\n0;this.he=null;this.K=new dh({ye:function(a,b,c,d){f.va.$e(a,c,b,function(b,c){var e=d(b,c);Sb(f.ca,a.path,e)});return[]},Od:function(a,b){f.va.uf(a,b)}})}g=Te.prototype;g.toString=function(){return(this.L.Sc?\"https://\":\"http://\")+this.L.host};g.name=function(){return this.L.ne};function zh(a){a=a.ge.j(new L(\".info/serverTimeOffset\")).H()||0;return(new Date).getTime()+a}function Ah(a){a=a={timestamp:zh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}\ng.Gb=function(a,b,c,d){this.fd++;var e=new L(a);b=this.he?this.he(a,b):b;a=[];d?c?(b=pa(b,function(a){return M(a)}),a=nh(this.K,e,b,d)):(b=M(b),a=jh(this.K,e,b,d)):c?(d=pa(b,function(a){return M(a)}),a=ih(this.K,e,d)):(d=M(b),a=fh(this.K,new Ab(pg,e,d)));d=e;0<a.length&&(d=Bh(this,e));Sb(this.ca,d,a)};g.Jc=function(a){yh(this,\"connected\",a);!1===a&&Ch(this)};g.se=function(a){var b=this;Ic(a,function(a,d){yh(b,d,a)})};\nfunction yh(a,b,c){b=new L(\"/.info/\"+b);c=M(c);var d=a.ge;d.Jd=d.Jd.F(b,c);c=fh(a.pd,new Ab(pg,b,c));Sb(a.ca,b,c)}g.Jb=function(a,b,c,d){this.f(\"set\",{path:a.toString(),value:b,ug:c});var e=Ah(this);b=M(b,c);var e=pc(b,e),f=this.vd++,e=eh(this.K,a,e,f,!0);Ob(this.ca,e);var h=this;this.va.put(a.toString(),b.H(!0),function(b,c){var e=\"ok\"===b;e||O(\"set at \"+a+\" failed: \"+b);e=hh(h.K,f,!e);Sb(h.ca,a,e);Dh(d,b,c)});e=Eh(this,a);Bh(this,e);Sb(this.ca,e,[])};\ng.update=function(a,b,c){this.f(\"update\",{path:a.toString(),value:b});var d=!0,e=Ah(this),f={};r(b,function(a,b){d=!1;var c=M(a);f[b]=pc(c,e)});if(d)E(\"update() called with empty data.  Don't do anything.\"),Dh(c,\"ok\");else{var h=this.vd++,k=gh(this.K,a,f,h);Ob(this.ca,k);var l=this;this.va.af(a.toString(),b,function(b,d){var e=\"ok\"===b;e||O(\"update at \"+a+\" failed: \"+b);var e=hh(l.K,h,!e),f=a;0<e.length&&(f=Bh(l,a));Sb(l.ca,f,e);Dh(c,b,d)});r(b,function(b,c){var d=Eh(l,a.n(c));Bh(l,d)});Sb(this.ca,\na,[])}};function Ch(a){a.f(\"onDisconnectEvents\");var b=Ah(a),c=[];nc(lc(a.ia,b),C,function(b,e){c=c.concat(fh(a.K,new Ab(pg,b,e)));var f=Eh(a,b);Bh(a,f)});a.ia=new mc;Sb(a.ca,C,c)}g.xd=function(a,b){var c=this;this.va.xd(a.toString(),function(d,e){\"ok\"===d&&Ze(c.ia,a);Dh(b,d,e)})};function nf(a,b,c,d){var e=M(c);a.va.pe(b.toString(),e.H(!0),function(c,h){\"ok\"===c&&oc(a.ia,b,e);Dh(d,c,h)})}\nfunction of(a,b,c,d,e){var f=M(c,d);a.va.pe(b.toString(),f.H(!0),function(c,d){\"ok\"===c&&oc(a.ia,b,f);Dh(e,c,d)})}function pf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(E(\"onDisconnect().update() called with empty data.  Don't do anything.\"),Dh(d,\"ok\")):a.va.cf(b.toString(),c,function(e,f){if(\"ok\"===e)for(var l in c){var m=M(c[l]);oc(a.ia,b.n(l),m)}Dh(d,e,f)})}function Zf(a,b,c){c=\".info\"===J(b.path)?a.pd.Nb(b,c):a.K.Nb(b,c);Qb(a.ca,b.path,c)}g.ab=function(){this.Ra&&this.Ra.ab(\"repo_interrupt\")};\ng.kc=function(){this.Ra&&this.Ra.kc(\"repo_interrupt\")};g.ze=function(a){if(\"undefined\"!==typeof console){a?(this.Vc||(this.Vc=new Mb(this.Va)),a=this.Vc.get()):a=this.Va.get();var b=Ma(ua(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=\" \";console.log(c+d)}}};g.Ae=function(a){Lb(this.Va,a);this.og.rf[a]=!0};g.f=function(a){var b=\"\";this.Ra&&(b=this.Ra.id+\":\");E(b,arguments)};\nfunction Dh(a,b,c){a&&ub(function(){if(\"ok\"==b)a(null);else{var d=(b||\"error\").toUpperCase(),e=d;c&&(e+=\": \"+c);e=Error(e);e.code=d;a(e)}})};function Fh(a,b,c,d,e){function f(){}a.f(\"transaction on \"+b);var h=new U(a,b);h.gc(\"value\",f);c={path:b,update:c,G:d,status:null,ef:rc(),Fe:e,of:0,Rd:function(){h.Ic(\"value\",f)},Td:null,Ba:null,cd:null,dd:null,ed:null};d=a.K.Aa(b,void 0)||G;c.cd=d;d=c.update(d.H());if(n(d)){ef(\"transaction failed: Data returned \",d,c.path);c.status=1;e=Kg(a.mc,b);var k=e.Ca()||[];k.push(c);Lg(e,k);\"object\"===typeof d&&null!==d&&cb(d,\".priority\")?(k=w(d,\".priority\"),H(cf(k),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\")):\nk=(a.K.Aa(b)||G).C().H();e=Ah(a);d=M(d,k);e=pc(d,e);c.dd=d;c.ed=e;c.Ba=a.vd++;c=eh(a.K,b,e,c.Ba,c.Fe);Sb(a.ca,b,c);Gh(a)}else c.Rd(),c.dd=null,c.ed=null,c.G&&(a=new W(c.cd,new U(a,c.path),N),c.G(null,!1,a))}function Gh(a,b){var c=b||a.mc;b||Hh(a,c);if(null!==c.Ca()){var d=Ih(a,c);H(0<d.length,\"Sending zero length transaction queue\");Na(d,function(a){return 1===a.status})&&Jh(a,c.path(),d)}else c.kd()&&c.O(function(b){Gh(a,b)})}\nfunction Jh(a,b,c){for(var d=La(c,function(a){return a.Ba}),e=a.K.Aa(b,d)||G,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];H(1===h.status,\"tryToSendTransactionQueue_: items in queue should all be run.\");h.status=2;h.of++;var k=T(b,h.path),d=d.F(k,h.dd)}d=d.H(!0);a.va.put(b.toString(),d,function(d){a.f(\"transaction put response\",{path:b.toString(),status:d});var e=[];if(\"ok\"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(hh(a.K,c[f].Ba));if(c[f].G){var h=c[f].ed,k=new U(a,c[f].path);d.push(q(c[f].G,\nnull,null,!0,new W(h,k,N)))}c[f].Rd()}Hh(a,Kg(a.mc,b));Gh(a);Sb(a.ca,b,e);for(f=0;f<d.length;f++)ub(d[f])}else{if(\"datastale\"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O(\"transaction at \"+b.toString()+\" failed: \"+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;Bh(a,b)}},e)}function Bh(a,b){var c=Kh(a,b),d=c.path(),c=Ih(a,c);Lh(a,c,d);return d}\nfunction Lh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return 1===a.status}),f=La(f,function(a){return a.Ba}),h=0;h<b.length;h++){var k=b[h],l=T(c,k.path),m=!1,u;H(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\");if(5===k.status)m=!0,u=k.Td,e=e.concat(hh(a.K,k.Ba,!0));else if(1===k.status)if(25<=k.of)m=!0,u=\"maxretry\",e=e.concat(hh(a.K,k.Ba,!0));else{var z=a.K.Aa(k.path,f)||G;k.cd=z;var F=b[h].update(z.H());n(F)?(ef(\"transaction failed: Data returned \",F,\nk.path),l=M(F),\"object\"===typeof F&&null!=F&&cb(F,\".priority\")||(l=l.fa(z.C())),z=k.Ba,F=Ah(a),F=pc(l,F),k.dd=l,k.ed=F,k.Ba=a.vd++,Qa(f,z),e=e.concat(eh(a.K,k.path,F,k.Ba,k.Fe)),e=e.concat(hh(a.K,z,!0))):(m=!0,u=\"nodata\",e=e.concat(hh(a.K,k.Ba,!0)))}Sb(a.ca,c,e);e=[];m&&(b[h].status=3,setTimeout(b[h].Rd,Math.floor(0)),b[h].G&&(\"nodata\"===u?(k=new U(a,b[h].path),d.push(q(b[h].G,null,null,!1,new W(b[h].cd,k,N)))):d.push(q(b[h].G,null,Error(u),!1,null))))}Hh(a,a.mc);for(h=0;h<d.length;h++)ub(d[h]);Gh(a)}}\nfunction Kh(a,b){for(var c,d=a.mc;null!==(c=J(b))&&null===d.Ca();)d=Kg(d,c),b=D(b);return d}function Ih(a,b){var c=[];Mh(a,b,c);c.sort(function(a,b){return a.ef-b.ef});return c}function Mh(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.O(function(b){Mh(a,b,c)})}function Hh(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Lg(b,0<c.length?c:null)}b.O(function(b){Hh(a,b)})}\nfunction Eh(a,b){var c=Kh(a,b).path(),d=Kg(a.mc,b);Og(d,function(b){Nh(a,b)});Nh(a,d);Ng(d,function(b){Nh(a,b)});return c}\nfunction Nh(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(H(f===h-1,\"All SENT items should be at beginning of queue.\"),f=h,c[h].status=4,c[h].Td=\"set\"):(H(1===c[h].status,\"Unexpected transaction status in abort\"),c[h].Rd(),e=e.concat(hh(a.K,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error(\"set\"),!1,null))));-1===f?Lg(b,null):c.length=f+1;Sb(a.ca,b.path(),e);for(h=0;h<d.length;h++)ub(d[h])}};function Ye(){this.lb={};this.wf=!1}Ye.prototype.ab=function(){for(var a in this.lb)this.lb[a].ab()};Ye.prototype.kc=function(){for(var a in this.lb)this.lb[a].kc()};Ye.prototype.ae=function(a){this.wf=a};ca(Ye);Ye.prototype.interrupt=Ye.prototype.ab;Ye.prototype.resume=Ye.prototype.kc;var Z={};Z.nc=Pg;Z.DataConnection=Z.nc;Pg.prototype.ng=function(a,b){this.ua(\"q\",{p:a},b)};Z.nc.prototype.simpleListen=Z.nc.prototype.ng;Pg.prototype.Hf=function(a,b){this.ua(\"echo\",{d:a},b)};Z.nc.prototype.echo=Z.nc.prototype.Hf;Pg.prototype.interrupt=Pg.prototype.ab;Z.zf=Ce;Z.RealTimeConnection=Z.zf;Ce.prototype.sendRequest=Ce.prototype.ua;Ce.prototype.close=Ce.prototype.close;\nZ.Rf=function(a){var b=Pg.prototype.put;Pg.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Pg.prototype.put=b}};Z.hijackHash=Z.Rf;Z.yf=Hb;Z.ConnectionTarget=Z.yf;Z.ja=function(a){return a.ja()};Z.queryIdentifier=Z.ja;Z.Uf=function(a){return a.u.Ra.$};Z.listens=Z.Uf;Z.ae=function(a){Ye.Vb().ae(a)};Z.forceRestClient=Z.ae;Z.Context=Ye;function U(a,b){if(!(a instanceof Te))throw Error(\"new Firebase() no longer supported - use app.database().\");X.call(this,a,b,fe,!1);this.then=void 0;this[\"catch\"]=void 0}la(U,X);g=U.prototype;g.getKey=function(){x(\"Firebase.key\",0,0,arguments.length);return this.path.e()?null:Bd(this.path)};\ng.n=function(a){x(\"Firebase.child\",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\\/*\\.info(\\/|$)/,\"/\"));lf(\"Firebase.child\",b)}else lf(\"Firebase.child\",a);return new U(this.u,this.path.n(a))};g.getParent=function(){x(\"Firebase.parent\",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.u,a)};\ng.Of=function(){x(\"Firebase.ref\",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a};g.Gf=function(){return this.u.Ya};g.set=function(a,b){x(\"Firebase.set\",1,2,arguments.length);mf(\"Firebase.set\",this.path);df(\"Firebase.set\",a,this.path,!1);A(\"Firebase.set\",2,b,!0);var c=new hb;this.u.Jb(this.path,a,null,ib(c,b));return c.ra};\ng.update=function(a,b){x(\"Firebase.update\",1,2,arguments.length);mf(\"Firebase.update\",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;O(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}gf(\"Firebase.update\",a,this.path);A(\"Firebase.update\",2,b,!0);c=new hb;this.u.update(this.path,a,ib(c,b));return c.ra};\ng.Jb=function(a,b,c){x(\"Firebase.setWithPriority\",2,3,arguments.length);mf(\"Firebase.setWithPriority\",this.path);df(\"Firebase.setWithPriority\",a,this.path,!1);hf(\"Firebase.setWithPriority\",2,b);A(\"Firebase.setWithPriority\",3,c,!0);if(\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Firebase.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var d=new hb;this.u.Jb(this.path,a,b,ib(d,c));return d.ra};\ng.remove=function(a){x(\"Firebase.remove\",0,1,arguments.length);mf(\"Firebase.remove\",this.path);A(\"Firebase.remove\",1,a,!0);return this.set(null,a)};\ng.transaction=function(a,b,c){x(\"Firebase.transaction\",1,3,arguments.length);mf(\"Firebase.transaction\",this.path);A(\"Firebase.transaction\",1,a,!1);A(\"Firebase.transaction\",2,b,!0);if(n(c)&&\"boolean\"!=typeof c)throw Error(y(\"Firebase.transaction\",3,!0)+\"must be a boolean.\");if(\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Firebase.transaction failed: \"+this.getKey()+\" is a read-only object.\";\"undefined\"===typeof c&&(c=!0);var d=new hb;ha(b)&&jb(d.ra);Fh(this.u,this.path,a,function(a,c,h){a?\nd.reject(a):d.resolve(new pb(c,h));ha(b)&&b(a,c,h)},c);return d.ra};g.kg=function(a,b){x(\"Firebase.setPriority\",1,2,arguments.length);mf(\"Firebase.setPriority\",this.path);hf(\"Firebase.setPriority\",1,a);A(\"Firebase.setPriority\",2,b,!0);var c=new hb;this.u.Jb(this.path.n(\".priority\"),a,null,ib(c,b));return c.ra};\ng.push=function(a,b){x(\"Firebase.push\",0,2,arguments.length);mf(\"Firebase.push\",this.path);df(\"Firebase.push\",a,this.path,!0);A(\"Firebase.push\",2,b,!0);var c=zh(this.u),d=uf(c),c=this.n(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.n(d)});c.then=q(f.then,f);c[\"catch\"]=q(f.then,f,void 0);ha(b)&&jb(f)}return c};g.ib=function(){mf(\"Firebase.onDisconnect\",this.path);return new V(this.u,this.path)};U.prototype.child=U.prototype.n;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;\nU.prototype.setWithPriority=U.prototype.Jb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.kg;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.ib;Lc(U.prototype,\"database\",U.prototype.Gf);Lc(U.prototype,\"key\",U.prototype.getKey);Lc(U.prototype,\"parent\",U.prototype.getParent);Lc(U.prototype,\"root\",U.prototype.Of);if(\"undefined\"===typeof firebase)throw Error(\"Cannot install Firebase Database - be sure to load firebase-app.js first.\");\ntry{firebase.INTERNAL.registerService(\"database\",function(a){var b=Ye.Vb(),c=a.options.databaseURL;n(c)||Ac(\"Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().\");var d=Bc(c),c=d.jc;Xe(\"Invalid Firebase Database URL\",d);d.path.e()||Ac(\"Database URL must point to the root of a Firebase Database (not including a child path).\");(d=w(b.lb,a.name))&&Ac(\"FIREBASE INTERNAL ERROR: Database initialized multiple times.\");d=new Te(c,b.wf,a);b.lb[a.name]=\nd;return d.Ya},{Reference:U,Query:X,Database:Se,enableLogging:xc,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:Ve})}catch(Oh){Ac(\"Failed to register the Firebase Database Service (\"+Oh+\")\")};})();\n\n}).call(typeof global !== undefined ? global : typeof self !== undefined ? self : typeof window !== undefined ? window : {});\nmodule.exports = firebase.database;\n","/**\n *  Firebase libraries for browser - npm package.\n *\n * Usage:\n *\n *   firebase = require('firebase');\n */\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./storage');\nrequire('./messaging');\nmodule.exports = firebase;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.9\n    Build: 3.6.9-rc.1\n    Terms: https://firebase.google.com/terms/ */\n(function(){var f=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]},g=this,h=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=\ntypeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},k=function(a,b){function c(){}c.prototype=b.prototype;a.B=b.prototype;a.prototype=new c;a.u=function(a,c,n){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];\nreturn b.prototype[c].apply(a,d)}};var m={},p=(m[\"only-available-in-window\"]=\"This method is available in a Window context.\",m[\"only-available-in-sw\"]=\"This method is available in a service worker context.\",m[\"should-be-overriden\"]=\"This method should be overriden by extended classes.\",m[\"bad-sender-id\"]=\"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().\",m[\"permission-default\"]=\"The required permissions were not granted and dismissed instead.\",m[\"permission-blocked\"]=\"The required permissions were not granted and blocked instead.\",\nm[\"unsupported-browser\"]=\"This browser doesn't support the API's required to use the firebase SDK.\",m[\"notifications-blocked\"]=\"Notifications have been blocked.\",m[\"failed-serviceworker-registration\"]=\"We are unable to register the default service worker. {$browserErrorMessage}\",m[\"sw-registration-expected\"]=\"A service worker registration was the expected input.\",m[\"get-subscription-failed\"]=\"There was an error when trying to get any existing Push Subscriptions.\",m[\"invalid-saved-token\"]=\"Unable to access details of the saved token.\",\nm[\"sw-reg-redundant\"]=\"The service worker being used for push was made redundant.\",m[\"token-subscribe-failed\"]=\"A problem occured while subscribing the user to FCM: {$message}\",m[\"token-subscribe-no-token\"]=\"FCM returned no token when subscribing the user to push.\",m[\"token-subscribe-no-push-set\"]=\"FCM returned an invalid response when getting an FCM token.\",m[\"use-sw-before-get-token\"]=\"You must call useServiceWorker() before calling getToken() to ensure your service worker is used.\",m[\"invalid-delete-token\"]=\n\"You must pass a valid token into deleteToken(), i.e. the token from getToken().\",m[\"delete-token-not-found\"]=\"The deletion attempt for token could not be performed as the token was not found.\",m[\"bg-handler-function-expected\"]=\"The input to setBackgroundMessageHandler() must be a function.\",m[\"no-window-client-to-msg\"]=\"An attempt was made to message a non-existant window client.\",m[\"unable-to-resubscribe\"]=\"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}\",\nm[\"no-fcm-token-for-resubscribe\"]=\"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.\",m[\"failed-to-delete-token\"]=\"Unable to delete the currently saved token.\",m[\"no-sw-in-reg\"]=\"Even though the service worker registration was successful, there was a problem accessing the service worker itself.\",m[\"incorrect-gcm-sender-id\"]=\"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.\",m);var q={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])};var r=function(a,b){var c={};return c[\"firebase-messaging-msg-type\"]=a,c[\"firebase-messaging-msg-data\"]=b,c};var u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};k(u,Error);var v=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")};var w=function(a,b){b.unshift(a);u.call(this,v.apply(null,b));b.shift()};k(w,u);var x=function(a,b,c){if(!a){var d=\"Assertion failed\";if(b)var d=d+(\": \"+b),e=Array.prototype.slice.call(arguments,2);throw new w(\"\"+d,e||[]);}};var y=null;var A=function(a){a=new Uint8Array(a);var b=h(a);x(\"array\"==b||\"object\"==b&&\"number\"==typeof a.length,\"encodeByteArray takes an array as a parameter\");if(!y)for(y={},b=0;65>b;b++)y[b]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(b);for(var b=y,c=[],d=0;d<a.length;d+=3){var e=a[d],n=d+1<a.length,l=n?a[d+1]:0,z=d+2<a.length,t=z?a[d+2]:0,M=e>>2,e=(e&3)<<4|l>>4,l=(l&15)<<2|t>>6,t=t&63;z||(t=64,n||(l=64));c.push(b[M],b[e],b[l],b[t])}return c.join(\"\").replace(/\\+/g,\"-\").replace(/\\//g,\n\"_\").replace(/=+$/,\"\")};var B=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",p),C=function(){this.a=null},D=function(a){if(a.a)return a.a;a.a=new Promise(function(a,c){var b=g.indexedDB.open(\"fcm_token_details_db\",1);b.onerror=function(a){c(a.target.error)};b.onsuccess=function(b){a(b.target.result)};b.onupgradeneeded=function(a){a=a.target.result.createObjectStore(\"fcm_token_object_Store\",{keyPath:\"swScope\"});a.createIndex(\"fcmSenderId\",\"fcmSenderId\",{unique:!1});a.createIndex(\"fcmToken\",\"fcmToken\",{unique:!0})}});\nreturn a.a},E=function(a){a.a?a.a.then(function(b){b.close();a.a=null}):Promise.resolve()},F=function(a,b){return D(a).then(function(a){return new Promise(function(c,e){var d=a.transaction([\"fcm_token_object_Store\"]).objectStore(\"fcm_token_object_Store\").index(\"fcmToken\").get(b);d.onerror=function(a){e(a.target.error)};d.onsuccess=function(a){c(a.target.result)}})})},G=function(a,b){return D(a).then(function(a){return new Promise(function(c,e){var d=[],l=a.transaction([\"fcm_token_object_Store\"]).objectStore(\"fcm_token_object_Store\").openCursor();\nl.onerror=function(a){e(a.target.error)};l.onsuccess=function(a){(a=a.target.result)?(a.value.fcmSenderId===b&&d.push(a.value),a.continue()):c(d)}})})},H=function(a,b,c){var d=A(b.getKey(\"p256dh\")),e=A(b.getKey(\"auth\"));a=\"authorized_entity=\"+a+\"&\"+(\"endpoint=\"+b.endpoint+\"&\")+(\"encryption_key=\"+d+\"&\")+(\"encryption_auth=\"+e);c&&(a+=\"&pushSet=\"+c);c=new Headers;c.append(\"Content-Type\",\"application/x-www-form-urlencoded\");return fetch(\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",\nheaders:c,body:a}).then(function(a){return a.json()}).then(function(a){if(a.error)throw B.create(\"token-subscribe-failed\",{message:a.error.message});if(!a.token)throw B.create(\"token-subscribe-no-token\");if(!a.pushSet)throw B.create(\"token-subscribe-no-push-set\");return{token:a.token,pushSet:a.pushSet}})},I=function(a,b,c,d,e,n){var l={swScope:c.scope,endpoint:d.endpoint,auth:A(d.getKey(\"auth\")),p256dh:A(d.getKey(\"p256dh\")),fcmToken:e,fcmPushSet:n,fcmSenderId:b};return D(a).then(function(a){return new Promise(function(b,\nc){var d=a.transaction([\"fcm_token_object_Store\"],\"readwrite\").objectStore(\"fcm_token_object_Store\").put(l);d.onerror=function(a){c(a.target.error)};d.onsuccess=function(){b()}})})};\nC.prototype.i=function(a,b){return b instanceof ServiceWorkerRegistration?\"string\"!==typeof a||0===a.length?Promise.reject(B.create(\"bad-sender-id\")):G(this,a).then(function(c){if(0!==c.length){var d=c.findIndex(function(c){return b.scope===c.swScope&&a===c.fcmSenderId});if(-1!==d)return c[d]}}).then(function(a){if(a)return b.pushManager.getSubscription().catch(function(){throw B.create(\"get-subscription-failed\");}).then(function(b){var c;if(c=b)c=b.endpoint===a.endpoint&&A(b.getKey(\"auth\"))===a.auth&&\nA(b.getKey(\"p256dh\"))===a.p256dh;if(c)return a.fcmToken})}):Promise.reject(B.create(\"sw-registration-expected\"))};C.prototype.getSavedToken=C.prototype.i;\nC.prototype.h=function(a,b){var c=this;return\"string\"!==typeof a||0===a.length?Promise.reject(B.create(\"bad-sender-id\")):b instanceof ServiceWorkerRegistration?b.pushManager.getSubscription().then(function(a){return a?a:b.pushManager.subscribe(q)}).then(function(d){return H(a,d).then(function(e){return I(c,a,b,d,e.token,e.pushSet).then(function(){return e.token})})}):Promise.reject(B.create(\"sw-registration-expected\"))};C.prototype.createToken=C.prototype.h;\nC.prototype.deleteToken=function(a){var b=this;return\"string\"!==typeof a||0===a.length?Promise.reject(B.create(\"invalid-delete-token\")):F(this,a).then(function(a){if(!a)throw B.create(\"delete-token-not-found\");return D(b).then(function(b){return new Promise(function(c,d){var e=b.transaction([\"fcm_token_object_Store\"],\"readwrite\").objectStore(\"fcm_token_object_Store\").delete(a.swScope);e.onerror=function(a){d(a.target.error)};e.onsuccess=function(b){0===b.target.result?d(B.create(\"failed-to-delete-token\")):\nc(a)}})})})};var J=function(a){var b=this;this.a=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",p);if(!a.options.messagingSenderId||\"string\"!==typeof a.options.messagingSenderId)throw this.a.create(\"bad-sender-id\");this.l=a.options.messagingSenderId;this.c=new C;this.app=a;this.INTERNAL={};this.INTERNAL.delete=function(){return b.delete}};\nJ.prototype.getToken=function(){var a=this,b=Notification.permission;return\"granted\"!==b?\"denied\"===b?Promise.reject(this.a.create(\"notifications-blocked\")):Promise.resolve(null):this.f().then(function(b){return a.c.i(a.l,b).then(function(c){return c?c:a.c.h(a.l,b)})})};J.prototype.getToken=J.prototype.getToken;J.prototype.deleteToken=function(a){var b=this;return this.c.deleteToken(a).then(function(){return b.f()}).then(function(a){return a?a.pushManager.getSubscription():null}).then(function(a){if(a)return a.unsubscribe()})};\nJ.prototype.deleteToken=J.prototype.deleteToken;J.prototype.f=function(){throw this.a.create(\"should-be-overriden\");};J.prototype.requestPermission=function(){throw this.a.create(\"only-available-in-window\");};J.prototype.useServiceWorker=function(){throw this.a.create(\"only-available-in-window\");};J.prototype.useServiceWorker=J.prototype.useServiceWorker;J.prototype.onMessage=function(){throw this.a.create(\"only-available-in-window\");};J.prototype.onMessage=J.prototype.onMessage;\nJ.prototype.onTokenRefresh=function(){throw this.a.create(\"only-available-in-window\");};J.prototype.onTokenRefresh=J.prototype.onTokenRefresh;J.prototype.setBackgroundMessageHandler=function(){throw this.a.create(\"only-available-in-sw\");};J.prototype.setBackgroundMessageHandler=J.prototype.setBackgroundMessageHandler;J.prototype.delete=function(){E(this.c)};var K=self,P=function(a){J.call(this,a);var b=this;this.a=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",p);K.addEventListener(\"push\",function(a){return L(b,a)},!1);K.addEventListener(\"pushsubscriptionchange\",function(a){return N(b,a)},!1);K.addEventListener(\"notificationclick\",function(a){return O(b,a)},!1);this.b=null};f(P,J);\nvar L=function(a,b){var c;try{c=b.data.json()}catch(e){return}var d=Q().then(function(b){if(b){if(c.notification||a.b)return R(a,c)}else{if((b=c)&&\"object\"===typeof b.notification){var d=Object.assign({},b.notification),e={};d.data=(e.FCM_MSG=b,e);b=d}else b=void 0;if(b)return K.registration.showNotification(b.title||\"\",b);if(a.b)return a.b(c)}});b.waitUntil(d)},N=function(a,b){var c=a.getToken().then(function(b){if(!b)throw a.a.create(\"no-fcm-token-for-resubscribe\");var c=a.c;return F(c,b).then(function(b){if(!b)throw a.a.create(\"invalid-saved-token\");\nreturn K.registration.pushManager.subscribe(q).then(function(a){return H(b.w,a,b.v)}).catch(function(d){return c.deleteToken(b.A).then(function(){throw a.a.create(\"unable-to-resubscribe\",{message:d});})})})});b.waitUntil(c)},O=function(a,b){if(b.notification&&b.notification.data&&b.notification.data.FCM_MSG){b.stopImmediatePropagation();b.notification.close();var c=b.notification.data.FCM_MSG,d=c.notification.click_action;if(d){var e=S(d).then(function(a){return a?a:K.clients.openWindow(d)}).then(function(b){if(b)return delete c.notification,\nT(a,b,r(\"notification-clicked\",c))});b.waitUntil(e)}}};P.prototype.setBackgroundMessageHandler=function(a){if(a&&\"function\"!==typeof a)throw this.a.create(\"bg-handler-function-expected\");this.b=a};P.prototype.setBackgroundMessageHandler=P.prototype.setBackgroundMessageHandler;\nvar S=function(a){var b=(new URL(a)).href;return K.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(a){for(var c=null,e=0;e<a.length;e++)if((new URL(a[e].url)).href===b){c=a[e];break}if(c)return c.focus(),c})},T=function(a,b,c){return new Promise(function(d,e){if(!b)return e(a.a.create(\"no-window-client-to-msg\"));b.postMessage(c);d()})},Q=function(){return K.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(a){return a.some(function(a){return\"visible\"===\na.visibilityState})})},R=function(a,b){return K.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(c){var d=r(\"push-msg-received\",b);return Promise.all(c.map(function(b){return T(a,b,d)}))})};P.prototype.f=function(){return Promise.resolve(K.registration)};var V=function(a){J.call(this,a);var b=this;this.j=null;this.m=firebase.INTERNAL.createSubscribe(function(a){b.j=a});this.s=null;this.o=firebase.INTERNAL.createSubscribe(function(a){b.s=a});U(this)};f(V,J);\nV.prototype.getToken=function(){var a=this;return\"serviceWorker\"in navigator&&\"PushManager\"in window&&\"Notification\"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")?W(this).then(function(){return J.prototype.getToken.call(a)}):Promise.reject(this.a.create(\"unsupported-browser\"))};V.prototype.getToken=V.prototype.getToken;\nvar W=function(a){if(a.g)return a.g;var b=document.querySelector('link[rel=\"manifest\"]');b?a.g=fetch(b.href).then(function(a){return a.json()}).catch(function(){return Promise.resolve()}).then(function(b){if(b&&b.gcm_sender_id&&\"103953800507\"!==b.gcm_sender_id)throw a.a.create(\"incorrect-gcm-sender-id\");}):a.g=Promise.resolve();return a.g};\nV.prototype.requestPermission=function(){var a=this;return\"granted\"===Notification.permission?Promise.resolve():new Promise(function(b,c){var d=function(d){return\"granted\"===d?b():\"denied\"===d?c(a.a.create(\"permission-blocked\")):c(a.a.create(\"permission-default\"))},e=Notification.requestPermission(function(a){e||d(a)});e&&e.then(d)})};V.prototype.requestPermission=V.prototype.requestPermission;\nV.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw this.a.create(\"sw-registration-expected\");if(\"undefined\"!==typeof this.b)throw this.a.create(\"use-sw-before-get-token\");this.b=a};V.prototype.useServiceWorker=V.prototype.useServiceWorker;V.prototype.onMessage=function(a,b,c){return this.m(a,b,c)};V.prototype.onMessage=V.prototype.onMessage;V.prototype.onTokenRefresh=function(a,b,c){return this.o(a,b,c)};V.prototype.onTokenRefresh=V.prototype.onTokenRefresh;\nvar X=function(a,b){var c=b.installing||b.waiting||b.active;return new Promise(function(d,e){if(c)if(\"activated\"===c.state)d(b);else if(\"redundant\"===c.state)e(a.a.create(\"sw-reg-redundant\"));else{var n=function(){if(\"activated\"===c.state)d(b);else if(\"redundant\"===c.state)e(a.a.create(\"sw-reg-redundant\"));else return;c.removeEventListener(\"statechange\",n)};c.addEventListener(\"statechange\",n)}else e(a.a.create(\"no-sw-in-reg\"))})};\nV.prototype.f=function(){var a=this;if(this.b)return X(this,this.b);this.b=null;return navigator.serviceWorker.register(\"/firebase-messaging-sw.js\",{scope:\"/firebase-cloud-messaging-push-scope\"}).catch(function(b){throw a.a.create(\"failed-serviceworker-registration\",{browserErrorMessage:b.message});}).then(function(b){return X(a,b).then(function(){a.b=b;b.update();return b})})};\nvar U=function(a){\"serviceWorker\"in navigator&&navigator.serviceWorker.addEventListener(\"message\",function(b){if(b.data&&b.data[\"firebase-messaging-msg-type\"])switch(b=b.data,b[\"firebase-messaging-msg-type\"]){case \"push-msg-received\":case \"notification-clicked\":a.j.next(b[\"firebase-messaging-msg-data\"])}},!1)};if(!(firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error(\"Cannot install Firebase Messaging - be sure to load firebase-app.js first.\");firebase.INTERNAL.registerService(\"messaging\",function(a){return self&&\"ServiceWorkerGlobalScope\"in self?new P(a):new V(a)},{Messaging:V});}).call(this);\n}).call(typeof global !== undefined ? global : typeof self !== undefined ? self : typeof window !== undefined ? window : {});\nmodule.exports = firebase.messaging;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.9\n    Build: 3.6.9-rc.1\n    Terms: https://firebase.google.com/terms/ */\n(function(){for(var k,aa=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError(\"ES3 does not support getters and setters.\");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,m=[\"Number\",\"MIN_SAFE_INTEGER\"],ba=0;ba<m.length-1;ba++){var ca=m[ba];ca in l||(l[ca]={});l=l[ca]}var da=m[m.length-1];\n-9007199254740991!=l[da]&&aa(l,da,{configurable:!0,writable:!0,value:-9007199254740991});\nvar p=this,q=function(a){return void 0!==a},ea=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&\n!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b};var r=function(a,b){return-1!==a.indexOf(b)};var fa=function(a,b,c){function d(){z||(z=!0,b.apply(null,arguments))}function e(b){n=setTimeout(function(){n=null;a(f,2===C)},b)}function f(a,b){if(!z)if(a)d.apply(null,arguments);else if(2===C||B)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===C?(C=2,c=0):c=1E3*(h+Math.random());e(c)}}function g(a){Ma||(Ma=!0,z||(null!==n?(a||(C=2),clearTimeout(n),e(0)):a||(C=1)))}var h=1,n=null,B=!1,C=0,z=!1,Ma=!1;e(0);setTimeout(function(){B=!0;g(!0)},c);return g};var t=\"https://firebasestorage.googleapis.com\";var u=function(a,b){this.code=\"storage/\"+a;this.message=\"Firebase Storage: \"+b;this.serverResponse=null;this.name=\"FirebaseError\"};(function(){var a=Error;function b(){}b.prototype=a.prototype;u.b=a.prototype;u.prototype=new b;u.a=function(b,d,e){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return a.prototype[d].apply(b,c)}})();\nvar ga=function(){return new u(\"unknown\",\"An unknown error occurred, please check the error payload for server response.\")},ha=function(){return new u(\"canceled\",\"User canceled the upload/download.\")},ia=function(){return new u(\"cannot-slice-blob\",\"Cannot slice blob for upload. Please retry the upload.\")},ja=function(a,b,c){return new u(\"invalid-argument\",\"Invalid argument in `\"+b+\"` at index \"+a+\": \"+c)},ka=function(){return new u(\"app-deleted\",\"The Firebase app was deleted.\")},v=function(a,b){return new u(\"invalid-format\",\n\"String does not match format '\"+a+\"': \"+b)},la=function(a){throw new u(\"internal-error\",\"Internal error: \"+a);};var ma=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},na=function(a){var b={};ma(a,function(a,d){b[a]=d});return b};var oa=function(a,b){b=b.split(\"/\").filter(function(a){return 0<a.length}).join(\"/\");return 0===a.length?b:a+\"/\"+b},pa=function(a){var b=a.lastIndexOf(\"/\",a.length-2);return-1===b?a:a.slice(b+1)};var qa=function(a){if(\"undefined\"!==typeof firebase)return new firebase.Promise(a);throw Error(\"Error in Firebase Storage - be sure to load firebase-app.js first.\");};var w=function(a,b,c,d){this.h=a;this.b={};this.method=b;this.headers={};this.body=null;this.j=c;this.l=this.a=null;this.c=[200];this.g=[];this.timeout=d;this.f=!0};var ra={STATE_CHANGED:\"state_changed\"},x={RUNNING:\"running\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELED:\"canceled\",ERROR:\"error\"},sa=function(a){switch(a){case \"running\":case \"pausing\":case \"canceling\":return\"running\";case \"paused\":return\"paused\";case \"success\":return\"success\";case \"canceled\":return\"canceled\";case \"error\":return\"error\";default:return\"error\"}};var y=function(a){return q(a)&&null!==a},ta=function(a){return\"string\"===typeof a||a instanceof String},ua=function(){return\"undefined\"!==typeof Blob};var wa=function(a,b){var c=va;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var xa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},ya=function(a,b){return a<b?-1:a>b?1:0};var A=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);firebase.Promise.resolve(!0).then(function(){a.apply(null,b)})}};var D=function(a,b){this.bucket=a;this.path=b},za=function(a){var b=encodeURIComponent;return\"/b/\"+b(a.bucket)+\"/o/\"+b(a.path)},Aa=function(a){for(var b=null,c=[{K:/^gs:\\/\\/([A-Za-z0-9.\\-]+)(\\/(.*))?$/i,G:{bucket:1,path:3},J:function(a){\"/\"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{K:/^https?:\\/\\/firebasestorage\\.googleapis\\.com\\/v[A-Za-z0-9_]+\\/b\\/([A-Za-z0-9.\\-]+)\\/o(\\/([^?#]*).*)?$/i,G:{bucket:1,path:3},J:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=\nc[d],f=e.K.exec(a);if(f){b=f[e.G.bucket];(f=f[e.G.path])||(f=\"\");b=new D(b,f);e.J(b);break}}if(null==b)throw new u(\"invalid-url\",\"Invalid URL '\"+a+\"'.\");return b};var Ba=function(a,b,c){\"function\"==ea(a)||y(b)||y(c)?(this.c=a,this.a=b||null,this.b=c||null):(this.c=a.next||null,this.a=a.error||null,this.b=a.complete||null)};var E={RAW:\"raw\",BASE64:\"base64\",BASE64URL:\"base64url\",DATA_URL:\"data_url\"},Ca=function(a){switch(a){case \"raw\":case \"base64\":case \"base64url\":case \"data_url\":break;default:throw\"Expected one of the event types: [raw, base64, base64url, data_url].\";}},Da=function(a,b){this.b=a;this.a=b||null},Ha=function(a,b){switch(a){case \"raw\":return new Da(Ea(b));case \"base64\":case \"base64url\":return new Da(Fa(a,b));case \"data_url\":a=new Ga(b);var c;if(a.a)c=Fa(\"base64\",a.c);else{try{c=decodeURIComponent(a.c)}catch(d){throw v(\"data_url\",\n\"Malformed data URL.\");}c=Ea(c)}return new Da(c,(new Ga(b)).b)}throw ga();},Ea=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|d&63);else if(55296==(d&64512))if(c<a.length-1&&56320==(a.charCodeAt(c+1)&64512)){var e=a.charCodeAt(++c),d=65536|(d&1023)<<10|e&1023;b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63)}else b.push(239,191,189);else 56320==(d&64512)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|d&63)}return new Uint8Array(b)},\nFa=function(a,b){switch(a){case \"base64\":var c=-1!==b.indexOf(\"-\"),d=-1!==b.indexOf(\"_\");if(c||d)throw v(a,\"Invalid character '\"+(c?\"-\":\"_\")+\"' found: is it base64url encoded?\");break;case \"base64url\":c=-1!==b.indexOf(\"+\");d=-1!==b.indexOf(\"/\");if(c||d)throw v(a,\"Invalid character '\"+(c?\"+\":\"/\")+\"' found: is it base64 encoded?\");b=b.replace(/-/g,\"+\").replace(/_/g,\"/\")}var e;try{e=atob(b)}catch(f){throw v(a,\"Invalid character found\");}a=new Uint8Array(e.length);for(b=0;b<e.length;b++)a[b]=e.charCodeAt(b);\nreturn a},Ga=function(a){var b=a.match(/^data:([^,]+)?,/);if(null===b)throw v(\"data_url\",\"Must be formatted 'data:[<mediatype>][;base64],<data>\");b=b[1]||null;this.a=!1;this.b=null;if(null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(\";base64\",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(\",\")+1)};var Ia=function(a){var b=encodeURIComponent,c=\"?\";ma(a,function(a,e){a=b(a)+\"=\"+b(e);c=c+a+\"&\"});return c=c.slice(0,-1)};var Ja=function(){var a=this;this.a=new XMLHttpRequest;this.c=0;this.f=qa(function(b){a.a.addEventListener(\"abort\",function(){a.c=2;b(a)});a.a.addEventListener(\"error\",function(){a.c=1;b(a)});a.a.addEventListener(\"load\",function(){b(a)})});this.b=!1},Ka=function(a,b,c,d,e){if(a.b)throw la(\"cannot .send() more than once\");a.b=!0;a.a.open(c,b,!0);y(e)&&ma(e,function(b,c){a.a.setRequestHeader(b,c.toString())});y(d)?a.a.send(d):a.a.send();return a.f},La=function(a){if(!a.b)throw la(\"cannot .getErrorCode() before sending\");\nreturn a.c},F=function(a){if(!a.b)throw la(\"cannot .getStatus() before sending\");try{return a.a.status}catch(b){return-1}},Na=function(a){if(!a.b)throw la(\"cannot .getResponseText() before sending\");return a.a.responseText};Ja.prototype.abort=function(){this.a.abort()};var G=function(a,b,c,d,e,f){this.b=a;this.h=b;this.f=c;this.a=d;this.g=e;this.c=f};k=G.prototype;k.V=function(){return this.b};k.qa=function(){return this.h};k.na=function(){return this.f};k.ia=function(){return this.a};k.W=function(){if(y(this.a)){var a=this.a.downloadURLs;return y(a)&&y(a[0])?a[0]:null}return null};k.pa=function(){return this.g};k.la=function(){return this.c};var H;a:{var Oa=p.navigator;if(Oa){var Pa=Oa.userAgent;if(Pa){H=Pa;break a}}H=\"\"};var Ra=function(a,b,c,d,e,f,g,h,n,B,C){this.C=a;this.A=b;this.v=c;this.o=d;this.B=e.slice();this.m=f.slice();this.j=this.l=this.c=this.b=null;this.f=this.g=!1;this.s=g;this.h=h;this.D=C;this.w=n;var z=this;this.u=qa(function(a,b){z.l=a;z.j=b;Qa(z)})},Sa=function(a,b,c){this.b=a;this.c=b;this.a=!!c},Qa=function(a){function b(a,b){b?a(!1,new Sa(!1,null,!0)):(b=new Ja,b.a.withCredentials=d.D,d.b=b,Ka(b,d.C,d.A,d.o,d.v).then(function(b){d.b=null;var c=0===La(b),e=F(b);if(!(c=!c))var c=r([408,429],e),\nf=r(d.m,e),c=500<=e&&600>e||c||f;c?(b=2===La(b),a(!1,new Sa(!1,null,b))):a(!0,new Sa(r(d.B,e),b))}))}function c(a,b){var c=d.l;a=d.j;var e=b.c;if(b.b)try{var f=d.s(e,Na(e));q(f)?c(f):c()}catch(B){a(B)}else null!==e?(b=ga(),f=Na(e),b.serverResponse=f,d.h?a(d.h(e,b)):a(b)):(b=b.a?d.f?ka():ha():new u(\"retry-limit-exceeded\",\"Max retry time for operation exceeded, please try again.\"),a(b))}var d=a;a.g?c(0,new Sa(!1,null,!0)):a.c=fa(b,c,a.w)};Ra.prototype.a=function(){return this.u};\nRa.prototype.cancel=function(a){this.g=!0;this.f=a||!1;null!==this.c&&(0,this.c)(!1);null!==this.b&&this.b.abort()};var Ta=function(a,b,c){var d=Ia(a.b),d=a.h+d,e=a.headers?na(a.headers):{};null!==b&&0<b.length&&(e.Authorization=\"Firebase \"+b);e[\"X-Firebase-Storage-Version\"]=\"webjs/\"+(\"undefined\"!==typeof firebase?firebase.SDK_VERSION:\"AppManager\");return new Ra(d,a.method,e,a.body,a.c,a.g,a.j,a.a,a.timeout,0,c)};var Ua=function(){};var Va=function(a){this.b=firebase.Promise.reject(a)};Va.prototype.a=function(){return this.b};Va.prototype.cancel=function(){};var Wa=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},Xa=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)},Ya=function(a){ma(a.a,function(a,c){c&&c.cancel(!0)});a.a={}};var Za=function(a,b,c,d,e){this.a=a;this.g=null;if(null!==this.a&&(a=this.a.options,y(a))){a=a.storageBucket||null;if(null==a)a=null;else{var f=null;try{f=Aa(a)}catch(g){}if(null!==f){if(\"\"!==f.path)throw new u(\"invalid-default-bucket\",\"Invalid default bucket '\"+a+\"'.\");a=f.bucket}}this.g=a}this.o=b;this.m=c;this.j=e;this.l=d;this.c=12E4;this.b=6E4;this.h=new Wa;this.f=!1},$a=function(a){return null!==a.a&&y(a.a.INTERNAL)&&y(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return y(a)?\na.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};Za.prototype.bucket=function(){if(this.f)throw ka();return this.g};var I=function(a,b,c){if(a.f)return new Va(ka());b=a.m(b,c,null===a.a,a.j);Xa(a.h,b);return b};var ab=-1!=H.indexOf(\"Opera\"),bb=-1!=H.indexOf(\"Trident\")||-1!=H.indexOf(\"MSIE\"),cb=-1!=H.indexOf(\"Edge\"),db=-1!=H.indexOf(\"Gecko\")&&!(-1!=H.toLowerCase().indexOf(\"webkit\")&&-1==H.indexOf(\"Edge\"))&&!(-1!=H.indexOf(\"Trident\")||-1!=H.indexOf(\"MSIE\"))&&-1==H.indexOf(\"Edge\"),eb=-1!=H.toLowerCase().indexOf(\"webkit\")&&-1==H.indexOf(\"Edge\"),fb;\na:{var gb=\"\",hb=function(){var a=H;if(db)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(cb)return/Edge\\/([\\d\\.]+)/.exec(a);if(bb)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(eb)return/WebKit\\/(\\S+)/.exec(a);if(ab)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();hb&&(gb=hb?hb[1]:\"\");if(bb){var ib,jb=p.document;ib=jb?jb.documentMode:void 0;if(null!=ib&&ib>parseFloat(gb)){fb=String(ib);break a}}fb=gb}\nvar kb=fb,va={},lb=function(a){return wa(a,function(){for(var b=0,c=xa(String(kb)).split(\".\"),d=xa(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\";do{g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];h=/(\\d*)(\\D*)(.*)/.exec(h)||[\"\",\"\",\"\",\"\"];if(0==g[0].length&&0==h[0].length)break;b=ya(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||ya(0==g[2].length,0==h[2].length)||ya(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})};var mb=function(a){var b=p.BlobBuilder||p.WebKitBlobBuilder;if(q(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=Array.prototype.slice.call(arguments);c=p.BlobBuilder||p.WebKitBlobBuilder;if(q(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(q(p.Blob))b=new Blob(b,{});else throw Error(\"This browser doesn't seem to support creating Blobs\");return b},nb=function(a,b,c){q(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,\nc):a.mozSlice?a.mozSlice(b,c):a.slice?db&&!lb(\"13.0\")||eb&&!lb(\"537.1\")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var ob=function(a,b){return b},J=function(a,b,c,d){this.c=a;this.b=b||a;this.writable=!!c;this.a=d||ob},pb=null,qb=function(){if(pb)return pb;var a=[];a.push(new J(\"bucket\"));a.push(new J(\"generation\"));a.push(new J(\"metageneration\"));a.push(new J(\"name\",\"fullPath\",!0));var b=new J(\"name\");b.a=function(a,b){return!ta(b)||2>b.length?b:pa(b)};a.push(b);b=new J(\"size\");b.a=function(a,b){return y(b)?+b:b};a.push(b);a.push(new J(\"timeCreated\"));a.push(new J(\"updated\"));a.push(new J(\"md5Hash\",null,!0));\na.push(new J(\"cacheControl\",null,!0));a.push(new J(\"contentDisposition\",null,!0));a.push(new J(\"contentEncoding\",null,!0));a.push(new J(\"contentLanguage\",null,!0));a.push(new J(\"contentType\",null,!0));a.push(new J(\"metadata\",\"customMetadata\",!0));a.push(new J(\"downloadTokens\",\"downloadURLs\",!1,function(a,b){if(!(ta(b)&&0<b.length))return[];var c=encodeURIComponent;return b.split(\",\").map(function(b){var d=a.fullPath,d=\"https://firebasestorage.googleapis.com/v0\"+(\"/b/\"+c(a.bucket)+\"/o/\"+c(d));b=Ia({alt:\"media\",\ntoken:b});return d+b})}));return pb=a},rb=function(a,b){Object.defineProperty(a,\"ref\",{get:function(){return b.o(b,new D(a.bucket,a.fullPath))}})},sb=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.writable&&(c[f.c]=a[f.b])}return JSON.stringify(c)},tb=function(a){if(!a||\"object\"!==typeof a)throw\"Expected Metadata object.\";for(var b in a){var c=a[b];if(\"customMetadata\"===b){if(\"object\"!==typeof c)throw\"Expected object for 'customMetadata' mapping.\";}else if(null!=c&&\"object\"===typeof c)throw\"Mapping for '\"+\nb+\"' cannot be an object.\";}};var K=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?\"argument\":\"arguments\"):(b=\"between \"+d+\" and \"+e,d=\"arguments\"),new u(\"invalid-argument-count\",\"Invalid argument count in `\"+a+\"`: Expected \"+b+\" \"+d+\", received \"+c.length+\".\");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(g){if(g instanceof Error)throw ja(f,a,g.message);throw ja(f,a,g);}},L=function(a,b){var c=this;this.a=function(b){c.b&&!q(b)||a(b)};\nthis.b=!!b},ub=function(a,b){return function(c){a(c);b(c)}},M=function(a,b){function c(a){if(!(\"string\"===typeof a||a instanceof String))throw\"Expected string.\";}var d;a?d=ub(c,a):d=c;return new L(d,b)},vb=function(){return new L(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||ua()&&a instanceof Blob))throw\"Expected Blob or File.\";})},wb=function(){return new L(function(a){if(!((\"number\"===typeof a||a instanceof Number)&&0<=a))throw\"Expected a number 0 or greater.\";})},xb=function(a,\nb){return new L(function(b){if(!(null===b||y(b)&&b instanceof Object))throw\"Expected an Object.\";y(a)&&a(b)},b)},N=function(){return new L(function(a){if(null!==a&&\"function\"!=ea(a))throw\"Expected a Function.\";},!0)};var O=function(a,b){ua()&&a instanceof Blob?(this.i=a,b=a.size,a=a.type):(a instanceof ArrayBuffer?(b?this.i=new Uint8Array(a):(this.i=new Uint8Array(a.byteLength),this.i.set(new Uint8Array(a))),b=this.i.length):(b?this.i=a:(this.i=new Uint8Array(a.length),this.i.set(a)),b=a.length),a=\"\");this.a=b;this.b=a};O.prototype.type=function(){return this.b};\nO.prototype.slice=function(a,b){if(ua()&&this.i instanceof Blob)return a=nb(this.i,a,b),null===a?null:new O(a);a=new Uint8Array(this.i.buffer,a,b-a);return new O(a,!0)};\nvar yb=function(a){var b=[];Array.prototype.push.apply(b,arguments);if(ua())return b=b.map(function(a){return a instanceof O?a.i:a}),new O(mb.apply(null,b));var b=b.map(function(a){return ta(a)?Ha(\"raw\",a).b.buffer:a.i.buffer}),c=0;b.forEach(function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;b.forEach(function(a){a=new Uint8Array(a);for(var b=0;b<a.length;b++)d[e++]=a[b]});return new O(d,!0)};var P=function(a){if(!a)throw ga();},zb=function(a,b){return function(c,d){var e;a:{try{e=JSON.parse(d)}catch(h){e=null;break a}c=typeof e;e=\"object\"==c&&null!=e||\"function\"==c?e:null}if(null===e)e=null;else{c={type:\"file\"};d=b.length;for(var f=0;f<d;f++){var g=b[f];c[g.b]=g.a(c,e[g.c])}rb(c,a);e=c}P(null!==e);return e}},Q=function(a){return function(b,c){b=401===F(b)?new u(\"unauthenticated\",\"User is not authenticated, please authenticate using Firebase Authentication and try again.\"):402===F(b)?\nnew u(\"quota-exceeded\",\"Quota for bucket '\"+a.bucket+\"' exceeded, please view quota on https://firebase.google.com/pricing/.\"):403===F(b)?new u(\"unauthorized\",\"User does not have permission to access '\"+a.path+\"'.\"):c;b.serverResponse=c.serverResponse;return b}},Ab=function(a){var b=Q(a);return function(c,d){var e=b(c,d);404===F(c)&&(e=new u(\"object-not-found\",\"Object '\"+a.path+\"' does not exist.\"));e.serverResponse=d.serverResponse;return e}},Bb=function(a,b,c){var d=za(b);a=new w(t+\"/v0\"+d,\"GET\",\nzb(a,c),a.c);a.a=Ab(b);return a},Cb=function(a,b){var c=za(b);a=new w(t+\"/v0\"+c,\"DELETE\",function(){},a.c);a.c=[200,204];a.a=Ab(b);return a},Db=function(a,b,c){c=c?na(c):{};c.fullPath=a.path;c.size=b.a;c.contentType||(a=b&&b.type()||\"application/octet-stream\",c.contentType=a);return c},Eb=function(a,b,c,d,e){var f=\"/b/\"+encodeURIComponent(b.bucket)+\"/o\",g={\"X-Goog-Upload-Protocol\":\"multipart\"},h;h=\"\";for(var n=0;2>n;n++)h+=Math.random().toString().slice(2);g[\"Content-Type\"]=\"multipart/related; boundary=\"+\nh;e=Db(b,d,e);n=sb(e,c);d=yb(\"--\"+h+\"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\"+n+\"\\r\\n--\"+h+\"\\r\\nContent-Type: \"+e.contentType+\"\\r\\n\\r\\n\",d,\"\\r\\n--\"+h+\"--\");if(null===d)throw ia();a=new w(t+\"/v0\"+f,\"POST\",zb(a,c),a.b);a.b={name:e.fullPath};a.headers=g;a.body=d.i;a.a=Q(b);return a},Fb=function(a,b,c,d){this.a=a;this.b=b;this.c=!!c;this.f=d||null},Gb=function(a,b){var c;try{c=a.a.getResponseHeader(\"X-Goog-Upload-Status\")}catch(d){P(!1)}P(r(b||[\"active\"],c));return c},Hb=function(a,\nb,c,d,e){var f=\"/b/\"+encodeURIComponent(b.bucket)+\"/o\",g=Db(b,d,e);e={name:g.fullPath};f=t+\"/v0\"+f;d={\"X-Goog-Upload-Protocol\":\"resumable\",\"X-Goog-Upload-Command\":\"start\",\"X-Goog-Upload-Header-Content-Length\":d.a,\"X-Goog-Upload-Header-Content-Type\":g.contentType,\"Content-Type\":\"application/json; charset=utf-8\"};c=sb(g,c);a=new w(f,\"POST\",function(a){Gb(a);var b;try{b=a.a.getResponseHeader(\"X-Goog-Upload-URL\")}catch(B){P(!1)}P(ta(b));return b},a.b);a.b=e;a.headers=d;a.body=c;a.a=Q(b);return a},Ib=\nfunction(a,b,c,d){a=new w(c,\"POST\",function(a){var b=Gb(a,[\"active\",\"final\"]),c;try{c=a.a.getResponseHeader(\"X-Goog-Upload-Size-Received\")}catch(h){P(!1)}a=c;isFinite(a)&&(a=String(a));a=\"string\"==typeof a?/^\\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;P(!isNaN(a));return new Fb(a,d.a,\"final\"===b)},a.b);a.headers={\"X-Goog-Upload-Command\":\"query\"};a.a=Q(b);a.f=!1;return a},Jb=function(a,b,c,d,e,f,g){var h=new Fb(0,0);g?(h.a=g.a,h.b=g.b):(h.a=0,h.b=d.a);if(d.a!==h.b)throw new u(\"server-file-wrong-size\",\n\"Server recorded incorrect upload file size, please retry the upload.\");var n=g=h.b-h.a;0<e&&(n=Math.min(n,e));var B=h.a;e={\"X-Goog-Upload-Command\":n===g?\"upload, finalize\":\"upload\",\"X-Goog-Upload-Offset\":h.a};g=d.slice(B,B+n);if(null===g)throw ia();c=new w(c,\"POST\",function(a,c){var e=Gb(a,[\"active\",\"final\"]),g=h.a+n,C=d.a,z;\"final\"===e?z=zb(b,f)(a,c):z=null;return new Fb(g,C,\"final\"===e,z)},b.b);c.headers=e;c.body=g.i;c.l=null;c.a=Q(a);c.f=!1;return c};var T=function(a,b,c,d,e,f){this.L=a;this.c=b;this.l=c;this.f=e;this.h=f||null;this.s=d;this.m=0;this.D=this.u=!1;this.B=[];this.S=262144<this.f.a;this.b=\"running\";this.a=this.v=this.g=null;this.j=1;var g=this;this.F=function(a){g.a=null;g.j=1;\"storage/canceled\"===a.code?(g.u=!0,R(g)):(g.g=a,S(g,\"error\"))};this.P=function(a){g.a=null;\"storage/canceled\"===a.code?R(g):(g.g=a,S(g,\"error\"))};this.A=this.o=null;this.C=qa(function(a,b){g.o=a;g.A=b;Kb(g)});this.C.then(null,function(){})},Kb=function(a){\"running\"===\na.b&&null===a.a&&(a.S?null===a.v?Lb(a):a.u?Mb(a):a.D?Nb(a):Ob(a):Pb(a))},U=function(a,b){$a(a.c).then(function(c){switch(a.b){case \"running\":b(c);break;case \"canceling\":S(a,\"canceled\");break;case \"pausing\":S(a,\"paused\")}})},Lb=function(a){U(a,function(b){var c=Hb(a.c,a.l,a.s,a.f,a.h);a.a=I(a.c,c,b);a.a.a().then(function(b){a.a=null;a.v=b;a.u=!1;R(a)},this.F)})},Mb=function(a){var b=a.v;U(a,function(c){var d=Ib(a.c,a.l,b,a.f);a.a=I(a.c,d,c);a.a.a().then(function(b){a.a=null;Qb(a,b.a);a.u=!1;b.c&&(a.D=\n!0);R(a)},a.F)})},Ob=function(a){var b=262144*a.j,c=new Fb(a.m,a.f.a),d=a.v;U(a,function(e){var f;try{f=Jb(a.l,a.c,d,a.f,b,a.s,c)}catch(g){a.g=g;S(a,\"error\");return}a.a=I(a.c,f,e);a.a.a().then(function(b){33554432>262144*a.j&&(a.j*=2);a.a=null;Qb(a,b.a);b.c?(a.h=b.f,S(a,\"success\")):R(a)},a.F)})},Nb=function(a){U(a,function(b){var c=Bb(a.c,a.l,a.s);a.a=I(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;S(a,\"success\")},a.P)})},Pb=function(a){U(a,function(b){var c=Eb(a.c,a.l,a.s,a.f,a.h);a.a=I(a.c,c,\nb);a.a.a().then(function(b){a.a=null;a.h=b;Qb(a,a.f.a);S(a,\"success\")},a.F)})},Qb=function(a,b){var c=a.m;a.m=b;a.m>c&&V(a)},S=function(a,b){if(a.b!==b)switch(b){case \"canceling\":a.b=b;null!==a.a&&a.a.cancel();break;case \"pausing\":a.b=b;null!==a.a&&a.a.cancel();break;case \"running\":var c=\"paused\"===a.b;a.b=b;c&&(V(a),Kb(a));break;case \"paused\":a.b=b;V(a);break;case \"canceled\":a.g=ha();a.b=b;V(a);break;case \"error\":a.b=b;V(a);break;case \"success\":a.b=b,V(a)}},R=function(a){switch(a.b){case \"pausing\":S(a,\n\"paused\");break;case \"canceling\":S(a,\"canceled\");break;case \"running\":Kb(a)}};T.prototype.w=function(){return new G(this.m,this.f.a,sa(this.b),this.h,this,this.L)};\nT.prototype.M=function(a,b,c,d){function e(a){try{g(a);return}catch(z){}try{if(h(a),!(q(a.next)||q(a.error)||q(a.complete)))throw\"\";}catch(z){throw\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\";}}function f(a){return function(b,c,d){null!==a&&K(\"on\",a,arguments);var e=new Ba(b,c,d);Rb(n,e);return function(){var a=n.B,b=a.indexOf(e);-1!==b&&a.splice(b,1)}}}var g=N().a,h=xb(null,!0).a;K(\"on\",[M(function(){if(\"state_changed\"!==a)throw\"Expected one of the event types: [state_changed].\";\n}),xb(e,!0),N(),N()],arguments);var n=this,B=[xb(function(a){if(null===a)throw\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\";e(a)}),N(),N()];return q(b)||q(c)||q(d)?f(null)(b,c,d):f(B)};T.prototype.then=function(a,b){return this.C.then(a,b)};\nvar Rb=function(a,b){a.B.push(b);Sb(a,b)},V=function(a){Tb(a);Array.prototype.slice.call(a.B).forEach(function(b){Sb(a,b)})},Tb=function(a){if(null!==a.o){var b=!0;switch(sa(a.b)){case \"success\":A(a.o.bind(null,a.w()))();break;case \"canceled\":case \"error\":A(a.A.bind(null,a.g))();break;default:b=!1}b&&(a.o=null,a.A=null)}},Sb=function(a,b){switch(sa(a.b)){case \"running\":case \"paused\":null!==b.c&&A(b.c.bind(b,a.w()))();break;case \"success\":null!==b.b&&A(b.b.bind(b))();break;case \"canceled\":case \"error\":null!==\nb.a&&A(b.a.bind(b,a.g))();break;default:null!==b.a&&A(b.a.bind(b,a.g))()}};T.prototype.O=function(){K(\"resume\",[],arguments);var a=\"paused\"===this.b||\"pausing\"===this.b;a&&S(this,\"running\");return a};T.prototype.N=function(){K(\"pause\",[],arguments);var a=\"running\"===this.b;a&&S(this,\"pausing\");return a};T.prototype.cancel=function(){K(\"cancel\",[],arguments);var a=\"running\"===this.b||\"pausing\"===this.b;a&&S(this,\"canceling\");return a};var W=function(a,b){this.b=a;if(b)this.a=b instanceof D?b:Aa(b);else if(a=a.bucket(),null!==a)this.a=new D(a,\"\");else throw new u(\"no-default-bucket\",\"No default bucket found. Did you set the 'storageBucket' property when initializing the app?\");};W.prototype.toString=function(){K(\"toString\",[],arguments);return\"gs://\"+this.a.bucket+\"/\"+this.a.path};var Ub=function(a,b){return new W(a,b)};k=W.prototype;\nk.H=function(a){K(\"child\",[M()],arguments);var b=oa(this.a.path,a);return Ub(this.b,new D(this.a.bucket,b))};k.ka=function(){var a;a=this.a.path;if(0==a.length)a=null;else{var b=a.lastIndexOf(\"/\");a=-1===b?\"\":a.slice(0,b)}return null===a?null:Ub(this.b,new D(this.a.bucket,a))};k.ma=function(){return Ub(this.b,new D(this.a.bucket,\"\"))};k.U=function(){return this.a.bucket};k.fa=function(){return this.a.path};k.ja=function(){return pa(this.a.path)};k.oa=function(){return this.b.l};\nk.Z=function(a,b){K(\"put\",[vb(),new L(tb,!0)],arguments);X(this,\"put\");return new T(this,this.b,this.a,qb(),new O(a),b)};k.$=function(a,b,c){K(\"putString\",[M(),M(Ca,!0),new L(tb,!0)],arguments);X(this,\"putString\");var d=Ha(y(b)?b:\"raw\",a),e=c?na(c):{};!y(e.contentType)&&y(d.a)&&(e.contentType=d.a);return new T(this,this.b,this.a,qb(),new O(d.b,!0),e)};k.X=function(){K(\"delete\",[],arguments);X(this,\"delete\");var a=this;return $a(this.b).then(function(b){var c=Cb(a.b,a.a);return I(a.b,c,b).a()})};\nk.I=function(){K(\"getMetadata\",[],arguments);X(this,\"getMetadata\");var a=this;return $a(this.b).then(function(b){var c=Bb(a.b,a.a,qb());return I(a.b,c,b).a()})};k.aa=function(a){K(\"updateMetadata\",[new L(tb,void 0)],arguments);X(this,\"updateMetadata\");var b=this;return $a(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=qb(),h=za(e),h=t+\"/v0\"+h,f=sb(f,g),d=new w(h,\"PATCH\",zb(d,g),d.c);d.headers={\"Content-Type\":\"application/json; charset=utf-8\"};d.body=f;d.a=Ab(e);return I(b.b,d,c).a()})};\nk.Y=function(){K(\"getDownloadURL\",[],arguments);X(this,\"getDownloadURL\");return this.I().then(function(a){a=a.downloadURLs[0];if(y(a))return a;throw new u(\"no-download-url\",\"The given file does not have any download URLs.\");})};var X=function(a,b){if(\"\"===a.a.path)throw new u(\"invalid-root-operation\",\"The operation '\"+b+\"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\");};var Y=function(a,b){this.a=new Za(a,function(a,b){return new W(a,b)},Ta,this,y(b)?b:new Ua);this.b=a;this.c=new Vb(this)};k=Y.prototype;k.ba=function(a){K(\"ref\",[M(function(a){if(/^[A-Za-z]+:\\/\\//.test(a))throw\"Expected child path but got a URL, use refFromURL instead.\";},!0)],arguments);var b=new W(this.a);return q(a)?b.H(a):b};\nk.ca=function(a){K(\"refFromURL\",[M(function(a){if(!/^[A-Za-z]+:\\/\\//.test(a))throw\"Expected full URL but got a child path, use ref instead.\";try{Aa(a)}catch(c){throw\"Expected valid full URL but got an invalid one.\";}},!1)],arguments);return new W(this.a,a)};k.ha=function(){return this.a.b};k.ea=function(a){K(\"setMaxUploadRetryTime\",[wb()],arguments);this.a.b=a};k.ga=function(){return this.a.c};k.da=function(a){K(\"setMaxOperationRetryTime\",[wb()],arguments);this.a.c=a};k.T=function(){return this.b};\nk.R=function(){return this.c};var Vb=function(a){this.a=a};Vb.prototype.b=function(){var a=this.a.a;a.f=!0;a.a=null;Ya(a.h)};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};W.prototype.toString=W.prototype.toString;W.prototype.child=W.prototype.H;W.prototype.put=W.prototype.Z;W.prototype.putString=W.prototype.$;W.prototype[\"delete\"]=W.prototype.X;W.prototype.getMetadata=W.prototype.I;W.prototype.updateMetadata=W.prototype.aa;W.prototype.getDownloadURL=W.prototype.Y;Z(W.prototype,\"parent\",W.prototype.ka);Z(W.prototype,\"root\",W.prototype.ma);Z(W.prototype,\"bucket\",W.prototype.U);Z(W.prototype,\"fullPath\",W.prototype.fa);\nZ(W.prototype,\"name\",W.prototype.ja);Z(W.prototype,\"storage\",W.prototype.oa);Y.prototype.ref=Y.prototype.ba;Y.prototype.refFromURL=Y.prototype.ca;Z(Y.prototype,\"maxOperationRetryTime\",Y.prototype.ga);Y.prototype.setMaxOperationRetryTime=Y.prototype.da;Z(Y.prototype,\"maxUploadRetryTime\",Y.prototype.ha);Y.prototype.setMaxUploadRetryTime=Y.prototype.ea;Z(Y.prototype,\"app\",Y.prototype.T);Z(Y.prototype,\"INTERNAL\",Y.prototype.R);Vb.prototype[\"delete\"]=Vb.prototype.b;Y.prototype.capi_=function(a){t=a};\nT.prototype.on=T.prototype.M;T.prototype.resume=T.prototype.O;T.prototype.pause=T.prototype.N;T.prototype.cancel=T.prototype.cancel;Z(T.prototype,\"snapshot\",T.prototype.w);Z(G.prototype,\"bytesTransferred\",G.prototype.V);Z(G.prototype,\"totalBytes\",G.prototype.qa);Z(G.prototype,\"state\",G.prototype.na);Z(G.prototype,\"metadata\",G.prototype.ia);Z(G.prototype,\"downloadURL\",G.prototype.W);Z(G.prototype,\"task\",G.prototype.pa);Z(G.prototype,\"ref\",G.prototype.la);ra.STATE_CHANGED=\"state_changed\";\nx.RUNNING=\"running\";x.PAUSED=\"paused\";x.SUCCESS=\"success\";x.CANCELED=\"canceled\";x.ERROR=\"error\";E.RAW=\"raw\";E.BASE64=\"base64\";E.BASE64URL=\"base64url\";E.DATA_URL=\"data_url\";(function(){function a(a){return new Y(a)}var b={TaskState:x,TaskEvent:ra,StringFormat:E,Storage:Y,Reference:W};if(\"undefined\"!==typeof firebase)firebase.INTERNAL.registerService(\"storage\",a,b);else throw Error(\"Cannot install Firebase Storage - be sure to load firebase-app.js first.\");})();}).call(this);\n}).call(typeof global !== undefined ? global : typeof self !== undefined ? self : typeof window !== undefined ? window : {});\nmodule.exports = firebase.storage;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dropzone\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Dropzone\"] = factory(root[\"react\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _attrAccept = __webpack_require__(2);\n\t\n\tvar _attrAccept2 = _interopRequireDefault(_attrAccept);\n\t\n\tvar _getDataTransferItems = __webpack_require__(3);\n\t\n\tvar _getDataTransferItems2 = _interopRequireDefault(_getDataTransferItems);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint prefer-template: 0 */\n\t\n\t\n\tvar supportMultiple = typeof document !== 'undefined' && document && document.createElement ? 'multiple' in document.createElement('input') : true;\n\t\n\tvar Dropzone = function (_React$Component) {\n\t  _inherits(Dropzone, _React$Component);\n\t\n\t  _createClass(Dropzone, null, [{\n\t    key: 'renderChildren',\n\t    value: function renderChildren(children, isDragActive, isDragReject) {\n\t      if (typeof children === 'function') {\n\t        return children({ isDragActive: isDragActive, isDragReject: isDragReject });\n\t      }\n\t      return children;\n\t    }\n\t  }]);\n\t\n\t  function Dropzone(props, context) {\n\t    _classCallCheck(this, Dropzone);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Dropzone.__proto__ || Object.getPrototypeOf(Dropzone)).call(this, props, context));\n\t\n\t    _this.onClick = _this.onClick.bind(_this);\n\t    _this.onDragStart = _this.onDragStart.bind(_this);\n\t    _this.onDragEnter = _this.onDragEnter.bind(_this);\n\t    _this.onDragLeave = _this.onDragLeave.bind(_this);\n\t    _this.onDragOver = _this.onDragOver.bind(_this);\n\t    _this.onDrop = _this.onDrop.bind(_this);\n\t    _this.onFileDialogCancel = _this.onFileDialogCancel.bind(_this);\n\t    _this.fileAccepted = _this.fileAccepted.bind(_this);\n\t    _this.isFileDialogActive = false;\n\t    _this.state = {\n\t      isDragActive: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Dropzone, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.enterCounter = 0;\n\t      // Tried implementing addEventListener, but didn't work out\n\t      document.body.onfocus = this.onFileDialogCancel;\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      // Can be replaced with removeEventListener, if addEventListener works\n\t      document.body.onfocus = null;\n\t    }\n\t  }, {\n\t    key: 'onDragStart',\n\t    value: function onDragStart(e) {\n\t      if (this.props.onDragStart) {\n\t        this.props.onDragStart.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDragEnter',\n\t    value: function onDragEnter(e) {\n\t      e.preventDefault();\n\t\n\t      // Count the dropzone and any children that are entered.\n\t      ++this.enterCounter;\n\t\n\t      var allFilesAccepted = this.allFilesAccepted((0, _getDataTransferItems2.default)(e, this.props.multiple));\n\t\n\t      this.setState({\n\t        isDragActive: allFilesAccepted,\n\t        isDragReject: !allFilesAccepted\n\t      });\n\t\n\t      if (this.props.onDragEnter) {\n\t        this.props.onDragEnter.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDragOver',\n\t    value: function onDragOver(e) {\n\t      // eslint-disable-line class-methods-use-this\n\t      e.preventDefault();\n\t      e.stopPropagation();\n\t      try {\n\t        e.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n\t      } catch (err) {\n\t        // continue regardless of error\n\t      }\n\t\n\t      if (this.props.onDragOver) {\n\t        this.props.onDragOver.call(this, e);\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'onDragLeave',\n\t    value: function onDragLeave(e) {\n\t      e.preventDefault();\n\t\n\t      // Only deactivate once the dropzone and all children was left.\n\t      if (--this.enterCounter > 0) {\n\t        return;\n\t      }\n\t\n\t      this.setState({\n\t        isDragActive: false,\n\t        isDragReject: false\n\t      });\n\t\n\t      if (this.props.onDragLeave) {\n\t        this.props.onDragLeave.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDrop',\n\t    value: function onDrop(e) {\n\t      var _this2 = this;\n\t\n\t      var _props = this.props,\n\t          onDrop = _props.onDrop,\n\t          onDropAccepted = _props.onDropAccepted,\n\t          onDropRejected = _props.onDropRejected,\n\t          multiple = _props.multiple,\n\t          disablePreview = _props.disablePreview;\n\t\n\t      var fileList = (0, _getDataTransferItems2.default)(e, multiple);\n\t      var acceptedFiles = [];\n\t      var rejectedFiles = [];\n\t\n\t      // Stop default browser behavior\n\t      e.preventDefault();\n\t\n\t      // Reset the counter along with the drag on a drop.\n\t      this.enterCounter = 0;\n\t      this.isFileDialogActive = false;\n\t\n\t      fileList.forEach(function (file) {\n\t        if (!disablePreview) {\n\t          file.preview = window.URL.createObjectURL(file); // eslint-disable-line no-param-reassign\n\t        }\n\t\n\t        if (_this2.fileAccepted(file) && _this2.fileMatchSize(file)) {\n\t          acceptedFiles.push(file);\n\t        } else {\n\t          rejectedFiles.push(file);\n\t        }\n\t      });\n\t\n\t      if (onDrop) {\n\t        onDrop.call(this, acceptedFiles, rejectedFiles, e);\n\t      }\n\t\n\t      if (rejectedFiles.length > 0 && onDropRejected) {\n\t        onDropRejected.call(this, rejectedFiles, e);\n\t      }\n\t\n\t      if (acceptedFiles.length > 0 && onDropAccepted) {\n\t        onDropAccepted.call(this, acceptedFiles, e);\n\t      }\n\t\n\t      // Reset drag state\n\t      this.setState({\n\t        isDragActive: false,\n\t        isDragReject: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      var _props2 = this.props,\n\t          onClick = _props2.onClick,\n\t          disableClick = _props2.disableClick;\n\t\n\t      if (!disableClick) {\n\t        e.stopPropagation();\n\t        this.open();\n\t        if (onClick) {\n\t          onClick.call(this, e);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onFileDialogCancel',\n\t    value: function onFileDialogCancel() {\n\t      // timeout will not recognize context of this method\n\t      var onFileDialogCancel = this.props.onFileDialogCancel;\n\t      var fileInputEl = this.fileInputEl;\n\t      var isFileDialogActive = this.isFileDialogActive;\n\t      // execute the timeout only if the onFileDialogCancel is defined and FileDialog\n\t      // is opened in the browser\n\t\n\t      if (onFileDialogCancel && isFileDialogActive) {\n\t        setTimeout(function () {\n\t          // Returns an object as FileList\n\t          var FileList = fileInputEl.files;\n\t          if (!FileList.length) {\n\t            isFileDialogActive = false;\n\t            onFileDialogCancel();\n\t          }\n\t        }, 300);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'fileAccepted',\n\t    value: function fileAccepted(file) {\n\t      return (0, _attrAccept2.default)(file, this.props.accept);\n\t    }\n\t  }, {\n\t    key: 'fileMatchSize',\n\t    value: function fileMatchSize(file) {\n\t      return file.size <= this.props.maxSize && file.size >= this.props.minSize;\n\t    }\n\t  }, {\n\t    key: 'allFilesAccepted',\n\t    value: function allFilesAccepted(files) {\n\t      return files.every(this.fileAccepted);\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      this.isFileDialogActive = true;\n\t      this.fileInputEl.value = null;\n\t      this.fileInputEl.click();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this3 = this;\n\t\n\t      var _props3 = this.props,\n\t          accept = _props3.accept,\n\t          activeClassName = _props3.activeClassName,\n\t          inputProps = _props3.inputProps,\n\t          multiple = _props3.multiple,\n\t          name = _props3.name,\n\t          rejectClassName = _props3.rejectClassName,\n\t          children = _props3.children,\n\t          rest = _objectWithoutProperties(_props3, ['accept', 'activeClassName', 'inputProps', 'multiple', 'name', 'rejectClassName', 'children']);\n\t\n\t      var activeStyle = rest.activeStyle,\n\t          className = rest.className,\n\t          rejectStyle = rest.rejectStyle,\n\t          style = rest.style,\n\t          props = _objectWithoutProperties(rest, ['activeStyle', 'className', 'rejectStyle', 'style']);\n\t\n\t      var _state = this.state,\n\t          isDragActive = _state.isDragActive,\n\t          isDragReject = _state.isDragReject;\n\t\n\t\n\t      className = className || '';\n\t\n\t      if (isDragActive && activeClassName) {\n\t        className += ' ' + activeClassName;\n\t      }\n\t      if (isDragReject && rejectClassName) {\n\t        className += ' ' + rejectClassName;\n\t      }\n\t\n\t      if (!className && !style && !activeStyle && !rejectStyle) {\n\t        style = {\n\t          width: 200,\n\t          height: 200,\n\t          borderWidth: 2,\n\t          borderColor: '#666',\n\t          borderStyle: 'dashed',\n\t          borderRadius: 5\n\t        };\n\t        activeStyle = {\n\t          borderStyle: 'solid',\n\t          backgroundColor: '#eee'\n\t        };\n\t        rejectStyle = {\n\t          borderStyle: 'solid',\n\t          backgroundColor: '#ffdddd'\n\t        };\n\t      }\n\t\n\t      var appliedStyle = void 0;\n\t      if (activeStyle && isDragActive) {\n\t        appliedStyle = _extends({}, style, activeStyle);\n\t      } else if (rejectStyle && isDragReject) {\n\t        appliedStyle = _extends({}, style, rejectStyle);\n\t      } else {\n\t        appliedStyle = _extends({}, style);\n\t      }\n\t\n\t      var inputAttributes = {\n\t        accept: accept,\n\t        type: 'file',\n\t        style: { display: 'none' },\n\t        multiple: supportMultiple && multiple,\n\t        ref: function ref(el) {\n\t          return _this3.fileInputEl = el;\n\t        }, // eslint-disable-line\n\t        onChange: this.onDrop\n\t      };\n\t\n\t      if (name && name.length) {\n\t        inputAttributes.name = name;\n\t      }\n\t\n\t      // Remove custom properties before passing them to the wrapper div element\n\t      var customProps = ['acceptedFiles', 'disablePreview', 'disableClick', 'onDropAccepted', 'onDropRejected', 'onFileDialogCancel', 'maxSize', 'minSize'];\n\t      var divProps = _extends({}, props);\n\t      customProps.forEach(function (prop) {\n\t        return delete divProps[prop];\n\t      });\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        _extends({\n\t          className: className,\n\t          style: appliedStyle\n\t        }, divProps /* expand user provided props first so event handlers are never overridden */, {\n\t          onClick: this.onClick,\n\t          onDragStart: this.onDragStart,\n\t          onDragEnter: this.onDragEnter,\n\t          onDragOver: this.onDragOver,\n\t          onDragLeave: this.onDragLeave,\n\t          onDrop: this.onDrop\n\t        }),\n\t        Dropzone.renderChildren(children, isDragActive, isDragReject),\n\t        _react2.default.createElement('input', _extends({}, inputProps /* expand user provided inputProps first so inputAttributes override them */, inputAttributes))\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Dropzone;\n\t}(_react2.default.Component);\n\t\n\tDropzone.defaultProps = {\n\t  disablePreview: false,\n\t  disableClick: false,\n\t  multiple: true,\n\t  maxSize: Infinity,\n\t  minSize: 0\n\t};\n\t\n\tDropzone.propTypes = {\n\t  onClick: _react2.default.PropTypes.func,\n\t  onDrop: _react2.default.PropTypes.func,\n\t  onDropAccepted: _react2.default.PropTypes.func,\n\t  onDropRejected: _react2.default.PropTypes.func,\n\t  onDragStart: _react2.default.PropTypes.func,\n\t  onDragEnter: _react2.default.PropTypes.func,\n\t  onDragOver: _react2.default.PropTypes.func,\n\t  onDragLeave: _react2.default.PropTypes.func,\n\t\n\t  children: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.node, _react2.default.PropTypes.func]), // Contents of the dropzone\n\t  style: _react2.default.PropTypes.object, // CSS styles to apply\n\t  activeStyle: _react2.default.PropTypes.object, // CSS styles to apply when drop will be accepted\n\t  rejectStyle: _react2.default.PropTypes.object, // CSS styles to apply when drop will be rejected\n\t  className: _react2.default.PropTypes.string, // Optional className\n\t  activeClassName: _react2.default.PropTypes.string, // className for accepted state\n\t  rejectClassName: _react2.default.PropTypes.string, // className for rejected state\n\t\n\t  disablePreview: _react2.default.PropTypes.bool, // Enable/disable preview generation\n\t  disableClick: _react2.default.PropTypes.bool, // Disallow clicking on the dropzone container to open file dialog\n\t  onFileDialogCancel: _react2.default.PropTypes.func, // Provide a callback on clicking the cancel button of the file dialog\n\t\n\t  inputProps: _react2.default.PropTypes.object, // Pass additional attributes to the <input type=\"file\"/> tag\n\t  multiple: _react2.default.PropTypes.bool, // Allow dropping multiple files\n\t  accept: _react2.default.PropTypes.string, // Allow specific types of files. See https://github.com/okonet/attr-accept for more information\n\t  name: _react2.default.PropTypes.string, // name attribute for the input tag\n\t  maxSize: _react2.default.PropTypes.number,\n\t  minSize: _react2.default.PropTypes.number\n\t};\n\t\n\texports.default = Dropzone;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports=function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p=\"\",n(0)}([function(t,n,r){\"use strict\";n.__esModule=!0,r(8),r(9),n[\"default\"]=function(t,n){if(t&&n){var r=function(){var r=Array.isArray(n)?n:n.split(\",\"),e=t.name||\"\",o=t.type||\"\",i=o.replace(/\\/.*$/,\"\");return{v:r.some(function(t){var n=t.trim();return\".\"===n.charAt(0)?e.toLowerCase().endsWith(n.toLowerCase()):/\\/\\*$/.test(n)?i===n.replace(/\\/.*$/,\"\"):o===n})}}();if(\"object\"==typeof r)return r.v}return!0},t.exports=n[\"default\"]},function(t,n){var r=t.exports={version:\"1.2.2\"};\"number\"==typeof __e&&(__e=r)},function(t,n){var r=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=r)},function(t,n,r){var e=r(2),o=r(1),i=r(4),u=r(19),c=\"prototype\",f=function(t,n){return function(){return t.apply(n,arguments)}},s=function(t,n,r){var a,p,l,y,d=t&s.G,h=t&s.P,v=d?e:t&s.S?e[n]||(e[n]={}):(e[n]||{})[c],x=d?o:o[n]||(o[n]={});d&&(r=n);for(a in r)p=!(t&s.F)&&v&&a in v,l=(p?v:r)[a],y=t&s.B&&p?f(l,e):h&&\"function\"==typeof l?f(Function.call,l):l,v&&!p&&u(v,a,l),x[a]!=l&&i(x,a,y),h&&((x[c]||(x[c]={}))[a]=l)};e.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,n,r){var e=r(5),o=r(18);t.exports=r(22)?function(t,n,r){return e.setDesc(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++r+e).toString(36))}},function(t,n,r){var e=r(20)(\"wks\"),o=r(2).Symbol;t.exports=function(t){return e[t]||(e[t]=o&&o[t]||(o||r(6))(\"Symbol.\"+t))}},function(t,n,r){r(26),t.exports=r(1).Array.some},function(t,n,r){r(25),t.exports=r(1).String.endsWith},function(t,n){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(10);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,n,r){t.exports=function(t){var n=/./;try{\"/./\"[t](n)}catch(e){try{return n[r(7)(\"match\")]=!1,!\"/./\"[t](n)}catch(o){}}return!0}},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,n,r){var e=r(16),o=r(11),i=r(7)(\"match\");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[i])?!!n:\"RegExp\"==o(t))}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(2),o=r(4),i=r(6)(\"src\"),u=\"toString\",c=Function[u],f=(\"\"+c).split(u);r(1).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,u){\"function\"==typeof r&&(o(r,i,t[n]?\"\"+t[n]:f.join(String(n))),\"name\"in r||(r.name=n)),t===e?t[n]=r:(u||delete t[n],o(t,n,r))})(Function.prototype,u,function(){return\"function\"==typeof this&&this[i]||c.call(this)})},function(t,n,r){var e=r(2),o=\"__core-js_shared__\",i=e[o]||(e[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n,r){var e=r(17),o=r(13);t.exports=function(t,n,r){if(e(n))throw TypeError(\"String#\"+r+\" doesn't accept regex!\");return String(o(t))}},function(t,n,r){t.exports=!r(15)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(23),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){\"use strict\";var e=r(3),o=r(24),i=r(21),u=\"endsWith\",c=\"\"[u];e(e.P+e.F*r(14)(u),\"String\",{endsWith:function(t){var n=i(this,t,u),r=arguments,e=r.length>1?r[1]:void 0,f=o(n.length),s=void 0===e?f:Math.min(o(e),f),a=String(t);return c?c.call(n,a,s):n.slice(s-a.length,s)===a}})},function(t,n,r){var e=r(5),o=r(3),i=r(1).Array||Array,u={},c=function(t,n){e.each.call(t.split(\",\"),function(t){void 0==n&&t in i?u[t]=i[t]:t in[]&&(u[t]=r(12)(Function.call,[][t],n))})};c(\"pop,reverse,shift,keys,values,entries\",1),c(\"indexOf,every,some,forEach,map,filter,find,findIndex,includes\",3),c(\"join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\"),o(o.S,\"Array\",u)}]);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getDataTransferFiles;\n\tfunction getDataTransferFiles(event) {\n\t  var isMultipleAllowed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t  var dataTransferItemsList = [];\n\t  if (event.dataTransfer) {\n\t    var dt = event.dataTransfer;\n\t    if (dt.files && dt.files.length) {\n\t      dataTransferItemsList = dt.files;\n\t    } else if (dt.items && dt.items.length) {\n\t      // During the drag even the dataTransfer.files is null\n\t      // but Chrome implements some drag store, which is accesible via dataTransfer.items\n\t      dataTransferItemsList = dt.items;\n\t    }\n\t  } else if (event.target && event.target.files) {\n\t    dataTransferItemsList = event.target.files;\n\t  }\n\t\n\t  if (dataTransferItemsList.length > 0) {\n\t    dataTransferItemsList = isMultipleAllowed ? dataTransferItemsList : [dataTransferItemsList[0]];\n\t  }\n\t\n\t  // Convert from DataTransferItemsList to the native Array\n\t  return Array.prototype.slice.call(dataTransferItemsList);\n\t}\n\tmodule.exports = exports[\"default\"];\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=index.js.map"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYWN0aW9ucy9BcHBBY3Rpb25zLmpzIiwiYXBwL2FjdGlvbnMvQ3JlYXRlUG9zdEFjdGlvbnMuanMiLCJhcHAvYWN0aW9ucy9Ib21lQWN0aW9ucy5qcyIsImFwcC9hY3Rpb25zL05hdkFjdGlvbnMuanMiLCJhcHAvYWx0LmpzIiwiYXBwL2NvbXBvbmVudHMvQXBwLmpzIiwiYXBwL2NvbXBvbmVudHMvQ3JlYXRlUG9zdC5qcyIsImFwcC9jb21wb25lbnRzL0hvbWUuanMiLCJhcHAvY29tcG9uZW50cy9OYXYuanMiLCJhcHAvY29tcG9uZW50cy9Qb3N0LmpzIiwiYXBwL2NvbXBvbmVudHMvUHJvZmlsZS5qcyIsImFwcC9jb21wb25lbnRzL1VzZXJBY2NvdW50LmpzIiwiYXBwL21haW4uanMiLCJhcHAvcm91dGVzLmpzIiwiYXBwL3N0b3Jlcy9BcHBTdG9yZS5qcyIsImFwcC9zdG9yZXMvQ3JlYXRlUG9zdFN0b3JlLmpzIiwiYXBwL3N0b3Jlcy9Ib21lU3RvcmUuanMiLCJhcHAvc3RvcmVzL05hdlN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2FwcC5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2RhdGFiYXNlLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2ZpcmViYXNlLWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvbWVzc2FnaW5nLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL3N0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZHJvcHpvbmUvZGlzdC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FDQUE7Ozs7QUFDQTs7SUFBWSxROzs7Ozs7OztJQUVOLFU7QUFDRiwwQkFBYztBQUFBOztBQUNWLGFBQUssZUFBTCxDQUNJLFVBREosRUFF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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNqUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN4UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcbmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcblxuY2xhc3MgQXBwQWN0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxuICAgICAgICAgICAgJ3Bvc3RMaWtlJyxcbiAgICAgICAgICAgICdwb3N0VW5MaWtlJyxcbiAgICAgICAgICAgICdhZGROZXdQb3N0JyxcbiAgICAgICAgICAgICdyZXRyaWV2ZVBvc3RzJyxcbiAgICAgICAgICAgICd1c2VyRGF0YUNoYW5nZScsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0UG9zdHMoKSB7XG4gICAgICAgICQuYWpheCh7IHVybDogJy9hcGkvcG9zdHMnIH0pXG4gICAgICAgICAgICAuZG9uZShkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMucmV0cmlldmVQb3N0cyhkYXRhLnBvc3RzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmFpbChqcVhociA9PiB7XG4gICAgICAgICAgICAgICAgLy90aGlzLmFjdGlvbnMuZ2V0VHdvQ2hhcmFjdGVyc0ZhaWwoanFYaHIucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmV3UG9zdCh0aXRsZSwgYXV0aG9yLCBsb2NhdGlvbiwgaW1nLCB0ZXh0LCBmaWxlLCBpZCkge1xuICAgICAgICB2YXIgdGhpc19wb3N0ID0ge2ltZzogXCJ4eS5qcGdcIn07XG4gICAgICAgIGNvbnN0IGRiID0gZmlyZWJhc2Uuc3RvcmFnZSgpO1xuICAgICAgICBjb25zdCBpbWFnZXNSZWYgPSBkYi5yZWYoKS5jaGlsZCgncG9zdHMnKS5jaGlsZCgnaW1hZ2VzJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy9hcGkvcG9zdHMnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgIGltZzogaW1nLFxuICAgICAgICAgICAgICAgIGxpa2VzOiAwLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogYXV0aG9yLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBpZDogaWQgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmRvbmUoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzX3Bvc3QgPSBkYXRhLnVwbG9hZGVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RJbWFnZVJlZiA9IGltYWdlc1JlZi5jaGlsZChkYXRhLnVwbG9hZGVkLl9pZCArICcuanBnJyk7XG4gICAgICAgICAgICAgICAgcG9zdEltYWdlUmVmLnB1dChmaWxlKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRlZCBhIGJsb2Igb3IgZmlsZSEnKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zdEltYWdlUmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9wb3N0cy9pbWcvJyArIHRoaXNfcG9zdC5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWc6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7IHVybDogJy9hcGkvcG9zdHMnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5hZGROZXdQb3N0KGRhdGEucG9zdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmFpbCgoanFYaHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmFjdGlvbnMuYWRkQ2hhcmFjdGVyRmFpbChqcVhoci5yZXNwb25zZUpTT04ubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKChqcVhocikgPT4ge1xuICAgICAgICAgICAgICAgIC8vdGhpcy5hY3Rpb25zLmFkZENoYXJhY3RlckZhaWwoanFYaHIucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhBcHBBY3Rpb25zKTsiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XG5cbmNsYXNzIENyZWF0ZVBvc3RBY3Rpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXG4gICAgICAgICAgICAndGl0bGVDaGFuZ2UnLFxuICAgICAgICAgICAgJ2F1dGhvckNoYW5nZScsXG4gICAgICAgICAgICAnbG9jYXRpb25DaGFuZ2UnLFxuICAgICAgICAgICAgJ2ltZ0NoYW5nZScsXG4gICAgICAgICAgICAndGV4dENoYW5nZScsXG4gICAgICAgICAgICAnaWRJbmNyZW1lbnQnLFxuICAgICAgICAgICAgJ3NldExvY2F0aW9uJyxcbiAgICAgICAgICAgICdmaWxlQ2hhbmdlJyxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVBY3Rpb25zKENyZWF0ZVBvc3RBY3Rpb25zKTsiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XG5cbmNsYXNzIEhvbWVBY3Rpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXG4gICAgICAgICAgICAnbmV3SXRlbVRleHRVcGRhdGUnLFxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZUFjdGlvbnMoSG9tZUFjdGlvbnMpOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcblxuY2xhc3MgTmF2QWN0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxuICAgICAgICAgICAgJ3NlYXJjaFRleHRVcGRhdGUnLFxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZUFjdGlvbnMoTmF2QWN0aW9ucyk7IiwiaW1wb3J0IEFsdCBmcm9tICdhbHQnO1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWx0KCk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBOYXYgZnJvbSAnLi9OYXYnO1xuaW1wb3J0IEFwcFN0b3JlIGZyb20gJy4uL3N0b3Jlcy9BcHBTdG9yZSc7XG5pbXBvcnQgQXBwQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL0FwcEFjdGlvbnMnO1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJztcbmltcG9ydCBDcmVhdGVQb3N0IGZyb20gJy4vQ3JlYXRlUG9zdCc7XG5pbXBvcnQgVXNlckFjY291bnQgZnJvbSAnLi9Vc2VyQWNjb3VudCc7XG5pbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XG5cbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBBcHBTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBBcHBTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIEFwcEFjdGlvbnMuZ2V0UG9zdHMoKTtcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhZFVzZXIodXNlci51aWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1aWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJvdXRlci5wdXNoKCcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVXNlcih1aWQsIHVzZXIpIHtcbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXJzLycgKyB1aWQpLnNldCh1c2VyKTtcbiAgICB9XG5cbiAgICByZWFkVXNlcih1aWQpIHtcbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXJzLycgKyB1aWQpLm9uY2UoJ3ZhbHVlJylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgaWYoc25hcHNob3QudmFsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQXBwQWN0aW9ucy51c2VyRGF0YUNoYW5nZShzbmFwc2hvdC52YWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlcnMvJyArIHVpZCkuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd2VyczogW1wiZHVtbXlcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmc6IFtcImR1bW15XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlrZWQ6IFtcImR1bW15XCJdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgQXBwU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2Uoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAodGhpcy5wcm9wcy5jaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYoY2hpbGQudHlwZSA9PT0gSG9tZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdHM6IHRoaXMuc3RhdGUucG9zdHNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gQ3JlYXRlUG9zdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgICAgICAgICAgb25Qb3N0U3VibWl0OiBBcHBBY3Rpb25zLm5ld1Bvc3QsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09IFVzZXJBY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgICAgICAgICBzZXRVc2VyOiB0aGlzLnVwZGF0ZVVzZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlYWRVc2VyOiB0aGlzLnJlYWRVc2VyLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpblwiPlxuICAgICAgICAgICAgICAgIDxOYXYvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNoaWxkcmVuKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENyZWF0ZVBvc3RBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvQ3JlYXRlUG9zdEFjdGlvbnMnO1xuaW1wb3J0IENyZWF0ZVBvc3RTdG9yZSBmcm9tICcuLi9zdG9yZXMvQ3JlYXRlUG9zdFN0b3JlJztcbmltcG9ydCBEcm9wem9uZSBmcm9tICdyZWFjdC1kcm9wem9uZSc7XG5cbmNsYXNzIENyZWF0ZVBvc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0gQ3JlYXRlUG9zdFN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Ecm9wID0gdGhpcy5vbkRyb3AuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgQ3JlYXRlUG9zdFN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5wYXJhbXMubG9jKSB7XG4gICAgICAgICAgICBDcmVhdGVQb3N0QWN0aW9ucy5zZXRMb2NhdGlvbih0aGlzLnByb3BzLnBhcmFtcy5sb2MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIENyZWF0ZVBvc3RTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9XG5cbiAgICBvbkRyb3AoZmlsZXMpIHtcbiAgICAgICAgaWYoZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgQ3JlYXRlUG9zdEFjdGlvbnMuZmlsZUNoYW5nZShmaWxlc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB1cGxvYWRlcjtcbiAgICAgICAgaWYodGhpcy5zdGF0ZS5maWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHVwbG9hZGVyID0gKCkgPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj4gRHJvcCBJbWFnZSBIZXJlIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXBsb2FkZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dGhpcy5zdGF0ZS5maWxlLnByZXZpZXd9Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyZWF0ZS1wb3N0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImNyZWF0ZS1wb3N0LWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwicG9zdC1mb3JtLXRpdGxlXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gb25DaGFuZ2U9e0NyZWF0ZVBvc3RBY3Rpb25zLnRpdGxlQ2hhbmdlfSBwbGFjZWhvbGRlcj1cIkFydGljbGUgVGl0bGVcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInBvc3QtZm9ybS1sb2NhdGlvblwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3RoaXMuc3RhdGUubG9jYXRpb259IG9uQ2hhbmdlPXtDcmVhdGVQb3N0QWN0aW9ucy5sb2NhdGlvbkNoYW5nZX0gcGxhY2Vob2xkZXI9XCJMb2NhdGlvblwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInBvc3QtZm9ybS1hdXRob3JcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXt0aGlzLnN0YXRlLmF1dGhvcn0gb25DaGFuZ2U9e0NyZWF0ZVBvc3RBY3Rpb25zLmF1dGhvckNoYW5nZX0gcGxhY2Vob2xkZXI9XCJBdXRob3IgTmFtZVwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3NOYW1lPVwicG9zdC1mb3JtLWRlc2NcIiB2YWx1ZT17dGhpcy5zdGF0ZS50ZXh0fSBvbkNoYW5nZT17Q3JlYXRlUG9zdEFjdGlvbnMudGV4dENoYW5nZX0gcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvblwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLWRyb3BwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3B6b25lIGNsYXNzTmFtZT1cImZpbGUtYm94XCIgYWNjZXB0PXtcImltYWdlLypcIn0gb25Ecm9wPXt0aGlzLm9uRHJvcH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXBsb2FkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcHpvbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJwb3N0LWJ1dHRvblwiIG9uQ2xpY2s9e2Z1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Qb3N0U3VibWl0KHRoaXMuc3RhdGUudGl0bGUsIHRoaXMuc3RhdGUuYXV0aG9yLCB0aGlzLnN0YXRlLmxvY2F0aW9uLCB0aGlzLnN0YXRlLmltZywgdGhpcy5zdGF0ZS50ZXh0LCB0aGlzLnN0YXRlLmZpbGUsIHRoaXMuc3RhdGUuY3Vycl9pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZVBvc3RBY3Rpb25zLmlkSW5jcmVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKX0+IFBvc3QgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDcmVhdGVQb3N0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8vaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IEhvbWVTdG9yZSBmcm9tICcuLi9zdG9yZXMvSG9tZVN0b3JlJ1xuaW1wb3J0IEhvbWVBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvSG9tZUFjdGlvbnMnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi9Qb3N0Jztcbi8vaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnO1xuLy9pbXBvcnQge2ZpcnN0LCB3aXRob3V0LCBmaW5kV2hlcmV9IGZyb20gJ3VuZGVyc2NvcmUnO1xuXG5jbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEhvbWVTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU5ld0l0ZW0gPSB0aGlzLmhhbmRsZU5ld0l0ZW0uYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgSG9tZVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgSG9tZVN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIGhhbmRsZU5ld0l0ZW0oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9jcmVhdGUvJyArIHRoaXMuc3RhdGUubmV3SXRlbVRleHQ7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IHRoaXMucHJvcHMucG9zdHMubWFwKChwb3N0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxQb3N0IGtleT17aW5kZXh9IHBvc3Q9e3Bvc3R9Lz5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGQtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJhZGRcIiBvblN1Ym1pdD17dGhpcy5oYW5kbGVOZXdJdGVtfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cIml0ZW0tbmFtZVwiIHZhbHVlPXt0aGlzLnN0YXRlLm5ld0l0ZW1UZXh0fSBwbGFjZWhvbGRlcj1cIkFkZCBhIHN0b3J5IGJ5IGVudGVyaW5nIGxvY2F0aW9uXCIgb25DaGFuZ2U9e0hvbWVBY3Rpb25zLm5ld0l0ZW1UZXh0VXBkYXRlfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImFkZC1idXR0b25cIiB2YWx1ZT1cIlwiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdHNcIj5cbiAgICAgICAgICAgICAgICAgICAge3Bvc3RzfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIb21lOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTmF2U3RvcmUgZnJvbSAnLi4vc3RvcmVzL05hdlN0b3JlJztcbmltcG9ydCBOYXZBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTmF2QWN0aW9ucyc7XG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XG5cbmNsYXNzIE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBOYXZTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBOYXZTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIE5hdlN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIHNpZ25PdXQoZXZlbnQpIHtcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gU2lnbi1vdXQgc3VjY2Vzc2Z1bC5cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJOYXZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ29cIj5cbiAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89XCIvXCI+IDxpbWcgc3JjPScvaW1nL2xvZ28uc3ZnJyBhbHQ9XCJMb2dvXCIvPiA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJzZWFyY2hCYXJcIiB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2hUZXh0fSBwbGFjZWhvbGRlcj1cIlNlYXJjaCBoZXJlXCIgb25DaGFuZ2U9e05hdkFjdGlvbnMuc2VhcmNoVGV4dFVwZGF0ZX0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJzZWFyY2hCdXR0b25cIiB2YWx1ZT1cIlwiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF2LXByb2ZpbGVcIj4gPExpbmsgdG89eycvcHJvZmlsZSd9PiA8aW1nIHNyYz0nL2ltZy9wcm9maWxlLnBuZycvPiA8L0xpbms+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJuYXYtZnJpZW5kc1wiPiA8aW1nIHNyYz0nL2ltZy9mcmllbmRzLnBuZycvPiA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm5hdi1hbGVydHNcIj4gIDxpbWcgc3JjPScvaW1nL25vdGlmaWNhdGlvbnMucG5nJy8+IDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF2LWxvZ291dFwiIG9uQ2xpY2s9e3RoaXMuc2lnbk91dH0+ICA8aW1nIHNyYz0nL2ltZy9sb2dvdXQuc3ZnJy8+IDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXY7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnO1xuXG5jbGFzcyBQb3N0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIH1cblxuICAgIGJyZWFrTGluZXModGV4dCkge1xuICAgICAgICB2YXIgYnIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCdicicpO1xuICAgICAgICB2YXIgcmVnZXggPSAvKDxiclxcLz4pL2c7XG4gICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KHJlZ2V4KS5tYXAoZnVuY3Rpb24obGluZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lLm1hdGNoKHJlZ2V4KSA/IDxiciBrZXk9e1wia2V5X1wiICsgaW5kZXh9IC8+IDogbGluZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1jb250ZW50c1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtbG9jXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5sb2NhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwicG9zdC1pbWdcIiBzcmM9e3RoaXMucHJvcHMucG9zdC5pbWd9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuYnJlYWtMaW5lcyh0aGlzLnByb3BzLnBvc3QudGV4dCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaW50ZXJhY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1sb3ZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImhlYXJ0XCIgc3JjPScvaW1nL2hlYXJ0LW91dGxpbmUuc3ZnJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsaWtlLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5saWtlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdXRob3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsnYnkgJyArIHRoaXMucHJvcHMucG9zdC5hdXRob3J9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3N0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcbi8vaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5jbGFzcyBQcm9maWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBmb2xsb3dpbmc6IFtdLFxuICAgICAgICAgICAgICAgIGZvbGxvd2VyczogW10sXG4gICAgICAgICAgICAgICAgbGlrZWQ6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlYXJjaFRleHQ6ICcnLFxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlTmV3SXRlbSA9IHRoaXMuaGFuZGxlTmV3SXRlbS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXJzLycgKyB1c2VyLnVpZCkub25jZSgndmFsdWUnKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHNuYXBzaG90LnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIH1cblxuICAgIG9uQ2hhbmdlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIHNlYXJjaFVwZGF0ZShldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlYXJjaFRleHQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTmV3SXRlbShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IGZvbGxvd2VycyA9IHRoaXMuc3RhdGUudXNlci5mb2xsb3dlcnMubWFwKCh1c2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8cD4ge3VzZXJ9IDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvbGxvd2luZyA9IHRoaXMuc3RhdGUudXNlci5mb2xsb3dpbmcubWFwKCh1c2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8cD4ge3VzZXJ9IDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkLWZvbGxvd2VyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMz4gU2VhcmNoIFVzZXIgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNoVGV4dH0gb25DaGFuZ2U9e3RoaXMuc2VhcmNoVXBkYXRlfSBwbGFjZWhvbGRlcj1cIlR5cGUgYSBuYW1lXCIgY2xhc3NOYW1lPVwiZm9sbG93ZXItbmFtZS1pbnB1dFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWFyY2gtYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVOZXdJdGVtfT4gU2VhcmNoIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9sbG93aW5nIGJveC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3gtbWVkaXVtLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4gPGg0PiBGb2xsb3dpbmcgPC9oND4gPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiB7dGhpcy5zdGF0ZS51c2VyLmZvbGxvd2luZy5sZW5ndGggKyAnICd9IHBlb3BsZSBmb2xsb3dpbmcgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJveC1tZWRpdW0tYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2ZvbGxvd2luZ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb2xsb3dlcnMgYm94LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJveC1tZWRpdW0taGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiA8aDQ+IEZvbGxvd2luZyA8L2g0PiA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+IHt0aGlzLnN0YXRlLnVzZXIuZm9sbG93ZXJzLmxlbmd0aCArICcgJ30gZm9sbG93ZXJzIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3gtbWVkaXVtLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb2xsb3dlcnN9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2ZpbGU7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gXCJmaXJlYmFzZVwiO1xuXG5jbGFzcyBVc2VyQWNjb3VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBsb2dpbjogXCJMb2dpblwiLFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGludFRleHQgPSBcIk5ldyBVc2VyPyBSZWdpc3RlciBIZXJlLlwiXG4gICAgICAgIHRoaXMuc3dpdGNoRm9ybSA9IHRoaXMuc3dpdGNoRm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXNlciA9IHRoaXMucmVnaXN0ZXJVc2VyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZW1haWxDaGFuZ2UgPSB0aGlzLmVtYWlsQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFzc0NoYW5nZSA9IHRoaXMucGFzc0NoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICAvL3RoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCd1aWQnLCB1c2VyLnVpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yb3V0ZXIucHVzaCgnL2ZlZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndWlkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIC8vTmF2U3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2Uoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJVc2VyKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy5zdGF0ZS5lbWFpbDtcbiAgICAgICAgY29uc3QgcGFzcyA9IHRoaXMuc3RhdGUucGFzc3dvcmQ7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUubG9naW4gPT09ICdMb2dpbicpIHtcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzcykuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuXG4gICAgICAgICAgICAgICAgaWYoZXJyb3IuY29kZSB8fCBlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzcykuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuXG4gICAgICAgICAgICAgICAgaWYoZXJyb3IuY29kZSB8fCBlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW1haWxDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBlbWFpbDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwYXNzQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFzc3dvcmQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3dpdGNoRm9ybShldmVudCkge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmxvZ2luID09PSBcIkxvZ2luXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubG9naW4gPSBcIlNpZ24gVXBcIjtcbiAgICAgICAgICAgIHRoaXMuaGludFRleHQgPSBcIkV4aXN0aW5nIFVzZXI/IExvZ2luIEhlcmUuXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxvZ2luID0gXCJMb2dpblwiO1xuICAgICAgICAgICAgdGhpcy5oaW50VGV4dCA9IFwiTmV3IFVzZXI/IFJlZ2lzdGVyIEhlcmUuXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3VudFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9naW4tZm9ybS1sb2dvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPiA8aW1nIHNyYz0nL2ltZy9sb2dvLnN2ZycgYWx0PVwiTG9nb1wiLz4gPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9naW4tZm9ybS1maWVsZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucmVnaXN0ZXJVc2VyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImVtYWlsLWZpZWxkXCIgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IHBsYWNlaG9sZGVyPVwiRW1haWwgQWRkcmVzc1wiIG9uQ2hhbmdlPXt0aGlzLmVtYWlsQ2hhbmdlfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwicGFzc3dvcmQtZmllbGRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiIG9uQ2hhbmdlPXt0aGlzLnBhc3NDaGFuZ2V9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwibG9naW4tYnV0dG9uXCIgdmFsdWU9e3RoaXMuc3RhdGUubG9naW59Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5zd2l0Y2hGb3JtfT4ge3RoaXMuaGludFRleHR9IDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJBY2NvdW50O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Um91dGVyLCBicm93c2VySGlzdG9yeX0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7XG5pbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2VcIjtcblxudmFyIGNvbmZpZyA9IHtcbiAgICBhcGlLZXk6IFwiQUl6YVN5QkwycER2bWpXbEtjUk9ubUE4TlU4bEc4TTlvdUFzeFNzXCIsXG4gICAgYXV0aERvbWFpbjogXCJ0cmF2ZWxkaWFyeS05YWM1Yy5maXJlYmFzZWFwcC5jb21cIixcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL3RyYXZlbGRpYXJ5LTlhYzVjLmZpcmViYXNlaW8uY29tXCIsXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJ0cmF2ZWxkaWFyeS05YWM1Yy5hcHBzcG90LmNvbVwiLFxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjI3NTM0ODc2OTMyNlwiXG59O1xuXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICA8Um91dGVyIGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fT5cbiAgICAgICAge3JvdXRlc31cbiAgICA8L1JvdXRlcj4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1JvdXRlfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IEFwcCBmcm9tICcuL2NvbXBvbmVudHMvQXBwJztcbmltcG9ydCBIb21lIGZyb20gJy4vY29tcG9uZW50cy9Ib21lJztcbmltcG9ydCBDcmVhdGVQb3N0IGZyb20gJy4vY29tcG9uZW50cy9DcmVhdGVQb3N0JztcbmltcG9ydCBVc2VyQWNjb3VudCBmcm9tICcuL2NvbXBvbmVudHMvVXNlckFjY291bnQnO1xuaW1wb3J0IFByb2ZpbGUgZnJvbSAnLi9jb21wb25lbnRzL1Byb2ZpbGUnO1xuXG5leHBvcnQgZGVmYXVsdCAoXG4gICAgPFJvdXRlIGNvbXBvbmVudD17QXBwfT5cbiAgICAgICAgPFJvdXRlIHBhdGg9Jy9mZWVkJyBjb21wb25lbnQ9e0hvbWV9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPScvY3JlYXRlJyBjb21wb25lbnQ9e0NyZWF0ZVBvc3R9Lz5cbiAgICAgICAgPFJvdXRlIHBhdGg9Jy9jcmVhdGUvOmxvYycgY29tcG9uZW50PXtDcmVhdGVQb3N0fS8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPScvcHJvZmlsZScgY29tcG9uZW50PXtQcm9maWxlfS8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPScvJyBjb21wb25lbnQ9e1VzZXJBY2NvdW50fS8+XG4gICAgPC9Sb3V0ZT5cbik7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xuaW1wb3J0IEFwcEFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9BcHBBY3Rpb25zJztcblxuY2xhc3MgQXBwU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRBY3Rpb25zKEFwcEFjdGlvbnMpO1xuICAgICAgICB0aGlzLmN1cnJfaWQgPSA1O1xuICAgICAgICB0aGlzLnBvc3RzID0gW107XG4gICAgICAgIHRoaXMudXNlciA9IHt9O1xuICAgIH1cblxuICAgIG9uUmV0cmlldmVQb3N0cyhwb3N0cykge1xuICAgICAgICB0aGlzLnBvc3RzID0gcG9zdHM7XG4gICAgfVxuXG4gICAgb25BZGROZXdQb3N0KHBvc3RzKSB7XG4gICAgICAgIHRoaXMucG9zdHMgPSBwb3N0c1xuICAgIH1cblxuICAgIG9uUG9zdExpa2UoZGF0YSkge1xuICAgICAgICB0aGlzLnBvc3RzW2RhdGEucG9zdEluZGV4XS5saWtlcyArPSAxO1xuICAgIH1cblxuICAgIG9uUG9zdFVuTGlrZShkYXRhKSB7XG4gICAgICAgIHRoaXMucG9zdHNbZGF0YS5wb3N0SW5kZXhdLmxpa2VzIC09IDE7XG4gICAgfVxuXG4gICAgb25Vc2VyRGF0YUNoYW5nZSh1c2VyKSB7XG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShBcHBTdG9yZSk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xuaW1wb3J0IENyZWF0ZVBvc3RBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvQ3JlYXRlUG9zdEFjdGlvbnMnO1xuXG5jbGFzcyBDcmVhdGVQb3N0U3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRBY3Rpb25zKENyZWF0ZVBvc3RBY3Rpb25zKTtcbiAgICAgICAgdGhpcy50aXRsZSA9ICcnO1xuICAgICAgICB0aGlzLmF1dGhvciA9ICcnO1xuICAgICAgICB0aGlzLmltZyA9ICcnO1xuICAgICAgICB0aGlzLnRleHQgPSAnJztcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9ICcnO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJfaWQgPSA1O1xuICAgIH1cblxuICAgIG9uU2V0TG9jYXRpb24obG9jKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2M7XG4gICAgfVxuXG4gICAgb25UaXRsZUNoYW5nZShldmVudCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIH1cblxuICAgIG9uVGV4dENoYW5nZShldmVudCkge1xuICAgICAgICB0aGlzLnRleHQgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgfVxuXG4gICAgb25Mb2NhdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIH1cblxuICAgIG9uSW1nQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuaW1nID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIH1cblxuICAgIG9uQXV0aG9yQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYXV0aG9yID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIH1cblxuICAgIG9uSWRJbmNyZW1lbnQoKSB7XG4gICAgICAgIHRoaXMuY3Vycl9pZCArPSAxO1xuICAgIH1cblxuICAgIG9uRmlsZUNoYW5nZShmaWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGaWxlJyk7XG4gICAgICAgIHRoaXMuZmlsZSA9IGZpbGVcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZVN0b3JlKENyZWF0ZVBvc3RTdG9yZSk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xuaW1wb3J0IEhvbWVBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvSG9tZUFjdGlvbnMnO1xuXG5jbGFzcyBIb21lU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRBY3Rpb25zKEhvbWVBY3Rpb25zKTtcbiAgICAgICAgdGhpcy5uZXdJdGVtVGV4dCA9ICcnO1xuICAgIH1cblxuICAgIG9uTmV3SXRlbVRleHRVcGRhdGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5uZXdJdGVtVGV4dCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZVN0b3JlKEhvbWVTdG9yZSk7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xuaW1wb3J0IE5hdkFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9OYXZBY3Rpb25zJztcblxuY2xhc3MgTmF2U3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRBY3Rpb25zKE5hdkFjdGlvbnMpO1xuICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSAnJ1xuICAgIH1cblxuICAgIG9uU2VhcmNoVGV4dFVwZGF0ZShldmVudCkge1xuICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShOYXZTdG9yZSk7IiwidmFyIGZpcmViYXNlID0gKGZ1bmN0aW9uKCl7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNi45XG4gICAgQnVpbGQ6IDMuNi45LXJjLjFcbiAgICBUZXJtczogaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3Rlcm1zLyAqL1xudmFyIGZpcmViYXNlID0gbnVsbDsgKGZ1bmN0aW9uKCkgeyB2YXIgYWE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtpZihjLmdldHx8Yy5zZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVTMyBkb2VzIG5vdCBzdXBwb3J0IGdldHRlcnMgYW5kIHNldHRlcnMuXCIpO2EhPUFycmF5LnByb3RvdHlwZSYmYSE9T2JqZWN0LnByb3RvdHlwZSYmKGFbYl09Yy52YWx1ZSl9LGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09dGhpcz90aGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6dGhpcyxsPWZ1bmN0aW9uKCl7bD1mdW5jdGlvbigpe307aC5TeW1ib2x8fChoLlN5bWJvbD1iYSl9LGNhPTAsYmE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJqc2NvbXBfc3ltYm9sX1wiKyhhfHxcIlwiKStjYSsrfSxuPWZ1bmN0aW9uKCl7bCgpO3ZhciBhPWguU3ltYm9sLml0ZXJhdG9yO2F8fChhPWguU3ltYm9sLml0ZXJhdG9yPVxuaC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2FdJiZhYShBcnJheS5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG0odGhpcyl9fSk7bj1mdW5jdGlvbigpe319LG09ZnVuY3Rpb24oYSl7dmFyIGI9MDtyZXR1cm4gZGEoZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX0pfSxkYT1mdW5jdGlvbihhKXtuKCk7YT17bmV4dDphfTthW2guU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX0scT10aGlzLHI9ZnVuY3Rpb24oKXt9LHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO1xuaWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LHY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10KGEpfSxlYT1mdW5jdGlvbihhLFxuYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfSxmYT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sdz1mdW5jdGlvbihhLGIsYyl7dz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2VhOmZhO3JldHVybiB3LmFwcGx5KG51bGwsYXJndW1lbnRzKX0seD1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyxcbjEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWMuc2xpY2UoKTtiLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBhLmFwcGx5KHRoaXMsYil9fSx5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmJhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5hYT1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxkKX19O3ZhciB6O3o9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZj9zZWxmOmdsb2JhbDtmdW5jdGlvbiBfX2V4dGVuZHMoYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1hfWZvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWJbZF0pO2EucHJvdG90eXBlPW51bGw9PT1iP09iamVjdC5jcmVhdGUoYik6KGMucHJvdG90eXBlPWIucHJvdG90eXBlLG5ldyBjKX1cbmZ1bmN0aW9uIF9fZGVjb3JhdGUoYSxiLGMsZCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCxmPTM+ZT9iOm51bGw9PT1kP2Q9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpOmQsZztnPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGcmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmRlY29yYXRlKWY9Zy5kZWNvcmF0ZShhLGIsYyxkKTtlbHNlIGZvcih2YXIgaz1hLmxlbmd0aC0xOzA8PWs7ay0tKWlmKGc9YVtrXSlmPSgzPmU/ZyhmKTozPGU/ZyhiLGMsZik6ZyhiLGMpKXx8ZjtyZXR1cm4gMzxlJiZmJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYixjLGYpLGZ9ZnVuY3Rpb24gX19tZXRhZGF0YShhLGIpe3ZhciBjPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLm1ldGFkYXRhKXJldHVybiBjLm1ldGFkYXRhKGEsYil9XG52YXIgX19wYXJhbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2IoYyxkLGEpfX0sX19hd2FpdGVyPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgKGN8fChjPVByb21pc2UpKShmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGcoYSl7dHJ5e3AoZC5uZXh0KGEpKX1jYXRjaCh1KXtmKHUpfX1mdW5jdGlvbiBrKGEpe3RyeXtwKGQudGhyb3coYSkpfWNhdGNoKHUpe2YodSl9fWZ1bmN0aW9uIHAoYSl7YS5kb25lP2UoYS52YWx1ZSk6KG5ldyBjKGZ1bmN0aW9uKGIpe2IoYS52YWx1ZSl9KSkudGhlbihnLGspfXAoKGQ9ZC5hcHBseShhLGIpKS5uZXh0KCkpfSl9O1widW5kZWZpbmVkXCIhPT10eXBlb2Ygei5NJiZ6Lk18fCh6Ll9fZXh0ZW5kcz1fX2V4dGVuZHMsei5fX2RlY29yYXRlPV9fZGVjb3JhdGUsei5fX21ldGFkYXRhPV9fbWV0YWRhdGEsei5fX3BhcmFtPV9fcGFyYW0sei5fX2F3YWl0ZXI9X19hd2FpdGVyKTt2YXIgQT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLEEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3koQSxFcnJvcik7QS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGdhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9O3ZhciBCPWZ1bmN0aW9uKGEsYil7Yi51bnNoaWZ0KGEpO0EuY2FsbCh0aGlzLGdhLmFwcGx5KG51bGwsYikpO2Iuc2hpZnQoKX07eShCLEEpO0IucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiO3ZhciBoYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgQihcIlwiK2UsZnx8W10pO30sQz1mdW5jdGlvbihhLGIsYyl7YXx8aGEoXCJcIixudWxsLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sRD1mdW5jdGlvbihhLGIsYyl7dihhKXx8aGEoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbdChhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBFPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlQ9Yzt0aGlzLk49YTt0aGlzLlU9Yjt0aGlzLnM9MDt0aGlzLm89bnVsbH07RS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE7MDx0aGlzLnM/KHRoaXMucy0tLGE9dGhpcy5vLHRoaXMubz1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5OKCk7cmV0dXJuIGF9O0UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhKXt0aGlzLlUoYSk7dGhpcy5zPHRoaXMuVCYmKHRoaXMucysrLGEubmV4dD10aGlzLm8sdGhpcy5vPWEpfTt2YXIgRjthOnt2YXIgaWE9cS5uYXZpZ2F0b3I7aWYoaWEpe3ZhciBqYT1pYS51c2VyQWdlbnQ7aWYoamEpe0Y9amE7YnJlYWsgYX19Rj1cIlwifTt2YXIga2E9ZnVuY3Rpb24oYSl7cS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfSxHLGxhPWZ1bmN0aW9uKCl7dmFyIGE9cS5NZXNzYWdlQ2hhbm5lbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYtMT09Ri5pbmRleE9mKFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1xuXCIvL1wiK2IubG9jYXRpb24uaG9zdCxhPXcoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYtMT09Ri5pbmRleE9mKFwiVHJpZGVudFwiKSYmLTE9PUYuaW5kZXhPZihcIk1TSUVcIikpe3ZhciBiPW5ldyBhLGM9e30sZD1jO2IucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09Yy5uZXh0KXtjPWMubmV4dDt2YXIgYT1jLkc7Yy5HPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17RzphfTtkPWQubmV4dDtiLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW5cbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3Euc2V0VGltZW91dChhLDApfX07dmFyIEg9ZnVuY3Rpb24oKXt0aGlzLnY9dGhpcy5mPW51bGx9LG1hPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJfSxmdW5jdGlvbihhKXthLnJlc2V0KCl9LDEwMCk7SC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9bWEuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLnY/dGhpcy52Lm5leHQ9YzooQyghdGhpcy5mKSx0aGlzLmY9Yyk7dGhpcy52PWN9O0gucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5mJiYoYT10aGlzLmYsdGhpcy5mPXRoaXMuZi5uZXh0LHRoaXMuZnx8KHRoaXMudj1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBJPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy5CPW51bGx9O0kucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuQj1hO3RoaXMuc2NvcGU9Yjt0aGlzLm5leHQ9bnVsbH07XG5JLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuQj1udWxsfTt2YXIgTT1mdW5jdGlvbihhLGIpe0p8fG5hKCk7S3x8KEooKSxLPSEwKTtvYS5hZGQoYSxiKX0sSixuYT1mdW5jdGlvbigpe2lmKC0xIT1TdHJpbmcocS5Qcm9taXNlKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSl7dmFyIGE9cS5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtKPWZ1bmN0aW9uKCl7YS50aGVuKHBhKX19ZWxzZSBKPWZ1bmN0aW9uKCl7dmFyIGE9cGE7IXYocS5zZXRJbW1lZGlhdGUpfHxxLldpbmRvdyYmcS5XaW5kb3cucHJvdG90eXBlJiYtMT09Ri5pbmRleE9mKFwiRWRnZVwiKSYmcS5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09cS5zZXRJbW1lZGlhdGU/KEd8fChHPWxhKCkpLEcoYSkpOnEuc2V0SW1tZWRpYXRlKGEpfX0sSz0hMSxvYT1uZXcgSCxwYT1mdW5jdGlvbigpe2Zvcih2YXIgYTthPW9hLnJlbW92ZSgpOyl7dHJ5e2EuQi5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpe2thKGIpfW1hLnB1dChhKX1LPSExfTt2YXIgTz1mdW5jdGlvbihhLGIpe3RoaXMuYj0wO3RoaXMuTD12b2lkIDA7dGhpcy5qPXRoaXMuZz10aGlzLnU9bnVsbDt0aGlzLm09dGhpcy5BPSExO2lmKGEhPXIpdHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7TihjLDIsYSl9LGZ1bmN0aW9uKGEpe3RyeXtpZihhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO31jYXRjaChlKXt9TihjLDMsYSl9KX1jYXRjaChkKXtOKHRoaXMsMyxkKX19LHFhPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O3FhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O1xudmFyIHJhPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxYX0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApLHNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1yYS5nZXQoKTtkLmM9YTtkLmg9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sdWE9ZnVuY3Rpb24oYSxiLGMpe3RhKGEsYixjLG51bGwpfHxNKHgoYixhKSl9O08ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe251bGwhPWEmJkQoYSxcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7bnVsbCE9YiYmRChiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gdmEodGhpcyx2KGEpP2E6bnVsbCx2KGIpP2I6bnVsbCxjKX07Ty5wcm90b3R5cGUudGhlbj1PLnByb3RvdHlwZS50aGVuO08ucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwO1xuTy5wcm90b3R5cGUuWD1mdW5jdGlvbihhLGIpe3JldHVybiB2YSh0aGlzLG51bGwsYSxiKX07dmFyIHhhPWZ1bmN0aW9uKGEsYil7YS5nfHwyIT1hLmImJjMhPWEuYnx8d2EoYSk7QyhudWxsIT1iLmMpO2Euaj9hLmoubmV4dD1iOmEuZz1iO2Euaj1ifSx2YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1zYShudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgTyhmdW5jdGlvbihhLGcpe2UuYz1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKEwpe2coTCl9fTphO2UuaD1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTthKGUpfWNhdGNoKEwpe2coTCl9fTpnfSk7ZS5jaGlsZC51PWE7eGEoYSxlKTtyZXR1cm4gZS5jaGlsZH07Ty5wcm90b3R5cGUuWT1mdW5jdGlvbihhKXtDKDE9PXRoaXMuYik7dGhpcy5iPTA7Tih0aGlzLDIsYSl9O08ucHJvdG90eXBlLlo9ZnVuY3Rpb24oYSl7QygxPT10aGlzLmIpO3RoaXMuYj0wO04odGhpcywzLGEpfTtcbnZhciBOPWZ1bmN0aW9uKGEsYixjKXswPT1hLmImJihhPT09YyYmKGI9MyxjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksYS5iPTEsdGEoYyxhLlksYS5aLGEpfHwoYS5MPWMsYS5iPWIsYS51PW51bGwsd2EoYSksMyE9Ynx8eWEoYSxjKSkpfSx0YT1mdW5jdGlvbihhLGIsYyxkKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gbnVsbCE9YiYmRChiLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKSxudWxsIT1jJiZEKGMsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpLHhhKGEsc2EoYnx8cixjfHxudWxsLGQpKSwhMDt2YXIgZTtpZihhKXRyeXtlPSEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChnKXtlPSExfWVsc2UgZT0hMTtpZihlKXJldHVybiBhLnRoZW4oYixjLGQpLFxuITA7ZT10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1lJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWUpdHJ5e3ZhciBmPWEudGhlbjtpZih2KGYpKXJldHVybiB6YShhLGYsYixjLGQpLCEwfWNhdGNoKGcpe3JldHVybiBjLmNhbGwoZCxnKSwhMH1yZXR1cm4hMX0semE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saz1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGspfWNhdGNoKHApe2socCl9fSx3YT1mdW5jdGlvbihhKXthLkF8fChhLkE9ITAsTShhLlAsYSkpfSxBYT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2EuZyYmKGI9YS5nLGEuZz1iLm5leHQsYi5uZXh0PW51bGwpO2EuZ3x8KGEuaj1udWxsKTtudWxsIT1iJiZDKG51bGwhPWIuYyk7cmV0dXJuIGJ9O1xuTy5wcm90b3R5cGUuUD1mdW5jdGlvbigpe2Zvcih2YXIgYTthPUFhKHRoaXMpOyl7dmFyIGI9dGhpcy5iLGM9dGhpcy5MO2lmKDM9PWImJmEuaCYmIWEudyl7dmFyIGQ7Zm9yKGQ9dGhpcztkJiZkLm07ZD1kLnUpZC5tPSExfWlmKGEuY2hpbGQpYS5jaGlsZC51PW51bGwsQmEoYSxiLGMpO2Vsc2UgdHJ5e2Eudz9hLmMuY2FsbChhLmNvbnRleHQpOkJhKGEsYixjKX1jYXRjaChlKXtDYS5jYWxsKG51bGwsZSl9cmEucHV0KGEpfXRoaXMuQT0hMX07dmFyIEJhPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuYy5jYWxsKGEuY29udGV4dCxjKTphLmgmJmEuaC5jYWxsKGEuY29udGV4dCxjKX0seWE9ZnVuY3Rpb24oYSxiKXthLm09ITA7TShmdW5jdGlvbigpe2EubSYmQ2EuY2FsbChudWxsLGIpfSl9LENhPWthO2Z1bmN0aW9uIFAoYSxiKXtpZighKGIgaW5zdGFuY2VvZiBPYmplY3QpKXJldHVybiBiO3N3aXRjaChiLmNvbnN0cnVjdG9yKXtjYXNlIERhdGU6cmV0dXJuIG5ldyBEYXRlKGIuZ2V0VGltZSgpKTtjYXNlIE9iamVjdDp2b2lkIDA9PT1hJiYoYT17fSk7YnJlYWs7Y2FzZSBBcnJheTphPVtdO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGJ9Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109UChhW2NdLGJbY10pKTtyZXR1cm4gYX07Ty5hbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5sZW5ndGgsZT1bXTtpZihkKWZvcih2YXIgZj1mdW5jdGlvbihhLGMpe2QtLTtlW2FdPWM7MD09ZCYmYihlKX0sZz1mdW5jdGlvbihhKXtjKGEpfSxrPTAscDtrPGEubGVuZ3RoO2srKylwPWFba10sdWEocCx4KGYsayksZyk7ZWxzZSBiKGUpfSl9O08ucmVzb2x2ZT1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gYTt2YXIgYj1uZXcgTyhyKTtOKGIsMixhKTtyZXR1cm4gYn07Ty5yZWplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7YyhhKX0pfTtPLnByb3RvdHlwZVtcImNhdGNoXCJdPU8ucHJvdG90eXBlLlg7dmFyIFE9TztcInVuZGVmaW5lZFwiIT09dHlwZW9mIFByb21pc2UmJihRPVByb21pc2UpO3ZhciBEYT1RO2Z1bmN0aW9uIEVhKGEsYil7YT1uZXcgUihhLGIpO3JldHVybiBhLnN1YnNjcmliZS5iaW5kKGEpfXZhciBSPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmE9W107dGhpcy5LPTA7dGhpcy50YXNrPURhLnJlc29sdmUoKTt0aGlzLmw9ITE7dGhpcy5EPWI7dGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXthKGMpfSkuY2F0Y2goZnVuY3Rpb24oYSl7Yy5lcnJvcihhKX0pfTtSLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe1ModGhpcyxmdW5jdGlvbihiKXtiLm5leHQoYSl9KX07Ui5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7Uyh0aGlzLGZ1bmN0aW9uKGIpe2IuZXJyb3IoYSl9KTt0aGlzLmNsb3NlKGEpfTtSLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe1ModGhpcyxmdW5jdGlvbihhKXthLmNvbXBsZXRlKCl9KTt0aGlzLmNsb3NlKCl9O1xuUi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU7aWYodm9pZCAwPT09YSYmdm9pZCAwPT09YiYmdm9pZCAwPT09Yyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgT2JzZXJ2ZXIuXCIpO2U9RmEoYSk/YTp7bmV4dDphLGVycm9yOmIsY29tcGxldGU6Y307dm9pZCAwPT09ZS5uZXh0JiYoZS5uZXh0PVQpO3ZvaWQgMD09PWUuZXJyb3ImJihlLmVycm9yPVQpO3ZvaWQgMD09PWUuY29tcGxldGUmJihlLmNvbXBsZXRlPVQpO2E9dGhpcy4kLmJpbmQodGhpcyx0aGlzLmEubGVuZ3RoKTt0aGlzLmwmJnRoaXMudGFzay50aGVuKGZ1bmN0aW9uKCl7dHJ5e2QuSD9lLmVycm9yKGQuSCk6ZS5jb21wbGV0ZSgpfWNhdGNoKGYpe319KTt0aGlzLmEucHVzaChlKTtyZXR1cm4gYX07XG5SLnByb3RvdHlwZS4kPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PXRoaXMuYSYmdm9pZCAwIT09dGhpcy5hW2FdJiYoZGVsZXRlIHRoaXMuYVthXSwtLXRoaXMuSywwPT09dGhpcy5LJiZ2b2lkIDAhPT10aGlzLkQmJnRoaXMuRCh0aGlzKSl9O3ZhciBTPWZ1bmN0aW9uKGEsYil7aWYoIWEubClmb3IodmFyIGM9MDtjPGEuYS5sZW5ndGg7YysrKUdhKGEsYyxiKX0sR2E9ZnVuY3Rpb24oYSxiLGMpe2EudGFzay50aGVuKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09YS5hJiZ2b2lkIDAhPT1hLmFbYl0pdHJ5e2MoYS5hW2JdKX1jYXRjaChkKXtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoZCl9fSl9O1IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5sfHwodGhpcy5sPSEwLHZvaWQgMCE9PWEmJih0aGlzLkg9YSksdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXtiLmE9dm9pZCAwO2IuRD12b2lkIDB9KSl9O1xuZnVuY3Rpb24gRmEoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4hMTt2YXIgYjtiPVtcIm5leHRcIixcImVycm9yXCIsXCJjb21wbGV0ZVwiXTtuKCk7dmFyIGM9YltTeW1ib2wuaXRlcmF0b3JdO2I9Yz9jLmNhbGwoYik6bShiKTtmb3IoYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpaWYoYz1jLnZhbHVlLGMgaW4gYSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGFbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCgpe307dmFyIEhhPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLFY9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9YTt0aGlzLm1lc3NhZ2U9YjtpZihIYSlIYSh0aGlzLFUucHJvdG90eXBlLmNyZWF0ZSk7ZWxzZXt2YXIgYz1FcnJvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuc3RhY2t9fSl9fTtWLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7Vi5wcm90b3R5cGUuY29uc3RydWN0b3I9VjtWLnByb3RvdHlwZS5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO3ZhciBVPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlY9YTt0aGlzLlc9Yjt0aGlzLk89Yzt0aGlzLnBhdHRlcm49L1xce1xcJChbXn1dKyl9L2d9O1xuVS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9e30pO3ZhciBjPXRoaXMuT1thXTthPXRoaXMuVitcIi9cIithO3ZhciBjPXZvaWQgMD09PWM/XCJFcnJvclwiOmMucmVwbGFjZSh0aGlzLnBhdHRlcm4sZnVuY3Rpb24oYSxjKXthPWJbY107cmV0dXJuIHZvaWQgMCE9PWE/YS50b1N0cmluZygpOlwiPFwiK2MrXCI/PlwifSksYz10aGlzLlcrXCI6IFwiK2MrXCIgKFwiK2ErXCIpLlwiLGM9bmV3IFYoYSxjKSxkO2ZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmXCJfXCIhPT1kLnNsaWNlKC0xKSYmKGNbZF09YltkXSk7cmV0dXJuIGN9O3ZhciBXPVEsWD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczt0aGlzLkk9Yzt0aGlzLko9ITE7dGhpcy5pPXt9O3RoaXMuQz1iO3RoaXMuRj1QKHZvaWQgMCxhKTthPVwic2VydmljZUFjY291bnRcImluIHRoaXMuRjsoXCJjcmVkZW50aWFsXCJpbiB0aGlzLkZ8fGEpJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiVGhlICdcIisoYT9cInNlcnZpY2VBY2NvdW50XCI6XCJjcmVkZW50aWFsXCIpK1wiJyBwcm9wZXJ0eSBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGluaXRpYWxpemVBcHAoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gWW91IHNob3VsZCBpbnN0ZWFkIHVzZSB0aGUgJ2ZpcmViYXNlLWFkbWluJyBwYWNrYWdlLiBTZWUgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYWRtaW4vc2V0dXAgZm9yIGRldGFpbHMgb24gaG93IHRvIGdldCBzdGFydGVkLlwiKTtPYmplY3Qua2V5cyhjLklOVEVSTkFMLmZhY3RvcmllcykuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1cbmMuSU5URVJOQUwudXNlQXNTZXJ2aWNlKGQsYSk7bnVsbCE9PWImJihiPWQuUy5iaW5kKGQsYiksZFthXT1iKX0pfTtYLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybihuZXcgVyhmdW5jdGlvbihiKXtZKGEpO2IoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YS5JLklOVEVSTkFMLnJlbW92ZUFwcChhLkMpO3JldHVybiBXLmFsbChPYmplY3Qua2V5cyhhLmkpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5pW2JdLklOVEVSTkFMLmRlbGV0ZSgpfSkpfSkudGhlbihmdW5jdGlvbigpe2EuSj0hMDthLmk9e319KX07WC5wcm90b3R5cGUuUz1mdW5jdGlvbihhKXtZKHRoaXMpO3ZvaWQgMD09PXRoaXMuaVthXSYmKHRoaXMuaVthXT10aGlzLkkuSU5URVJOQUwuZmFjdG9yaWVzW2FdKHRoaXMsdGhpcy5SLmJpbmQodGhpcykpKTtyZXR1cm4gdGhpcy5pW2FdfTtYLnByb3RvdHlwZS5SPWZ1bmN0aW9uKGEpe1AodGhpcyxhKX07XG52YXIgWT1mdW5jdGlvbihhKXthLkomJlooXCJhcHAtZGVsZXRlZFwiLHtuYW1lOmEuQ30pfTtoLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFgucHJvdG90eXBlLHtuYW1lOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybiB0aGlzLkN9fSxvcHRpb25zOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybiB0aGlzLkZ9fX0pO1gucHJvdG90eXBlLm5hbWUmJlgucHJvdG90eXBlLm9wdGlvbnN8fFgucHJvdG90eXBlLmRlbGV0ZXx8Y29uc29sZS5sb2coXCJkY1wiKTtcbmZ1bmN0aW9uIElhKCl7ZnVuY3Rpb24gYShhKXthPWF8fFwiW0RFRkFVTFRdXCI7dmFyIGI9ZFthXTt2b2lkIDA9PT1iJiZaKFwibm8tYXBwXCIse25hbWU6YX0pO3JldHVybiBifWZ1bmN0aW9uIGIoYSxiKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGQpe2Q9YyhhLGQpO2lmKG51bGwhPT1kJiZmW2RdKWZbZF0oYixhKX0pfWZ1bmN0aW9uIGMoYSxiKXtpZihcInNlcnZlckF1dGhcIj09PWIpcmV0dXJuIG51bGw7dmFyIGM9YjthPWEub3B0aW9ucztcImF1dGhcIj09PWImJihhLnNlcnZpY2VBY2NvdW50fHxhLmNyZWRlbnRpYWwpJiYoYz1cInNlcnZlckF1dGhcIixcInNlcnZlckF1dGhcImluIGV8fFooXCJzYS1ub3Qtc3VwcG9ydGVkXCIpKTtyZXR1cm4gY312YXIgZD17fSxlPXt9LGY9e30sZz17X19lc01vZHVsZTohMCxpbml0aWFsaXplQXBwOmZ1bmN0aW9uKGEsYyl7dm9pZCAwPT09Yz9jPVwiW0RFRkFVTFRdXCI6XCJzdHJpbmdcIj09PXR5cGVvZiBjJiZcIlwiIT09Y3x8WihcImJhZC1hcHAtbmFtZVwiLFxue25hbWU6YytcIlwifSk7dm9pZCAwIT09ZFtjXSYmWihcImR1cGxpY2F0ZS1hcHBcIix7bmFtZTpjfSk7YT1uZXcgWChhLGMsZyk7ZFtjXT1hO2IoYSxcImNyZWF0ZVwiKTt2b2lkIDAhPWEuSU5URVJOQUwmJnZvaWQgMCE9YS5JTlRFUk5BTC5nZXRUb2tlbnx8UChhLHtJTlRFUk5BTDp7Z2V0VG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gVy5yZXNvbHZlKG51bGwpfSxhZGRBdXRoVG9rZW5MaXN0ZW5lcjpmdW5jdGlvbigpe30scmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI6ZnVuY3Rpb24oKXt9fX0pO3JldHVybiBhfSxhcHA6YSxhcHBzOm51bGwsUHJvbWlzZTpXLFNES19WRVJTSU9OOlwiMC4wLjBcIixJTlRFUk5BTDp7cmVnaXN0ZXJTZXJ2aWNlOmZ1bmN0aW9uKGIsYyxkLHUpe2VbYl0mJlooXCJkdXBsaWNhdGUtc2VydmljZVwiLHtuYW1lOmJ9KTtlW2JdPWM7dSYmKGZbYl09dSk7Yz1mdW5jdGlvbihjKXt2b2lkIDA9PT1jJiYoYz1hKCkpO3JldHVybiBjW2JdKCl9O3ZvaWQgMCE9PWQmJlAoYyxkKTtyZXR1cm4gZ1tiXT1cbmN9LGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlOklhLGV4dGVuZE5hbWVzcGFjZTpmdW5jdGlvbihhKXtQKGcsYSl9LGNyZWF0ZVN1YnNjcmliZTpFYSxFcnJvckZhY3Rvcnk6VSxyZW1vdmVBcHA6ZnVuY3Rpb24oYSl7YihkW2FdLFwiZGVsZXRlXCIpO2RlbGV0ZSBkW2FdfSxmYWN0b3JpZXM6ZSx1c2VBc1NlcnZpY2U6YyxQcm9taXNlOk8sZGVlcEV4dGVuZDpQfX07Z1tcImRlZmF1bHRcIl09ZztPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImFwcHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKGQpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gZFthXX0pfX0pO2EuQXBwPVg7cmV0dXJuIGd9ZnVuY3Rpb24gWihhLGIpe3Rocm93IEphLmNyZWF0ZShhLGIpO31cbnZhciBKYT1uZXcgVShcImFwcFwiLFwiRmlyZWJhc2VcIix7XCJuby1hcHBcIjpcIk5vIEZpcmViYXNlIEFwcCAneyRuYW1lfScgaGFzIGJlZW4gY3JlYXRlZCAtIGNhbGwgRmlyZWJhc2UgQXBwLmluaXRpYWxpemVBcHAoKVwiLFwiYmFkLWFwcC1uYW1lXCI6XCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRuYW1lfVwiLFwiZHVwbGljYXRlLWFwcFwiOlwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JG5hbWV9JyBhbHJlYWR5IGV4aXN0c1wiLFwiYXBwLWRlbGV0ZWRcIjpcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRuYW1lfScgYWxyZWFkeSBkZWxldGVkXCIsXCJkdXBsaWNhdGUtc2VydmljZVwiOlwiRmlyZWJhc2Ugc2VydmljZSBuYW1lZCAneyRuYW1lfScgYWxyZWFkeSByZWdpc3RlcmVkXCIsXCJzYS1ub3Qtc3VwcG9ydGVkXCI6XCJJbml0aWFsaXppbmcgdGhlIEZpcmViYXNlIFNESyB3aXRoIGEgc2VydmljZSBhY2NvdW50IGlzIG9ubHkgYWxsb3dlZCBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuIE9uIGNsaWVudCBkZXZpY2VzLCB5b3Ugc2hvdWxkIGluc3RlYWQgaW5pdGlhbGl6ZSB0aGUgU0RLIHdpdGggYW4gYXBpIGtleSBhbmQgYXV0aCBkb21haW5cIn0pO1widW5kZWZpbmVkXCIhPT10eXBlb2YgZmlyZWJhc2UmJihmaXJlYmFzZT1JYSgpKTsgfSkuY2FsbCh0aGlzKTtcbmZpcmViYXNlLlNES19WRVJTSU9OID0gXCIzLjYuOVwiO1xucmV0dXJuIGZpcmViYXNlO30pLmNhbGwodHlwZW9mIGdsb2JhbCAhPT0gdW5kZWZpbmVkID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IHVuZGVmaW5lZCA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWQgPyB3aW5kb3cgOiB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbihmdW5jdGlvbigpe1xuLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjYuOVxuICAgIEJ1aWxkOiAzLjYuOS1yYy4xXG4gICAgVGVybXM6IGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS90ZXJtcy8gKi9cbihmdW5jdGlvbigpe3ZhciBoLGFhPWFhfHx7fSxsPXRoaXMsYmE9ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJlxuIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LGNhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YX0sZGE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJhcnJheVwiPT1tKGEpfSxlYT1mdW5jdGlvbihhKXt2YXIgYj1tKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofSxwPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxmYT1mdW5jdGlvbihhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX0scT1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PW0oYSl9LGdhPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn0saGE9ZnVuY3Rpb24oYSxiLFxuYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX0saWE9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19LHI9ZnVuY3Rpb24oYSxiLGMpe3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9oYTppYTtyZXR1cm4gci5hcHBseShudWxsLGFyZ3VtZW50cyl9LGphPWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Yy5zbGljZSgpO2IucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkodGhpcyxiKX19LGthPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0sdD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5qZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuQ2Y9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgZD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWRbZS0yXT1hcmd1bWVudHNbZV07cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsZCl9fTt2YXIgdT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHUpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3QodSxFcnJvcik7dS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGxhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9LG1hPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihhKXtyZXR1cm4gYS50cmltKCl9OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKX0sbmE9LyYvZyxvYT0vPC9nLHBhPS8+L2cscWE9L1wiL2cscmE9LycvZyxzYT0vXFx4MDAvZyx0YT0vW1xceDAwJjw+XCInXS8sdj1mdW5jdGlvbihhLGIpe3JldHVybi0xIT1hLmluZGV4T2YoYil9LHVhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfTt2YXIgdmE9ZnVuY3Rpb24oYSxiKXtiLnVuc2hpZnQoYSk7dS5jYWxsKHRoaXMsbGEuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTt0KHZhLHUpO3ZhLnByb3RvdHlwZS5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIjtcbnZhciB3YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgdmEoXCJcIitlLGZ8fFtdKTt9LHc9ZnVuY3Rpb24oYSxiLGMpe2F8fHdhKFwiXCIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LHhhPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IHZhKFwiRmFpbHVyZVwiKyhhP1wiOiBcIithOlwiXCIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7fSx5YT1mdW5jdGlvbihhLGIsYyl7ZmEoYSl8fHdhKFwiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX0semE9ZnVuY3Rpb24oYSxiLGMpe3AoYSl8fHdhKFwiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMikpfSxBYT1mdW5jdGlvbihhLGIsYyl7cShhKXx8d2EoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbbShhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBCYT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbihhLGIsYyl7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihwKGEpKXJldHVybiBwKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LHg9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cChhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LENhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXAoYSk/XG5hLnNwbGl0KFwiXCIpOmEsZD1hLmxlbmd0aC0xOzA8PWQ7LS1kKWQgaW4gYyYmYi5jYWxsKHZvaWQgMCxjW2RdLGQsYSl9LERhPUFycmF5LnByb3RvdHlwZS5tYXA/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9QXJyYXkoZCksZj1wKGEpP2Euc3BsaXQoXCJcIik6YSxnPTA7ZzxkO2crKylnIGluIGYmJihlW2ddPWIuY2FsbChjLGZbZ10sZyxhKSk7cmV0dXJuIGV9LEVhPUFycmF5LnByb3RvdHlwZS5zb21lP2Z1bmN0aW9uKGEsYixjKXt3KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMDtyZXR1cm4hMX0sXG5HYT1mdW5jdGlvbihhKXt2YXIgYjthOntiPUZhO2Zvcih2YXIgYz1hLmxlbmd0aCxkPXAoYSk/YS5zcGxpdChcIlwiKTphLGU9MDtlPGM7ZSsrKWlmKGUgaW4gZCYmYi5jYWxsKHZvaWQgMCxkW2VdLGUsYSkpe2I9ZTticmVhayBhfWI9LTF9cmV0dXJuIDA+Yj9udWxsOnAoYSk/YS5jaGFyQXQoYik6YVtiXX0sSGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDw9QmEoYSxiKX0sSmE9ZnVuY3Rpb24oYSxiKXtiPUJhKGEsYik7dmFyIGM7KGM9MDw9YikmJklhKGEsYik7cmV0dXJuIGN9LElhPWZ1bmN0aW9uKGEsYil7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIDE9PUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLGIsMSkubGVuZ3RofSxLYT1mdW5jdGlvbihhLGIpe3ZhciBjPTA7Q2EoYSxmdW5jdGlvbihkLGUpe2IuY2FsbCh2b2lkIDAsZCxlLGEpJiZJYShhLGUpJiZjKyt9KX0sTGE9ZnVuY3Rpb24oYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLFxuYXJndW1lbnRzKX0sTWE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGg7aWYoMDxiKXtmb3IodmFyIGM9QXJyYXkoYiksZD0wO2Q8YjtkKyspY1tkXT1hW2RdO3JldHVybiBjfXJldHVybltdfTt2YXIgTmE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX0sT2E9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn0sUGE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn0sUWE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LFJhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIShjIGluIGIpfHxhW2NdIT09YltjXSlyZXR1cm4hMTtmb3IoYyBpbiBiKWlmKCEoYyBpbiBhKSlyZXR1cm4hMTtyZXR1cm4hMH0sU2E9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYztmb3IoYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gYn0sVGE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIiksXG5VYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IodmFyIGY9MDtmPFRhLmxlbmd0aDtmKyspYz1UYVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTt2YXIgVmE7YTp7dmFyIFhhPWwubmF2aWdhdG9yO2lmKFhhKXt2YXIgWWE9WGEudXNlckFnZW50O2lmKFlhKXtWYT1ZYTticmVhayBhfX1WYT1cIlwifXZhciB6PWZ1bmN0aW9uKGEpe3JldHVybiB2KFZhLGEpfTt2YXIgWmE9ZnVuY3Rpb24oYSl7WmFbXCIgXCJdKGEpO3JldHVybiBhfTtaYVtcIiBcIl09YmE7dmFyIGFiPWZ1bmN0aW9uKGEsYil7dmFyIGM9JGE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGEpP2NbYV06Y1thXT1iKGEpfTt2YXIgYmI9eihcIk9wZXJhXCIpLEE9eihcIlRyaWRlbnRcIil8fHooXCJNU0lFXCIpLGNiPXooXCJFZGdlXCIpLGRiPWNifHxBLGViPXooXCJHZWNrb1wiKSYmISh2KFZhLnRvTG93ZXJDYXNlKCksXCJ3ZWJraXRcIikmJiF6KFwiRWRnZVwiKSkmJiEoeihcIlRyaWRlbnRcIil8fHooXCJNU0lFXCIpKSYmIXooXCJFZGdlXCIpLGZiPXYoVmEudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIXooXCJFZGdlXCIpLGdiPWZ1bmN0aW9uKCl7dmFyIGE9bC5kb2N1bWVudDtyZXR1cm4gYT9hLmRvY3VtZW50TW9kZTp2b2lkIDB9LGhiO1xuYTp7dmFyIGliPVwiXCIsamI9ZnVuY3Rpb24oKXt2YXIgYT1WYTtpZihlYilyZXR1cm4vcnZcXDooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtpZihjYilyZXR1cm4vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGEpO2lmKEEpcmV0dXJuL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO2lmKGZiKXJldHVybi9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7aWYoYmIpcmV0dXJuLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhhKX0oKTtqYiYmKGliPWpiP2piWzFdOlwiXCIpO2lmKEEpe3ZhciBrYj1nYigpO2lmKG51bGwhPWtiJiZrYj5wYXJzZUZsb2F0KGliKSl7aGI9U3RyaW5nKGtiKTticmVhayBhfX1oYj1pYn1cbnZhciBsYj1oYiwkYT17fSxCPWZ1bmN0aW9uKGEpe3JldHVybiBhYihhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz1tYShTdHJpbmcobGIpKS5zcGxpdChcIi5cIiksZD1tYShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixrPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2s9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoayl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09a1swXS5sZW5ndGgpYnJlYWs7Yj11YSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWtbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoa1sxXSwxMCkpfHx1YSgwPT1nWzJdLmxlbmd0aCwwPT1rWzJdLmxlbmd0aCl8fHVhKGdbMl0sa1syXSk7Zz1nWzNdO2s9a1szXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfSxtYjt2YXIgbmI9bC5kb2N1bWVudDtcbm1iPW5iJiZBP2diKCl8fChcIkNTUzFDb21wYXRcIj09bmIuY29tcGF0TW9kZT9wYXJzZUludChsYiwxMCk6NSk6dm9pZCAwO3ZhciBvYj1mdW5jdGlvbihhKXtyZXR1cm4gRGEoYSxmdW5jdGlvbihhKXthPWEudG9TdHJpbmcoMTYpO3JldHVybiAxPGEubGVuZ3RoP2E6XCIwXCIrYX0pLmpvaW4oXCJcIil9O3ZhciBwYj1udWxsLHFiPW51bGwsc2I9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjtyYihhLGZ1bmN0aW9uKGEpe2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9KTtyZXR1cm4gYn0scmI9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGIpe2Zvcig7ZDxhLmxlbmd0aDspe3ZhciBjPWEuY2hhckF0KGQrKyksZT1xYltjXTtpZihudWxsIT1lKXJldHVybiBlO2lmKCEvXltcXHNcXHhhMF0qJC8udGVzdChjKSl0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2MpO31yZXR1cm4gYn10YigpO2Zvcih2YXIgZD0wOzspe3ZhciBlPWMoLTEpLGY9YygwKSxnPWMoNjQpLGs9Yyg2NCk7aWYoNjQ9PT1rJiYtMT09PWUpYnJlYWs7YihlPDwyfGY+PjQpOzY0IT1nJiYoYihmPDw0JjI0MHxnPj4yKSw2NCE9ayYmYihnPDw2JjE5MnxrKSl9fSx0Yj1mdW5jdGlvbigpe2lmKCFwYil7cGI9e307cWI9e307Zm9yKHZhciBhPTA7NjU+YTthKyspcGJbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKSxcbnFiW3BiW2FdXT1hLDYyPD1hJiYocWJbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLlwiLmNoYXJBdChhKV09YSl9fTt2YXIgdWI9ZnVuY3Rpb24oKXt0aGlzLnlhPS0xfTt2YXIgeGI9ZnVuY3Rpb24oYSxiKXt0aGlzLnlhPTY0O3RoaXMuUWI9bC5VaW50OEFycmF5P25ldyBVaW50OEFycmF5KHRoaXMueWEpOkFycmF5KHRoaXMueWEpO3RoaXMudmM9dGhpcy5ZYT0wO3RoaXMuaD1bXTt0aGlzLlllPWE7dGhpcy5DZD1iO3RoaXMueWY9bC5JbnQzMkFycmF5P25ldyBJbnQzMkFycmF5KDY0KTpBcnJheSg2NCk7dm9pZCAwIT09dmJ8fCh2Yj1sLkludDMyQXJyYXk/bmV3IEludDMyQXJyYXkod2IpOndiKTt0aGlzLnJlc2V0KCl9LHZiO3QoeGIsdWIpO2Zvcih2YXIgeWI9W10semI9MDs2Mz56Yjt6YisrKXliW3piXT0wO3ZhciBBYj1MYSgxMjgseWIpO3hiLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMudmM9dGhpcy5ZYT0wO3RoaXMuaD1sLkludDMyQXJyYXk/bmV3IEludDMyQXJyYXkodGhpcy5DZCk6TWEodGhpcy5DZCl9O1xudmFyIEJiPWZ1bmN0aW9uKGEpe3ZhciBiPWEuUWI7dyhiLmxlbmd0aD09YS55YSk7Zm9yKHZhciBjPWEueWYsZD0wLGU9MDtlPGIubGVuZ3RoOyljW2QrK109YltlXTw8MjR8YltlKzFdPDwxNnxiW2UrMl08PDh8YltlKzNdLGU9NCpkO2ZvcihiPTE2OzY0PmI7YisrKXt2YXIgZT1jW2ItMTVdfDAsZD1jW2ItMl18MCxmPShjW2ItMTZdfDApKygoZT4+Pjd8ZTw8MjUpXihlPj4+MTh8ZTw8MTQpXmU+Pj4zKXwwLGc9KGNbYi03XXwwKSsoKGQ+Pj4xN3xkPDwxNSleKGQ+Pj4xOXxkPDwxMyleZD4+PjEwKXwwO2NbYl09ZitnfDB9Zm9yKHZhciBkPWEuaFswXXwwLGU9YS5oWzFdfDAsaz1hLmhbMl18MCxuPWEuaFszXXwwLHk9YS5oWzRdfDAsV2E9YS5oWzVdfDAsRWI9YS5oWzZdfDAsZj1hLmhbN118MCxiPTA7NjQ+YjtiKyspdmFyICRnPSgoZD4+PjJ8ZDw8MzApXihkPj4+MTN8ZDw8MTkpXihkPj4+MjJ8ZDw8MTApKSsoZCZlXmQma15lJmspfDAsZz15JldhXn55JkViLGY9ZisoKHk+Pj42fFxueTw8MjYpXih5Pj4+MTF8eTw8MjEpXih5Pj4+MjV8eTw8NykpfDAsZz1nKyh2YltiXXwwKXwwLGc9ZisoZysoY1tiXXwwKXwwKXwwLGY9RWIsRWI9V2EsV2E9eSx5PW4rZ3wwLG49ayxrPWUsZT1kLGQ9ZyskZ3wwO2EuaFswXT1hLmhbMF0rZHwwO2EuaFsxXT1hLmhbMV0rZXwwO2EuaFsyXT1hLmhbMl0ra3wwO2EuaFszXT1hLmhbM10rbnwwO2EuaFs0XT1hLmhbNF0reXwwO2EuaFs1XT1hLmhbNV0rV2F8MDthLmhbNl09YS5oWzZdK0VifDA7YS5oWzddPWEuaFs3XStmfDB9O1xueGIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPWEubGVuZ3RoKTt2YXIgYz0wLGQ9dGhpcy5ZYTtpZihwKGEpKWZvcig7YzxiOyl0aGlzLlFiW2QrK109YS5jaGFyQ29kZUF0KGMrKyksZD09dGhpcy55YSYmKEJiKHRoaXMpLGQ9MCk7ZWxzZSBpZihlYShhKSlmb3IoO2M8Yjspe3ZhciBlPWFbYysrXTtpZighKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lJiYyNTU+PWUmJmU9PShlfDApKSl0aHJvdyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBhIGJ5dGUgYXJyYXlcIik7dGhpcy5RYltkKytdPWU7ZD09dGhpcy55YSYmKEJiKHRoaXMpLGQ9MCl9ZWxzZSB0aHJvdyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBzdHJpbmcgb3IgYXJyYXlcIik7dGhpcy5ZYT1kO3RoaXMudmMrPWJ9O1xueGIucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbigpe3ZhciBhPVtdLGI9OCp0aGlzLnZjOzU2PnRoaXMuWWE/dGhpcy51cGRhdGUoQWIsNTYtdGhpcy5ZYSk6dGhpcy51cGRhdGUoQWIsdGhpcy55YS0odGhpcy5ZYS01NikpO2Zvcih2YXIgYz02Mzs1Njw9YztjLS0pdGhpcy5RYltjXT1iJjI1NSxiLz0yNTY7QmIodGhpcyk7Zm9yKGM9Yj0wO2M8dGhpcy5ZZTtjKyspZm9yKHZhciBkPTI0OzA8PWQ7ZC09OClhW2IrK109dGhpcy5oW2NdPj5kJjI1NTtyZXR1cm4gYX07XG52YXIgd2I9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCxcbjQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XTt2YXIgRGI9ZnVuY3Rpb24oKXt4Yi5jYWxsKHRoaXMsOCxDYil9O3QoRGIseGIpO3ZhciBDYj1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdO3ZhciBGYj0hQXx8OTw9TnVtYmVyKG1iKSxHYj1BJiYhQihcIjlcIik7IWZifHxCKFwiNTI4XCIpO2ViJiZCKFwiMS45YlwiKXx8QSYmQihcIjhcIil8fGJiJiZCKFwiOS41XCIpfHxmYiYmQihcIjUyOFwiKTtlYiYmIUIoXCI4XCIpfHxBJiZCKFwiOVwiKTt2YXIgSGI9ZnVuY3Rpb24oKXt0aGlzLkFhPXRoaXMuQWE7dGhpcy5nYz10aGlzLmdjfTtIYi5wcm90b3R5cGUuQWE9ITE7SGIucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BYX07SGIucHJvdG90eXBlLlRhPWZ1bmN0aW9uKCl7aWYodGhpcy5nYylmb3IoO3RoaXMuZ2MubGVuZ3RoOyl0aGlzLmdjLnNoaWZ0KCkoKX07dmFyIEliPWZ1bmN0aW9uKGEsYil7dGhpcy50eXBlPWE7dGhpcy5jdXJyZW50VGFyZ2V0PXRoaXMudGFyZ2V0PWI7dGhpcy5kZWZhdWx0UHJldmVudGVkPXRoaXMuYmI9ITE7dGhpcy5OZD0hMH07SWIucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3RoaXMuTmQ9ITF9O3ZhciBKYj1mdW5jdGlvbihhLGIpe0liLmNhbGwodGhpcyxhP2EudHlwZTpcIlwiKTt0aGlzLnJlbGF0ZWRUYXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXRoaXMudGFyZ2V0PW51bGw7dGhpcy5idXR0b249dGhpcy5zY3JlZW5ZPXRoaXMuc2NyZWVuWD10aGlzLmNsaWVudFk9dGhpcy5jbGllbnRYPXRoaXMub2Zmc2V0WT10aGlzLm9mZnNldFg9MDt0aGlzLmtleT1cIlwiO3RoaXMuY2hhckNvZGU9dGhpcy5rZXlDb2RlPTA7dGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExO3RoaXMuVWE9dGhpcy5zdGF0ZT1udWxsO2EmJnRoaXMuaW5pdChhLGIpfTt0KEpiLEliKTtcbkpiLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy50eXBlPWEudHlwZSxkPWEuY2hhbmdlZFRvdWNoZXM/YS5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5jdXJyZW50VGFyZ2V0PWI7aWYoYj1hLnJlbGF0ZWRUYXJnZXQpe2lmKGViKXt2YXIgZTthOnt0cnl7WmEoYi5ub2RlTmFtZSk7ZT0hMDticmVhayBhfWNhdGNoKGYpe31lPSExfWV8fChiPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09Yz9iPWEuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1jJiYoYj1hLnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWI7bnVsbD09PWQ/KHRoaXMub2Zmc2V0WD1mYnx8dm9pZCAwIT09YS5vZmZzZXRYP2Eub2Zmc2V0WDphLmxheWVyWCx0aGlzLm9mZnNldFk9ZmJ8fHZvaWQgMCE9PWEub2Zmc2V0WT9hLm9mZnNldFk6YS5sYXllclksdGhpcy5jbGllbnRYPXZvaWQgMCE9PWEuY2xpZW50WD9hLmNsaWVudFg6XG5hLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1hLmNsaWVudFk/YS5jbGllbnRZOmEucGFnZVksdGhpcy5zY3JlZW5YPWEuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9YS5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PWQuY2xpZW50WD9kLmNsaWVudFg6ZC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ZC5jbGllbnRZP2QuY2xpZW50WTpkLnBhZ2VZLHRoaXMuc2NyZWVuWD1kLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWQuc2NyZWVuWXx8MCk7dGhpcy5idXR0b249YS5idXR0b247dGhpcy5rZXlDb2RlPWEua2V5Q29kZXx8MDt0aGlzLmtleT1hLmtleXx8XCJcIjt0aGlzLmNoYXJDb2RlPWEuY2hhckNvZGV8fChcImtleXByZXNzXCI9PWM/YS5rZXlDb2RlOjApO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1hLnNoaWZ0S2V5O3RoaXMubWV0YUtleT1hLm1ldGFLZXk7dGhpcy5zdGF0ZT1hLnN0YXRlO3RoaXMuVWE9XG5hO2EuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5wcmV2ZW50RGVmYXVsdCgpfTtKYi5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtKYi5qZC5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO3ZhciBhPXRoaXMuVWE7aWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihhLnJldHVyblZhbHVlPSExLEdiKXRyeXtpZihhLmN0cmxLZXl8fDExMjw9YS5rZXlDb2RlJiYxMjM+PWEua2V5Q29kZSlhLmtleUNvZGU9LTF9Y2F0Y2goYil7fX07SmIucHJvdG90eXBlLkFlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWF9O3ZhciBLYj1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksTGI9MDt2YXIgTWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmxpc3RlbmVyPWE7dGhpcy5sYz1udWxsO3RoaXMuc3JjPWI7dGhpcy50eXBlPWM7dGhpcy5jYXB0dXJlPSEhZDt0aGlzLlliPWU7dGhpcy5rZXk9KytMYjt0aGlzLmhiPXRoaXMuUGI9ITF9LE5iPWZ1bmN0aW9uKGEpe2EuaGI9ITA7YS5saXN0ZW5lcj1udWxsO2EubGM9bnVsbDthLnNyYz1udWxsO2EuWWI9bnVsbH07dmFyIE9iPWZ1bmN0aW9uKGEpe3RoaXMuc3JjPWE7dGhpcy5DPXt9O3RoaXMuTGI9MH07T2IucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMuQ1tmXTthfHwoYT10aGlzLkNbZl09W10sdGhpcy5MYisrKTt2YXIgZz1QYihhLGIsZCxlKTstMTxnPyhiPWFbZ10sY3x8KGIuUGI9ITEpKTooYj1uZXcgTWIoYix0aGlzLnNyYyxmLCEhZCxlKSxiLlBiPWMsYS5wdXNoKGIpKTtyZXR1cm4gYn07T2IucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhLGIsYyxkKXthPWEudG9TdHJpbmcoKTtpZighKGEgaW4gdGhpcy5DKSlyZXR1cm4hMTt2YXIgZT10aGlzLkNbYV07Yj1QYihlLGIsYyxkKTtyZXR1cm4tMTxiPyhOYihlW2JdKSxJYShlLGIpLDA9PWUubGVuZ3RoJiYoZGVsZXRlIHRoaXMuQ1thXSx0aGlzLkxiLS0pLCEwKTohMX07XG52YXIgUWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnR5cGU7YyBpbiBhLkMmJkphKGEuQ1tjXSxiKSYmKE5iKGIpLDA9PWEuQ1tjXS5sZW5ndGgmJihkZWxldGUgYS5DW2NdLGEuTGItLSkpfTtPYi5wcm90b3R5cGUuS2M9ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLkNbYS50b1N0cmluZygpXTt2YXIgZT0tMTthJiYoZT1QYihhLGIsYyxkKSk7cmV0dXJuLTE8ZT9hW2VdOm51bGx9O3ZhciBQYj1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZighZi5oYiYmZi5saXN0ZW5lcj09YiYmZi5jYXB0dXJlPT0hIWMmJmYuWWI9PWQpcmV0dXJuIGV9cmV0dXJuLTF9O3ZhciBSYj1cImNsb3N1cmVfbG1fXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApLFNiPXt9LFRiPTAsVWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihkYShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylVYihhLGJbZl0sYyxkLGUpO2Vsc2UgYz1WYihjKSxhJiZhW0tiXT9hLmxpc3RlbihiLGMsZCxlKTpXYihhLGIsYywhMSxkLGUpfSxXYj1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoIWIpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7dmFyIGc9ISFlLGs9WGIoYSk7a3x8KGFbUmJdPWs9bmV3IE9iKGEpKTtjPWsuYWRkKGIsYyxkLGUsZik7aWYoIWMubGMpe2Q9WWIoKTtjLmxjPWQ7ZC5zcmM9YTtkLmxpc3RlbmVyPWM7aWYoYS5hZGRFdmVudExpc3RlbmVyKWEuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksZCxnKTtlbHNlIGlmKGEuYXR0YWNoRXZlbnQpYS5hdHRhY2hFdmVudChaYihiLnRvU3RyaW5nKCkpLGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1xuVGIrK319LFliPWZ1bmN0aW9uKCl7dmFyIGE9JGIsYj1GYj9mdW5jdGlvbihjKXtyZXR1cm4gYS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyl9OmZ1bmN0aW9uKGMpe2M9YS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyk7aWYoIWMpcmV0dXJuIGN9O3JldHVybiBifSxhYz1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGRhKGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKWFjKGEsYltmXSxjLGQsZSk7ZWxzZSBjPVZiKGMpLGEmJmFbS2JdP2JjKGEsYixjLGQsZSk6V2IoYSxiLGMsITAsZCxlKX0sY2M9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihkYShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKyljYyhhLGJbZl0sYyxkLGUpO2Vsc2UgYz1WYihjKSxhJiZhW0tiXT9hLmFhLnJlbW92ZShTdHJpbmcoYiksYyxkLGUpOmEmJihhPVhiKGEpKSYmKGI9YS5LYyhiLGMsISFkLGUpKSYmZGMoYil9LGRjPWZ1bmN0aW9uKGEpe2lmKCFmYShhKSYmYSYmIWEuaGIpe3ZhciBiPWEuc3JjO2lmKGImJlxuYltLYl0pUWIoYi5hYSxhKTtlbHNle3ZhciBjPWEudHlwZSxkPWEubGM7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsYS5jYXB0dXJlKTpiLmRldGFjaEV2ZW50JiZiLmRldGFjaEV2ZW50KFpiKGMpLGQpO1RiLS07KGM9WGIoYikpPyhRYihjLGEpLDA9PWMuTGImJihjLnNyYz1udWxsLGJbUmJdPW51bGwpKTpOYihhKX19fSxaYj1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbiBTYj9TYlthXTpTYlthXT1cIm9uXCIrYX0sZmM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ITA7aWYoYT1YYihhKSlpZihiPWEuQ1tiLnRvU3RyaW5nKCldKWZvcihiPWIuY29uY2F0KCksYT0wO2E8Yi5sZW5ndGg7YSsrKXt2YXIgZj1iW2FdO2YmJmYuY2FwdHVyZT09YyYmIWYuaGImJihmPWVjKGYsZCksZT1lJiYhMSE9PWYpfXJldHVybiBlfSxlYz1mdW5jdGlvbihhLGIpe3ZhciBjPWEubGlzdGVuZXIsZD1hLllifHxhLnNyYzthLlBiJiZkYyhhKTtyZXR1cm4gYy5jYWxsKGQsXG5iKX0sJGI9ZnVuY3Rpb24oYSxiKXtpZihhLmhiKXJldHVybiEwO2lmKCFGYil7aWYoIWIpYTp7Yj1bXCJ3aW5kb3dcIixcImV2ZW50XCJdO2Zvcih2YXIgYz1sLGQ7ZD1iLnNoaWZ0KCk7KWlmKG51bGwhPWNbZF0pYz1jW2RdO2Vsc2V7Yj1udWxsO2JyZWFrIGF9Yj1jfWQ9YjtiPW5ldyBKYihkLHRoaXMpO2M9ITA7aWYoISgwPmQua2V5Q29kZXx8dm9pZCAwIT1kLnJldHVyblZhbHVlKSl7YTp7dmFyIGU9ITE7aWYoMD09ZC5rZXlDb2RlKXRyeXtkLmtleUNvZGU9LTE7YnJlYWsgYX1jYXRjaChnKXtlPSEwfWlmKGV8fHZvaWQgMD09ZC5yZXR1cm5WYWx1ZSlkLnJldHVyblZhbHVlPSEwfWQ9W107Zm9yKGU9Yi5jdXJyZW50VGFyZ2V0O2U7ZT1lLnBhcmVudE5vZGUpZC5wdXNoKGUpO2E9YS50eXBlO2ZvcihlPWQubGVuZ3RoLTE7IWIuYmImJjA8PWU7ZS0tKXtiLmN1cnJlbnRUYXJnZXQ9ZFtlXTt2YXIgZj1mYyhkW2VdLGEsITAsYiksYz1jJiZmfWZvcihlPTA7IWIuYmImJmU8ZC5sZW5ndGg7ZSsrKWIuY3VycmVudFRhcmdldD1cbmRbZV0sZj1mYyhkW2VdLGEsITEsYiksYz1jJiZmfXJldHVybiBjfXJldHVybiBlYyhhLG5ldyBKYihiLHRoaXMpKX0sWGI9ZnVuY3Rpb24oYSl7YT1hW1JiXTtyZXR1cm4gYSBpbnN0YW5jZW9mIE9iP2E6bnVsbH0sZ2M9XCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PjApLFZiPWZ1bmN0aW9uKGEpe3coYSxcIkxpc3RlbmVyIGNhbiBub3QgYmUgbnVsbC5cIik7aWYocShhKSlyZXR1cm4gYTt3KGEuaGFuZGxlRXZlbnQsXCJBbiBvYmplY3QgbGlzdGVuZXIgbXVzdCBoYXZlIGhhbmRsZUV2ZW50IG1ldGhvZC5cIik7YVtnY118fChhW2djXT1mdW5jdGlvbihiKXtyZXR1cm4gYS5oYW5kbGVFdmVudChiKX0pO3JldHVybiBhW2djXX07dmFyIGhjPS9eWythLXpBLVowLTlfLiEjJCUmJypcXC89P15ge3x9fi1dK0AoW2EtekEtWjAtOS1dK1xcLikrW2EtekEtWjAtOV17Miw2M30kLzt2YXIgamM9ZnVuY3Rpb24oKXt0aGlzLnNjPVwiXCI7dGhpcy5nZT1pY307amMucHJvdG90eXBlLmJjPSEwO2pjLnByb3RvdHlwZS5XYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjfTtqYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkNvbnN0e1wiK3RoaXMuc2MrXCJ9XCJ9O3ZhciBrYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgamMmJmEuY29uc3RydWN0b3I9PT1qYyYmYS5nZT09PWljKXJldHVybiBhLnNjO3hhKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgQ29uc3QsIGdvdCAnXCIrYStcIidcIik7cmV0dXJuXCJ0eXBlX2Vycm9yOkNvbnN0XCJ9LGljPXt9LGxjPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBqYztiLnNjPWE7cmV0dXJuIGJ9O2xjKFwiXCIpO3ZhciBuYz1mdW5jdGlvbigpe3RoaXMuamM9XCJcIjt0aGlzLmhlPW1jfTtuYy5wcm90b3R5cGUuYmM9ITA7bmMucHJvdG90eXBlLldiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuamN9O25jLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVHJ1c3RlZFJlc291cmNlVXJse1wiK3RoaXMuamMrXCJ9XCJ9O3ZhciBtYz17fTt2YXIgcGM9ZnVuY3Rpb24oKXt0aGlzLm1hPVwiXCI7dGhpcy5mZT1vY307cGMucHJvdG90eXBlLmJjPSEwO3BjLnByb3RvdHlwZS5XYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hfTtwYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVVcmx7XCIrdGhpcy5tYStcIn1cIn07XG52YXIgcWM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIHBjJiZhLmNvbnN0cnVjdG9yPT09cGMmJmEuZmU9PT1vYylyZXR1cm4gYS5tYTt4YShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVVcmwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZVVybFwifSxyYz0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2ksdGM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIHBjKXJldHVybiBhO2E9YS5iYz9hLldiKCk6U3RyaW5nKGEpO3JjLnRlc3QoYSl8fChhPVwiYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXpcIik7cmV0dXJuIHNjKGEpfSxvYz17fSxzYz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgcGM7Yi5tYT1hO3JldHVybiBifTtzYyhcImFib3V0OmJsYW5rXCIpO3ZhciB3Yz1mdW5jdGlvbihhKXt2YXIgYj1bXTt1YyhuZXcgdmMsYSxiKTtyZXR1cm4gYi5qb2luKFwiXCIpfSx2Yz1mdW5jdGlvbigpe3RoaXMubmM9dm9pZCAwfSx1Yz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YiljLnB1c2goXCJudWxsXCIpO2Vsc2V7aWYoXCJvYmplY3RcIj09dHlwZW9mIGIpe2lmKGRhKGIpKXt2YXIgZD1iO2I9ZC5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxiO2YrKyljLnB1c2goZSksZT1kW2ZdLHVjKGEsYS5uYz9hLm5jLmNhbGwoZCxTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7cmV0dXJufWlmKGIgaW5zdGFuY2VvZiBTdHJpbmd8fGIgaW5zdGFuY2VvZiBOdW1iZXJ8fGIgaW5zdGFuY2VvZiBCb29sZWFuKWI9Yi52YWx1ZU9mKCk7ZWxzZXtjLnB1c2goXCJ7XCIpO2Y9XCJcIjtmb3IoZCBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGQpJiYoZT1iW2RdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZiksXG54YyhkLGMpLGMucHVzaChcIjpcIiksdWMoYSxhLm5jP2EubmMuY2FsbChiLGQsZSk6ZSxjKSxmPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTtyZXR1cm59fXN3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOnhjKGIsYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP1N0cmluZyhiKTpcIm51bGxcIik7YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjLnB1c2goU3RyaW5nKGIpKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3R5cGVvZiBiKTt9fX0seWM9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0semM9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2csXG54Yz1mdW5jdGlvbihhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZSh6YyxmdW5jdGlvbihhKXt2YXIgYj15Y1thXTtifHwoYj1cIlxcXFx1XCIrKGEuY2hhckNvZGVBdCgwKXw2NTUzNikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSx5Y1thXT1iKTtyZXR1cm4gYn0pLCdcIicpfTt2YXIgQWM9ZnVuY3Rpb24oKXt9O0FjLnByb3RvdHlwZS5tZD1udWxsO3ZhciBCYz1mdW5jdGlvbihhKXtyZXR1cm4gYS5tZHx8KGEubWQ9YS5QYygpKX07dmFyIENjLERjPWZ1bmN0aW9uKCl7fTt0KERjLEFjKTtEYy5wcm90b3R5cGUuUmI9ZnVuY3Rpb24oKXt2YXIgYT1FYyh0aGlzKTtyZXR1cm4gYT9uZXcgQWN0aXZlWE9iamVjdChhKTpuZXcgWE1MSHR0cFJlcXVlc3R9O0RjLnByb3RvdHlwZS5QYz1mdW5jdGlvbigpe3ZhciBhPXt9O0VjKHRoaXMpJiYoYVswXT0hMCxhWzFdPSEwKTtyZXR1cm4gYX07XG52YXIgRWM9ZnVuY3Rpb24oYSl7aWYoIWEuQmQmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFjdGl2ZVhPYmplY3Qpe2Zvcih2YXIgYj1bXCJNU1hNTDIuWE1MSFRUUC42LjBcIixcIk1TWE1MMi5YTUxIVFRQLjMuMFwiLFwiTVNYTUwyLlhNTEhUVFBcIixcIk1pY3Jvc29mdC5YTUxIVFRQXCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KGQpLGEuQmQ9ZH1jYXRjaChlKXt9fXRocm93IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBBY3RpdmVYT2JqZWN0LiBBY3RpdmVYIG1pZ2h0IGJlIGRpc2FibGVkLCBvciBNU1hNTCBtaWdodCBub3QgYmUgaW5zdGFsbGVkXCIpO31yZXR1cm4gYS5CZH07Q2M9bmV3IERjO3ZhciBGYz1mdW5jdGlvbigpe307dChGYyxBYyk7RmMucHJvdG90eXBlLlJiPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKFwid2l0aENyZWRlbnRpYWxzXCJpbiBhKXJldHVybiBhO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdClyZXR1cm4gbmV3IEdjO3Rocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgYnJvd3NlclwiKTt9O0ZjLnByb3RvdHlwZS5QYz1mdW5jdGlvbigpe3JldHVybnt9fTtcbnZhciBHYz1mdW5jdGlvbigpe3RoaXMucGE9bmV3IFhEb21haW5SZXF1ZXN0O3RoaXMucmVhZHlTdGF0ZT0wO3RoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7dGhpcy5yZXNwb25zZVRleHQ9XCJcIjt0aGlzLnN0YXR1cz0tMTt0aGlzLnN0YXR1c1RleHQ9dGhpcy5yZXNwb25zZVhNTD1udWxsO3RoaXMucGEub25sb2FkPXIodGhpcy5EZSx0aGlzKTt0aGlzLnBhLm9uZXJyb3I9cih0aGlzLnlkLHRoaXMpO3RoaXMucGEub25wcm9ncmVzcz1yKHRoaXMuRWUsdGhpcyk7dGhpcy5wYS5vbnRpbWVvdXQ9cih0aGlzLkZlLHRoaXMpfTtoPUdjLnByb3RvdHlwZTtoLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWMmJiFjKXRocm93IEVycm9yKFwiT25seSBhc3luYyByZXF1ZXN0cyBhcmUgc3VwcG9ydGVkLlwiKTt0aGlzLnBhLm9wZW4oYSxiKX07XG5oLnNlbmQ9ZnVuY3Rpb24oYSl7aWYoYSlpZihcInN0cmluZ1wiPT10eXBlb2YgYSl0aGlzLnBhLnNlbmQoYSk7ZWxzZSB0aHJvdyBFcnJvcihcIk9ubHkgc3RyaW5nIGRhdGEgaXMgc3VwcG9ydGVkXCIpO2Vsc2UgdGhpcy5wYS5zZW5kKCl9O2guYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnBhLmFib3J0KCl9O2guc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbigpe307aC5EZT1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTIwMDt0aGlzLnJlc3BvbnNlVGV4dD10aGlzLnBhLnJlc3BvbnNlVGV4dDtIYyh0aGlzLDQpfTtoLnlkPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9NTAwO3RoaXMucmVzcG9uc2VUZXh0PVwiXCI7SGModGhpcyw0KX07aC5GZT1mdW5jdGlvbigpe3RoaXMueWQoKX07aC5FZT1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTIwMDtIYyh0aGlzLDEpfTt2YXIgSGM9ZnVuY3Rpb24oYSxiKXthLnJlYWR5U3RhdGU9YjtpZihhLm9ucmVhZHlzdGF0ZWNoYW5nZSlhLm9ucmVhZHlzdGF0ZWNoYW5nZSgpfTt2YXIgSmM9ZnVuY3Rpb24oKXt0aGlzLm1hPVwiXCI7dGhpcy5lZT1JY307SmMucHJvdG90eXBlLmJjPSEwO0pjLnByb3RvdHlwZS5XYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hfTtKYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVIdG1se1wiK3RoaXMubWErXCJ9XCJ9O3ZhciBLYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgSmMmJmEuY29uc3RydWN0b3I9PT1KYyYmYS5lZT09PUljKXJldHVybiBhLm1hO3hhKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZUh0bWxcIn0sSWM9e307SmMucHJvdG90eXBlLk1lPWZ1bmN0aW9uKGEpe3RoaXMubWE9YTtyZXR1cm4gdGhpc307IWViJiYhQXx8QSYmOTw9TnVtYmVyKG1iKXx8ZWImJkIoXCIxLjkuMVwiKTtBJiZCKFwiOVwiKTt2YXIgTWM9ZnVuY3Rpb24oYSxiKXtOYShiLGZ1bmN0aW9uKGIsZCl7XCJzdHlsZVwiPT1kP2Euc3R5bGUuY3NzVGV4dD1iOlwiY2xhc3NcIj09ZD9hLmNsYXNzTmFtZT1iOlwiZm9yXCI9PWQ/YS5odG1sRm9yPWI6TGMuaGFzT3duUHJvcGVydHkoZCk/YS5zZXRBdHRyaWJ1dGUoTGNbZF0sYik6MD09ZC5sYXN0SW5kZXhPZihcImFyaWEtXCIsMCl8fDA9PWQubGFzdEluZGV4T2YoXCJkYXRhLVwiLDApP2Euc2V0QXR0cmlidXRlKGQsYik6YVtkXT1ifSl9LExjPXtjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNvbHNwYW46XCJjb2xTcGFuXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGhlaWdodDpcImhlaWdodFwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLG5vbmNlOlwibm9uY2VcIixyb2xlOlwicm9sZVwiLHJvd3NwYW46XCJyb3dTcGFuXCIsdHlwZTpcInR5cGVcIix1c2VtYXA6XCJ1c2VNYXBcIix2YWxpZ246XCJ2QWxpZ25cIix3aWR0aDpcIndpZHRoXCJ9O3ZhciBOYz1mdW5jdGlvbihhLGIsYyl7dGhpcy5RZT1jO3RoaXMub2U9YTt0aGlzLmVmPWI7dGhpcy5mYz0wO3RoaXMuWmI9bnVsbH07TmMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhOzA8dGhpcy5mYz8odGhpcy5mYy0tLGE9dGhpcy5aYix0aGlzLlpiPWEubmV4dCxhLm5leHQ9bnVsbCk6YT10aGlzLm9lKCk7cmV0dXJuIGF9O05jLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYSl7dGhpcy5lZihhKTt0aGlzLmZjPHRoaXMuUWUmJih0aGlzLmZjKyssYS5uZXh0PXRoaXMuWmIsdGhpcy5aYj1hKX07dmFyIE9jPWZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX0sUGMsUWM9ZnVuY3Rpb24oKXt2YXIgYT1sLk1lc3NhZ2VDaGFubmVsO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJiF6KFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3QsXG5hPXIoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYheihcIlRyaWRlbnRcIikmJiF6KFwiTVNJRVwiKSl7dmFyIGI9bmV3IGEsYz17fSxkPWM7Yi5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1jLm5leHQpe2M9Yy5uZXh0O3ZhciBhPWMucGQ7Yy5wZD1udWxsO2EoKX19O3JldHVybiBmdW5jdGlvbihhKXtkLm5leHQ9e3BkOmF9O2Q9ZC5uZXh0O2IucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXJldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpP1xuZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChhLDApfX07dmFyIFJjPWZ1bmN0aW9uKCl7dGhpcy55Yz10aGlzLk5hPW51bGx9LFRjPW5ldyBOYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2N9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKTtSYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9VGMuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLnljP3RoaXMueWMubmV4dD1jOih3KCF0aGlzLk5hKSx0aGlzLk5hPWMpO3RoaXMueWM9Y307UmMucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5OYSYmKGE9dGhpcy5OYSx0aGlzLk5hPXRoaXMuTmEubmV4dCx0aGlzLk5hfHwodGhpcy55Yz1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBTYz1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuSmM9bnVsbH07U2MucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuSmM9YTt0aGlzLnNjb3BlPWI7dGhpcy5uZXh0PW51bGx9O1xuU2MucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy5KYz1udWxsfTt2YXIgWWM9ZnVuY3Rpb24oYSxiKXtVY3x8VmMoKTtXY3x8KFVjKCksV2M9ITApO1hjLmFkZChhLGIpfSxVYyxWYz1mdW5jdGlvbigpe2lmKC0xIT1TdHJpbmcobC5Qcm9taXNlKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSl7dmFyIGE9bC5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtVYz1mdW5jdGlvbigpe2EudGhlbihaYyl9fWVsc2UgVWM9ZnVuY3Rpb24oKXt2YXIgYT1aYzshcShsLnNldEltbWVkaWF0ZSl8fGwuV2luZG93JiZsLldpbmRvdy5wcm90b3R5cGUmJiF6KFwiRWRnZVwiKSYmbC5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09bC5zZXRJbW1lZGlhdGU/KFBjfHwoUGM9UWMoKSksUGMoYSkpOmwuc2V0SW1tZWRpYXRlKGEpfX0sV2M9ITEsWGM9bmV3IFJjLFpjPWZ1bmN0aW9uKCl7Zm9yKHZhciBhO2E9WGMucmVtb3ZlKCk7KXt0cnl7YS5KYy5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpe09jKGIpfVRjLnB1dChhKX1XYz0hMX07dmFyICRjPWZ1bmN0aW9uKGEpe2EucHJvdG90eXBlLnRoZW49YS5wcm90b3R5cGUudGhlbjthLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMH0sYWQ9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChiKXtyZXR1cm4hMX19O3ZhciBDPWZ1bmN0aW9uKGEsYil7dGhpcy5NPTA7dGhpcy5uYT12b2lkIDA7dGhpcy5SYT10aGlzLmphPXRoaXMucz1udWxsO3RoaXMuWGI9dGhpcy5JYz0hMTtpZihhIT1iYSl0cnl7dmFyIGM9dGhpczthLmNhbGwoYixmdW5jdGlvbihhKXtiZChjLDIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIGNkKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goZSl7fWJkKGMsMyxhKX0pfWNhdGNoKGQpe2JkKHRoaXMsMyxkKX19LGRkPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLiRhPXRoaXMuRmE9dGhpcy5jaGlsZD1udWxsO3RoaXMub2I9ITF9O2RkLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLiRhPXRoaXMuRmE9dGhpcy5jaGlsZD1udWxsO3RoaXMub2I9ITF9O1xudmFyIGVkPW5ldyBOYyhmdW5jdGlvbigpe3JldHVybiBuZXcgZGR9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKSxmZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZWQuZ2V0KCk7ZC5GYT1hO2QuJGE9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sRD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQylyZXR1cm4gYTt2YXIgYj1uZXcgQyhiYSk7YmQoYiwyLGEpO3JldHVybiBifSxFPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe2MoYSl9KX0saGQ9ZnVuY3Rpb24oYSxiLGMpe2dkKGEsYixjLG51bGwpfHxZYyhqYShiLGEpKX0saWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGIpe3ZhciBjPWEubGVuZ3RoLGQ9W107aWYoYylmb3IodmFyIGU9ZnVuY3Rpb24oYSxlLGYpe2MtLTtkW2FdPWU/e3llOiEwLHZhbHVlOmZ9Ont5ZTohMSxyZWFzb246Zn07MD09YyYmYihkKX0sZj0wLGc7ZjxhLmxlbmd0aDtmKyspZz1hW2ZdLGhkKGcsamEoZSxmLCEwKSxcbmphKGUsZiwhMSkpO2Vsc2UgYihkKX0pfTtDLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiZBYShhLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKTtudWxsIT1iJiZBYShiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gamQodGhpcyxxKGEpP2E6bnVsbCxxKGIpP2I6bnVsbCxjKX07JGMoQyk7dmFyIGxkPWZ1bmN0aW9uKGEsYil7Yj1mZChiLGIsdm9pZCAwKTtiLm9iPSEwO2tkKGEsYik7cmV0dXJuIGF9O0MucHJvdG90eXBlLmM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gamQodGhpcyxudWxsLGEsYil9O0MucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXswPT10aGlzLk0mJlljKGZ1bmN0aW9uKCl7dmFyIGI9bmV3IGNkKGEpO21kKHRoaXMsYil9LHRoaXMpfTtcbnZhciBtZD1mdW5jdGlvbihhLGIpe2lmKDA9PWEuTSlpZihhLnMpe3ZhciBjPWEucztpZihjLmphKXtmb3IodmFyIGQ9MCxlPW51bGwsZj1udWxsLGc9Yy5qYTtnJiYoZy5vYnx8KGQrKyxnLmNoaWxkPT1hJiYoZT1nKSwhKGUmJjE8ZCkpKTtnPWcubmV4dCllfHwoZj1nKTtlJiYoMD09Yy5NJiYxPT1kP21kKGMsYik6KGY/KGQ9Zix3KGMuamEpLHcobnVsbCE9ZCksZC5uZXh0PT1jLlJhJiYoYy5SYT1kKSxkLm5leHQ9ZC5uZXh0Lm5leHQpOm5kKGMpLG9kKGMsZSwzLGIpKSl9YS5zPW51bGx9ZWxzZSBiZChhLDMsYil9LGtkPWZ1bmN0aW9uKGEsYil7YS5qYXx8MiE9YS5NJiYzIT1hLk18fHBkKGEpO3cobnVsbCE9Yi5GYSk7YS5SYT9hLlJhLm5leHQ9YjphLmphPWI7YS5SYT1ifSxqZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1mZChudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgQyhmdW5jdGlvbihhLGcpe2UuRmE9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaCh5KXtnKHkpfX06XG5hO2UuJGE9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7dm9pZCAwPT09ZSYmYiBpbnN0YW5jZW9mIGNkP2coYik6YShlKX1jYXRjaCh5KXtnKHkpfX06Z30pO2UuY2hpbGQucz1hO2tkKGEsZSk7cmV0dXJuIGUuY2hpbGR9O0MucHJvdG90eXBlLnJmPWZ1bmN0aW9uKGEpe3coMT09dGhpcy5NKTt0aGlzLk09MDtiZCh0aGlzLDIsYSl9O0MucHJvdG90eXBlLnNmPWZ1bmN0aW9uKGEpe3coMT09dGhpcy5NKTt0aGlzLk09MDtiZCh0aGlzLDMsYSl9O1xudmFyIGJkPWZ1bmN0aW9uKGEsYixjKXswPT1hLk0mJihhPT09YyYmKGI9MyxjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksYS5NPTEsZ2QoYyxhLnJmLGEuc2YsYSl8fChhLm5hPWMsYS5NPWIsYS5zPW51bGwscGQoYSksMyE9Ynx8YyBpbnN0YW5jZW9mIGNkfHxxZChhLGMpKSl9LGdkPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGEgaW5zdGFuY2VvZiBDKXJldHVybiBudWxsIT1iJiZBYShiLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKSxudWxsIT1jJiZBYShjLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKSxrZChhLGZkKGJ8fGJhLGN8fG51bGwsZCkpLCEwO2lmKGFkKGEpKXJldHVybiBhLnRoZW4oYixjLGQpLCEwO2lmKGdhKGEpKXRyeXt2YXIgZT1hLnRoZW47aWYocShlKSlyZXR1cm4gcmQoYSxcbmUsYixjLGQpLCEwfWNhdGNoKGYpe3JldHVybiBjLmNhbGwoZCxmKSwhMH1yZXR1cm4hMX0scmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saz1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGspfWNhdGNoKG4pe2sobil9fSxwZD1mdW5jdGlvbihhKXthLkljfHwoYS5JYz0hMCxZYyhhLnRlLGEpKX0sbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLmphJiYoYj1hLmphLGEuamE9Yi5uZXh0LGIubmV4dD1udWxsKTthLmphfHwoYS5SYT1udWxsKTtudWxsIT1iJiZ3KG51bGwhPWIuRmEpO3JldHVybiBifTtDLnByb3RvdHlwZS50ZT1mdW5jdGlvbigpe2Zvcih2YXIgYTthPW5kKHRoaXMpOylvZCh0aGlzLGEsdGhpcy5NLHRoaXMubmEpO3RoaXMuSWM9ITF9O1xudmFyIG9kPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDM9PWMmJmIuJGEmJiFiLm9iKWZvcig7YSYmYS5YYjthPWEucylhLlhiPSExO2lmKGIuY2hpbGQpYi5jaGlsZC5zPW51bGwsc2QoYixjLGQpO2Vsc2UgdHJ5e2Iub2I/Yi5GYS5jYWxsKGIuY29udGV4dCk6c2QoYixjLGQpfWNhdGNoKGUpe3RkLmNhbGwobnVsbCxlKX1lZC5wdXQoYil9LHNkPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuRmEuY2FsbChhLmNvbnRleHQsYyk6YS4kYSYmYS4kYS5jYWxsKGEuY29udGV4dCxjKX0scWQ9ZnVuY3Rpb24oYSxiKXthLlhiPSEwO1ljKGZ1bmN0aW9uKCl7YS5YYiYmdGQuY2FsbChudWxsLGIpfSl9LHRkPU9jLGNkPWZ1bmN0aW9uKGEpe3UuY2FsbCh0aGlzLGEpfTt0KGNkLHUpO2NkLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7LypcbiBQb3J0aW9ucyBvZiB0aGlzIGNvZGUgYXJlIGZyb20gTW9jaGlLaXQsIHJlY2VpdmVkIGJ5XG4gVGhlIENsb3N1cmUgQXV0aG9ycyB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIEFsbCBvdGhlciBjb2RlIGlzIENvcHlyaWdodFxuIDIwMDUtMjAwOSBUaGUgQ2xvc3VyZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuKi9cbnZhciB1ZD1mdW5jdGlvbihhLGIpe3RoaXMucGM9W107dGhpcy5IZD1hO3RoaXMuc2Q9Ynx8bnVsbDt0aGlzLnJiPXRoaXMuV2E9ITE7dGhpcy5uYT12b2lkIDA7dGhpcy5mZD10aGlzLmxkPXRoaXMuRGM9ITE7dGhpcy53Yz0wO3RoaXMucz1udWxsO3RoaXMuRWM9MH07dWQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtpZih0aGlzLldhKXRoaXMubmEgaW5zdGFuY2VvZiB1ZCYmdGhpcy5uYS5jYW5jZWwoKTtlbHNle2lmKHRoaXMucyl7dmFyIGI9dGhpcy5zO2RlbGV0ZSB0aGlzLnM7YT9iLmNhbmNlbChhKTooYi5FYy0tLDA+PWIuRWMmJmIuY2FuY2VsKCkpfXRoaXMuSGQ/dGhpcy5IZC5jYWxsKHRoaXMuc2QsdGhpcyk6dGhpcy5mZD0hMDt0aGlzLldhfHx2ZCh0aGlzLG5ldyB3ZCl9fTt1ZC5wcm90b3R5cGUucWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLkRjPSExO3hkKHRoaXMsYSxiKX07XG52YXIgeGQ9ZnVuY3Rpb24oYSxiLGMpe2EuV2E9ITA7YS5uYT1jO2EucmI9IWI7eWQoYSl9LEFkPWZ1bmN0aW9uKGEpe2lmKGEuV2Epe2lmKCFhLmZkKXRocm93IG5ldyB6ZDthLmZkPSExfX07dWQucHJvdG90eXBlLmNhbGxiYWNrPWZ1bmN0aW9uKGEpe0FkKHRoaXMpO0JkKGEpO3hkKHRoaXMsITAsYSl9O1xudmFyIHZkPWZ1bmN0aW9uKGEsYil7QWQoYSk7QmQoYik7eGQoYSwhMSxiKX0sQmQ9ZnVuY3Rpb24oYSl7dyghKGEgaW5zdGFuY2VvZiB1ZCksXCJBbiBleGVjdXRpb24gc2VxdWVuY2UgbWF5IG5vdCBiZSBpbml0aWF0ZWQgd2l0aCBhIGJsb2NraW5nIERlZmVycmVkLlwiKX0sRmQ9ZnVuY3Rpb24oYSl7dmFyIGI9Q2QoXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQuanM/b25sb2FkPVwiK0RkKTtFZChiLG51bGwsYSx2b2lkIDApfSxFZD1mdW5jdGlvbihhLGIsYyxkKXt3KCFhLmxkLFwiQmxvY2tpbmcgRGVmZXJyZWRzIGNhbiBub3QgYmUgcmUtdXNlZFwiKTthLnBjLnB1c2goW2IsYyxkXSk7YS5XYSYmeWQoYSl9O3VkLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9bmV3IEMoZnVuY3Rpb24oYSxiKXtkPWE7ZT1ifSk7RWQodGhpcyxkLGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiB3ZD9mLmNhbmNlbCgpOmUoYSl9KTtyZXR1cm4gZi50aGVuKGEsYixjKX07XG4kYyh1ZCk7XG52YXIgR2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIEVhKGEucGMsZnVuY3Rpb24oYSl7cmV0dXJuIHEoYVsxXSl9KX0seWQ9ZnVuY3Rpb24oYSl7aWYoYS53YyYmYS5XYSYmR2QoYSkpe3ZhciBiPWEud2MsYz1IZFtiXTtjJiYobC5jbGVhclRpbWVvdXQoYy5zYiksZGVsZXRlIEhkW2JdKTthLndjPTB9YS5zJiYoYS5zLkVjLS0sZGVsZXRlIGEucyk7Zm9yKHZhciBiPWEubmEsZD1jPSExO2EucGMubGVuZ3RoJiYhYS5EYzspe3ZhciBlPWEucGMuc2hpZnQoKSxmPWVbMF0sZz1lWzFdLGU9ZVsyXTtpZihmPWEucmI/ZzpmKXRyeXt2YXIgaz1mLmNhbGwoZXx8YS5zZCxiKTt2b2lkIDAhPT1rJiYoYS5yYj1hLnJiJiYoaz09Ynx8ayBpbnN0YW5jZW9mIEVycm9yKSxhLm5hPWI9ayk7aWYoYWQoYil8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBsLlByb21pc2UmJmIgaW5zdGFuY2VvZiBsLlByb21pc2UpZD0hMCxhLkRjPSEwfWNhdGNoKG4pe2I9bixhLnJiPSEwLEdkKGEpfHwoYz0hMCl9fWEubmE9YjtkJiZcbihrPXIoYS5xZCxhLCEwKSxkPXIoYS5xZCxhLCExKSxiIGluc3RhbmNlb2YgdWQ/KEVkKGIsayxkKSxiLmxkPSEwKTpiLnRoZW4oayxkKSk7YyYmKGI9bmV3IElkKGIpLEhkW2Iuc2JdPWIsYS53Yz1iLnNiKX0semQ9ZnVuY3Rpb24oKXt1LmNhbGwodGhpcyl9O3QoemQsdSk7emQucHJvdG90eXBlLm1lc3NhZ2U9XCJEZWZlcnJlZCBoYXMgYWxyZWFkeSBmaXJlZFwiO3pkLnByb3RvdHlwZS5uYW1lPVwiQWxyZWFkeUNhbGxlZEVycm9yXCI7dmFyIHdkPWZ1bmN0aW9uKCl7dS5jYWxsKHRoaXMpfTt0KHdkLHUpO3dkLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgd2FzIGNhbmNlbGVkXCI7d2QucHJvdG90eXBlLm5hbWU9XCJDYW5jZWxlZEVycm9yXCI7dmFyIElkPWZ1bmN0aW9uKGEpe3RoaXMuc2I9bC5zZXRUaW1lb3V0KHIodGhpcy5xZix0aGlzKSwwKTt0aGlzLk89YX07XG5JZC5wcm90b3R5cGUucWY9ZnVuY3Rpb24oKXt3KEhkW3RoaXMuc2JdLFwiQ2Fubm90IHRocm93IGFuIGVycm9yIHRoYXQgaXMgbm90IHNjaGVkdWxlZC5cIik7ZGVsZXRlIEhkW3RoaXMuc2JdO3Rocm93IHRoaXMuTzt9O3ZhciBIZD17fTt2YXIgQ2Q9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG5jO2IuamM9YTtyZXR1cm4gSmQoYil9LEpkPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9Yi5kb2N1bWVudHx8ZG9jdW1lbnQsZDthIGluc3RhbmNlb2YgbmMmJmEuY29uc3RydWN0b3I9PT1uYyYmYS5oZT09PW1jP2Q9YS5qYzooeGEoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKSxkPVwidHlwZV9lcnJvcjpUcnVzdGVkUmVzb3VyY2VVcmxcIik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTthPXtPZDplLEtiOnZvaWQgMH07dmFyIGY9bmV3IHVkKEtkLGEpLGc9bnVsbCxrPW51bGwhPWIudGltZW91dD9iLnRpbWVvdXQ6NUUzOzA8ayYmKGc9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtMZChlLCEwKTt2ZChmLG5ldyBNZCgxLFwiVGltZW91dCByZWFjaGVkIGZvciBsb2FkaW5nIHNjcmlwdCBcIitkKSl9LGspLGEuS2I9Zyk7ZS5vbmxvYWQ9XG5lLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2UucmVhZHlTdGF0ZSYmXCJsb2FkZWRcIiE9ZS5yZWFkeVN0YXRlJiZcImNvbXBsZXRlXCIhPWUucmVhZHlTdGF0ZXx8KExkKGUsYi5EZnx8ITEsZyksZi5jYWxsYmFjayhudWxsKSl9O2Uub25lcnJvcj1mdW5jdGlvbigpe0xkKGUsITAsZyk7dmQoZixuZXcgTWQoMCxcIkVycm9yIHdoaWxlIGxvYWRpbmcgc2NyaXB0IFwiK2QpKX07YT1iLmF0dHJpYnV0ZXN8fHt9O1VhKGEse3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixjaGFyc2V0OlwiVVRGLThcIixzcmM6ZH0pO01jKGUsYSk7TmQoYykuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGZ9LE5kPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPShhfHxkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIRUFEXCIpKSYmMCE9Yi5sZW5ndGg/YlswXTphLmRvY3VtZW50RWxlbWVudH0sS2Q9ZnVuY3Rpb24oKXtpZih0aGlzJiZ0aGlzLk9kKXt2YXIgYT10aGlzLk9kO2EmJlwiU0NSSVBUXCI9PWEudGFnTmFtZSYmXG5MZChhLCEwLHRoaXMuS2IpfX0sTGQ9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJmwuY2xlYXJUaW1lb3V0KGMpO2Eub25sb2FkPWJhO2Eub25lcnJvcj1iYTthLm9ucmVhZHlzdGF0ZWNoYW5nZT1iYTtiJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwwKX0sTWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIkpzbG9hZGVyIGVycm9yIChjb2RlICNcIithK1wiKVwiO2ImJihjKz1cIjogXCIrYik7dS5jYWxsKHRoaXMsYyk7dGhpcy5jb2RlPWF9O3QoTWQsdSk7dmFyIE9kPWZ1bmN0aW9uKCl7SGIuY2FsbCh0aGlzKTt0aGlzLmFhPW5ldyBPYih0aGlzKTt0aGlzLmtlPXRoaXM7dGhpcy5WYz1udWxsfTt0KE9kLEhiKTtPZC5wcm90b3R5cGVbS2JdPSEwO2g9T2QucHJvdG90eXBlO2guYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyxkKXtVYih0aGlzLGEsYixjLGQpfTtoLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7Y2ModGhpcyxhLGIsYyxkKX07XG5oLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7UGQodGhpcyk7dmFyIGIsYz10aGlzLlZjO2lmKGMpe2I9W107Zm9yKHZhciBkPTE7YztjPWMuVmMpYi5wdXNoKGMpLHcoMUUzPisrZCxcImluZmluaXRlIGxvb3BcIil9Yz10aGlzLmtlO2Q9YS50eXBlfHxhO2lmKHAoYSkpYT1uZXcgSWIoYSxjKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBJYilhLnRhcmdldD1hLnRhcmdldHx8YztlbHNle3ZhciBlPWE7YT1uZXcgSWIoZCxjKTtVYShhLGUpfXZhciBlPSEwLGY7aWYoYilmb3IodmFyIGc9Yi5sZW5ndGgtMTshYS5iYiYmMDw9ZztnLS0pZj1hLmN1cnJlbnRUYXJnZXQ9YltnXSxlPVFkKGYsZCwhMCxhKSYmZTthLmJifHwoZj1hLmN1cnJlbnRUYXJnZXQ9YyxlPVFkKGYsZCwhMCxhKSYmZSxhLmJifHwoZT1RZChmLGQsITEsYSkmJmUpKTtpZihiKWZvcihnPTA7IWEuYmImJmc8Yi5sZW5ndGg7ZysrKWY9YS5jdXJyZW50VGFyZ2V0PWJbZ10sZT1RZChmLGQsITEsYSkmJmU7cmV0dXJuIGV9O1xuaC5UYT1mdW5jdGlvbigpe09kLmpkLlRhLmNhbGwodGhpcyk7aWYodGhpcy5hYSl7dmFyIGE9dGhpcy5hYSxiPTAsYztmb3IoYyBpbiBhLkMpe2Zvcih2YXIgZD1hLkNbY10sZT0wO2U8ZC5sZW5ndGg7ZSsrKSsrYixOYihkW2VdKTtkZWxldGUgYS5DW2NdO2EuTGItLX19dGhpcy5WYz1udWxsfTtoLmxpc3Rlbj1mdW5jdGlvbihhLGIsYyxkKXtQZCh0aGlzKTtyZXR1cm4gdGhpcy5hYS5hZGQoU3RyaW5nKGEpLGIsITEsYyxkKX07XG52YXIgYmM9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLmFhLmFkZChTdHJpbmcoYiksYywhMCxkLGUpfSxRZD1mdW5jdGlvbihhLGIsYyxkKXtiPWEuYWEuQ1tTdHJpbmcoYildO2lmKCFiKXJldHVybiEwO2I9Yi5jb25jYXQoKTtmb3IodmFyIGU9ITAsZj0wO2Y8Yi5sZW5ndGg7KytmKXt2YXIgZz1iW2ZdO2lmKGcmJiFnLmhiJiZnLmNhcHR1cmU9PWMpe3ZhciBrPWcubGlzdGVuZXIsbj1nLllifHxnLnNyYztnLlBiJiZRYihhLmFhLGcpO2U9ITEhPT1rLmNhbGwobixkKSYmZX19cmV0dXJuIGUmJjAhPWQuTmR9O09kLnByb3RvdHlwZS5LYz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5hYS5LYyhTdHJpbmcoYSksYixjLGQpfTt2YXIgUGQ9ZnVuY3Rpb24oYSl7dyhhLmFhLFwiRXZlbnQgdGFyZ2V0IGlzIG5vdCBpbml0aWFsaXplZC4gRGlkIHlvdSBjYWxsIHRoZSBzdXBlcmNsYXNzIChnb29nLmV2ZW50cy5FdmVudFRhcmdldCkgY29uc3RydWN0b3I/XCIpfTt2YXIgUmQ9XCJTdG9wSXRlcmF0aW9uXCJpbiBsP2wuU3RvcEl0ZXJhdGlvbjp7bWVzc2FnZTpcIlN0b3BJdGVyYXRpb25cIixzdGFjazpcIlwifSxTZD1mdW5jdGlvbigpe307U2QucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aHJvdyBSZDt9O1NkLnByb3RvdHlwZS5qZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgVGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhPXt9O3RoaXMudz1bXTt0aGlzLm5iPXRoaXMubz0wO3ZhciBjPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxjKXtpZihjJTIpdGhyb3cgRXJyb3IoXCJVbmV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50c1wiKTtmb3IodmFyIGQ9MDtkPGM7ZCs9Mil0aGlzLnNldChhcmd1bWVudHNbZF0sYXJndW1lbnRzW2QrMV0pfWVsc2UgYSYmdGhpcy5hZGRBbGwoYSl9O1RkLnByb3RvdHlwZS5YPWZ1bmN0aW9uKCl7VWQodGhpcyk7Zm9yKHZhciBhPVtdLGI9MDtiPHRoaXMudy5sZW5ndGg7YisrKWEucHVzaCh0aGlzLmJhW3RoaXMud1tiXV0pO3JldHVybiBhfTtUZC5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtVZCh0aGlzKTtyZXR1cm4gdGhpcy53LmNvbmNhdCgpfTtUZC5wcm90b3R5cGUucGI9ZnVuY3Rpb24oYSl7cmV0dXJuIFZkKHRoaXMuYmEsYSl9O1xuVGQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gVmQodGhpcy5iYSxhKT8oZGVsZXRlIHRoaXMuYmFbYV0sdGhpcy5vLS0sdGhpcy5uYisrLHRoaXMudy5sZW5ndGg+Mip0aGlzLm8mJlVkKHRoaXMpLCEwKTohMX07dmFyIFVkPWZ1bmN0aW9uKGEpe2lmKGEubyE9YS53Lmxlbmd0aCl7Zm9yKHZhciBiPTAsYz0wO2I8YS53Lmxlbmd0aDspe3ZhciBkPWEud1tiXTtWZChhLmJhLGQpJiYoYS53W2MrK109ZCk7YisrfWEudy5sZW5ndGg9Y31pZihhLm8hPWEudy5sZW5ndGgpe2Zvcih2YXIgZT17fSxjPWI9MDtiPGEudy5sZW5ndGg7KWQ9YS53W2JdLFZkKGUsZCl8fChhLndbYysrXT1kLGVbZF09MSksYisrO2Eudy5sZW5ndGg9Y319O2g9VGQucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFZkKHRoaXMuYmEsYSk/dGhpcy5iYVthXTpifTtcbmguc2V0PWZ1bmN0aW9uKGEsYil7VmQodGhpcy5iYSxhKXx8KHRoaXMubysrLHRoaXMudy5wdXNoKGEpLHRoaXMubmIrKyk7dGhpcy5iYVthXT1ifTtoLmFkZEFsbD1mdW5jdGlvbihhKXt2YXIgYjthIGluc3RhbmNlb2YgVGQ/KGI9YS5rYSgpLGE9YS5YKCkpOihiPVBhKGEpLGE9T2EoYSkpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuc2V0KGJbY10sYVtjXSl9O2guZm9yRWFjaD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmthKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLGY9dGhpcy5nZXQoZSk7YS5jYWxsKGIsZixlLHRoaXMpfX07aC5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVGQodGhpcyl9O1xuaC5qZT1mdW5jdGlvbihhKXtVZCh0aGlzKTt2YXIgYj0wLGM9dGhpcy5uYixkPXRoaXMsZT1uZXcgU2Q7ZS5uZXh0PWZ1bmN0aW9uKCl7aWYoYyE9ZC5uYil0aHJvdyBFcnJvcihcIlRoZSBtYXAgaGFzIGNoYW5nZWQgc2luY2UgdGhlIGl0ZXJhdG9yIHdhcyBjcmVhdGVkXCIpO2lmKGI+PWQudy5sZW5ndGgpdGhyb3cgUmQ7dmFyIGU9ZC53W2IrK107cmV0dXJuIGE/ZTpkLmJhW2VdfTtyZXR1cm4gZX07dmFyIFZkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfTt2YXIgV2Q9ZnVuY3Rpb24oYSl7aWYoYS5YJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLlgpcmV0dXJuIGEuWCgpO2lmKHAoYSkpcmV0dXJuIGEuc3BsaXQoXCJcIik7aWYoZWEoYSkpe2Zvcih2YXIgYj1bXSxjPWEubGVuZ3RoLGQ9MDtkPGM7ZCsrKWIucHVzaChhW2RdKTtyZXR1cm4gYn1yZXR1cm4gT2EoYSl9LFhkPWZ1bmN0aW9uKGEpe2lmKGEua2EmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEua2EpcmV0dXJuIGEua2EoKTtpZighYS5YfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlgpe2lmKGVhKGEpfHxwKGEpKXt2YXIgYj1bXTthPWEubGVuZ3RoO2Zvcih2YXIgYz0wO2M8YTtjKyspYi5wdXNoKGMpO3JldHVybiBifXJldHVybiBQYShhKX19LFlkPWZ1bmN0aW9uKGEsYil7aWYoYS5mb3JFYWNoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmZvckVhY2gpYS5mb3JFYWNoKGIsdm9pZCAwKTtlbHNlIGlmKGVhKGEpfHxwKGEpKXgoYSxiLHZvaWQgMCk7ZWxzZSBmb3IodmFyIGM9WGQoYSksZD1XZChhKSxlPVxuZC5sZW5ndGgsZj0wO2Y8ZTtmKyspYi5jYWxsKHZvaWQgMCxkW2ZdLGMmJmNbZl0sYSl9O3ZhciBaZD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucmVzZXQoYSxiLGMsZCxlKX07WmQucHJvdG90eXBlLnVkPW51bGw7dmFyICRkPTA7WmQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGEsYixjLGQsZSl7XCJudW1iZXJcIj09dHlwZW9mIGV8fCRkKys7ZHx8a2EoKTt0aGlzLndiPWE7dGhpcy5WZT1iO2RlbGV0ZSB0aGlzLnVkfTtaZC5wcm90b3R5cGUuUmQ9ZnVuY3Rpb24oYSl7dGhpcy53Yj1hfTt2YXIgYWU9ZnVuY3Rpb24oYSl7dGhpcy5XZT1hO3RoaXMuemQ9dGhpcy5GYz10aGlzLndiPXRoaXMucz1udWxsfSxiZT1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1hO3RoaXMudmFsdWU9Yn07YmUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07dmFyIGNlPW5ldyBiZShcIlNFVkVSRVwiLDFFMyksZGU9bmV3IGJlKFwiQ09ORklHXCIsNzAwKSxlZT1uZXcgYmUoXCJGSU5FXCIsNTAwKTthZS5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc307YWUucHJvdG90eXBlLlJkPWZ1bmN0aW9uKGEpe3RoaXMud2I9YX07dmFyIGZlPWZ1bmN0aW9uKGEpe2lmKGEud2IpcmV0dXJuIGEud2I7aWYoYS5zKXJldHVybiBmZShhLnMpO3hhKFwiUm9vdCBsb2dnZXIgaGFzIG5vIGxldmVsIHNldC5cIik7cmV0dXJuIG51bGx9O1xuYWUucHJvdG90eXBlLmxvZz1mdW5jdGlvbihhLGIsYyl7aWYoYS52YWx1ZT49ZmUodGhpcykudmFsdWUpZm9yKHEoYikmJihiPWIoKSksYT1uZXcgWmQoYSxTdHJpbmcoYiksdGhpcy5XZSksYyYmKGEudWQ9YyksYz1cImxvZzpcIithLlZlLGwuY29uc29sZSYmKGwuY29uc29sZS50aW1lU3RhbXA/bC5jb25zb2xlLnRpbWVTdGFtcChjKTpsLmNvbnNvbGUubWFya1RpbWVsaW5lJiZsLmNvbnNvbGUubWFya1RpbWVsaW5lKGMpKSxsLm1zV3JpdGVQcm9maWxlck1hcmsmJmwubXNXcml0ZVByb2ZpbGVyTWFyayhjKSxjPXRoaXM7Yzspe3ZhciBkPWMsZT1hO2lmKGQuemQpZm9yKHZhciBmPTA7Yj1kLnpkW2ZdO2YrKyliKGUpO2M9Yy5nZXRQYXJlbnQoKX19O1xudmFyIGdlPXt9LGhlPW51bGwsaWU9ZnVuY3Rpb24oYSl7aGV8fChoZT1uZXcgYWUoXCJcIiksZ2VbXCJcIl09aGUsaGUuUmQoZGUpKTt2YXIgYjtpZighKGI9Z2VbYV0pKXtiPW5ldyBhZShhKTt2YXIgYz1hLmxhc3RJbmRleE9mKFwiLlwiKSxkPWEuc3Vic3RyKGMrMSksYz1pZShhLnN1YnN0cigwLGMpKTtjLkZjfHwoYy5GYz17fSk7Yy5GY1tkXT1iO2Iucz1jO2dlW2FdPWJ9cmV0dXJuIGJ9O3ZhciBGPWZ1bmN0aW9uKGEsYil7YSYmYS5sb2coZWUsYix2b2lkIDApfTt2YXIgamU9ZnVuY3Rpb24oYSxiLGMpe2lmKHEoYSkpYyYmKGE9cihhLGMpKTtlbHNlIGlmKGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGFuZGxlRXZlbnQpYT1yKGEuaGFuZGxlRXZlbnQsYSk7ZWxzZSB0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7cmV0dXJuIDIxNDc0ODM2NDc8TnVtYmVyKGIpPy0xOmwuc2V0VGltZW91dChhLGJ8fDApfSxrZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3JldHVybihuZXcgQyhmdW5jdGlvbihjLGQpe2I9amUoZnVuY3Rpb24oKXtjKHZvaWQgMCl9LGEpOy0xPT1iJiZkKEVycm9yKFwiRmFpbGVkIHRvIHNjaGVkdWxlIHRpbWVyLlwiKSl9KSkuYyhmdW5jdGlvbihhKXtsLmNsZWFyVGltZW91dChiKTt0aHJvdyBhO30pfTt2YXIgbGU9L14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKFtcXHNcXFNdKikpPyQvLG1lPWZ1bmN0aW9uKGEsYil7aWYoYSl7YT1hLnNwbGl0KFwiJlwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5pbmRleE9mKFwiPVwiKSxlLGY9bnVsbDswPD1kPyhlPWFbY10uc3Vic3RyaW5nKDAsZCksZj1hW2NdLnN1YnN0cmluZyhkKzEpKTplPWFbY107YihlLGY/ZGVjb2RlVVJJQ29tcG9uZW50KGYucmVwbGFjZSgvXFwrL2csXCIgXCIpKTpcIlwiKX19fTt2YXIgRz1mdW5jdGlvbihhKXtPZC5jYWxsKHRoaXMpO3RoaXMuaGVhZGVycz1uZXcgVGQ7dGhpcy5BYz1hfHxudWxsO3RoaXMucWE9ITE7dGhpcy56Yz10aGlzLmI9bnVsbDt0aGlzLnZiPXRoaXMuRmQ9dGhpcy5lYz1cIlwiO3RoaXMuQ2E9dGhpcy5OYz10aGlzLmNjPXRoaXMuSGM9ITE7dGhpcy5rYj0wO3RoaXMudWM9bnVsbDt0aGlzLk1kPVwiXCI7dGhpcy54Yz10aGlzLmNmPXRoaXMuYWU9ITF9O3QoRyxPZCk7dmFyIG5lPUcucHJvdG90eXBlLG9lPWllKFwiZ29vZy5uZXQuWGhySW9cIik7bmUuVD1vZTt2YXIgcGU9L15odHRwcz8kL2kscWU9W1wiUE9TVFwiLFwiUFVUXCJdO1xuRy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmIpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5lYytcIjsgbmV3VXJpPVwiK2EpO2I9Yj9iLnRvVXBwZXJDYXNlKCk6XCJHRVRcIjt0aGlzLmVjPWE7dGhpcy52Yj1cIlwiO3RoaXMuRmQ9Yjt0aGlzLkhjPSExO3RoaXMucWE9ITA7dGhpcy5iPXRoaXMuQWM/dGhpcy5BYy5SYigpOkNjLlJiKCk7dGhpcy56Yz10aGlzLkFjP0JjKHRoaXMuQWMpOkJjKENjKTt0aGlzLmIub25yZWFkeXN0YXRlY2hhbmdlPXIodGhpcy5KZCx0aGlzKTt0aGlzLmNmJiZcIm9ucHJvZ3Jlc3NcImluIHRoaXMuYiYmKHRoaXMuYi5vbnByb2dyZXNzPXIoZnVuY3Rpb24oYSl7dGhpcy5JZChhLCEwKX0sdGhpcyksdGhpcy5iLnVwbG9hZCYmKHRoaXMuYi51cGxvYWQub25wcm9ncmVzcz1yKHRoaXMuSWQsdGhpcykpKTt0cnl7Rih0aGlzLlQscmUodGhpcyxcIk9wZW5pbmcgWGhyXCIpKSxcbnRoaXMuTmM9ITAsdGhpcy5iLm9wZW4oYixTdHJpbmcoYSksITApLHRoaXMuTmM9ITF9Y2F0Y2goZil7Rih0aGlzLlQscmUodGhpcyxcIkVycm9yIG9wZW5pbmcgWGhyOiBcIitmLm1lc3NhZ2UpKTt0aGlzLk8oNSxmKTtyZXR1cm59YT1jfHxcIlwiO3ZhciBlPXRoaXMuaGVhZGVycy5jbG9uZSgpO2QmJllkKGQsZnVuY3Rpb24oYSxiKXtlLnNldChiLGEpfSk7ZD1HYShlLmthKCkpO2M9bC5Gb3JtRGF0YSYmYSBpbnN0YW5jZW9mIGwuRm9ybURhdGE7IUhhKHFlLGIpfHxkfHxjfHxlLnNldChcIkNvbnRlbnQtVHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7dGhpcy5iLnNldFJlcXVlc3RIZWFkZXIoYixhKX0sdGhpcyk7dGhpcy5NZCYmKHRoaXMuYi5yZXNwb25zZVR5cGU9dGhpcy5NZCk7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYiYmdGhpcy5iLndpdGhDcmVkZW50aWFscyE9PXRoaXMuYWUmJih0aGlzLmIud2l0aENyZWRlbnRpYWxzPVxudGhpcy5hZSk7dHJ5e3NlKHRoaXMpLDA8dGhpcy5rYiYmKHRoaXMueGM9dGUodGhpcy5iKSxGKHRoaXMuVCxyZSh0aGlzLFwiV2lsbCBhYm9ydCBhZnRlciBcIit0aGlzLmtiK1wibXMgaWYgaW5jb21wbGV0ZSwgeGhyMiBcIit0aGlzLnhjKSksdGhpcy54Yz8odGhpcy5iLnRpbWVvdXQ9dGhpcy5rYix0aGlzLmIub250aW1lb3V0PXIodGhpcy5LYix0aGlzKSk6dGhpcy51Yz1qZSh0aGlzLktiLHRoaXMua2IsdGhpcykpLEYodGhpcy5ULHJlKHRoaXMsXCJTZW5kaW5nIHJlcXVlc3RcIikpLHRoaXMuY2M9ITAsdGhpcy5iLnNlbmQoYSksdGhpcy5jYz0hMX1jYXRjaChmKXtGKHRoaXMuVCxyZSh0aGlzLFwiU2VuZCBlcnJvcjogXCIrZi5tZXNzYWdlKSksdGhpcy5PKDUsZil9fTt2YXIgdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEEmJkIoOSkmJmZhKGEudGltZW91dCkmJnZvaWQgMCE9PWEub250aW1lb3V0fSxGYT1mdW5jdGlvbihhKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT1hLnRvTG93ZXJDYXNlKCl9O1xuRy5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgYWEmJnRoaXMuYiYmKHRoaXMudmI9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5rYitcIm1zLCBhYm9ydGluZ1wiLEYodGhpcy5ULHJlKHRoaXMsdGhpcy52YikpLHRoaXMuZGlzcGF0Y2hFdmVudChcInRpbWVvdXRcIiksdGhpcy5hYm9ydCg4KSl9O0cucHJvdG90eXBlLk89ZnVuY3Rpb24oYSxiKXt0aGlzLnFhPSExO3RoaXMuYiYmKHRoaXMuQ2E9ITAsdGhpcy5iLmFib3J0KCksdGhpcy5DYT0hMSk7dGhpcy52Yj1iO3VlKHRoaXMpO3ZlKHRoaXMpfTt2YXIgdWU9ZnVuY3Rpb24oYSl7YS5IY3x8KGEuSGM9ITAsYS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksYS5kaXNwYXRjaEV2ZW50KFwiZXJyb3JcIikpfTtcbkcucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLnFhJiYoRih0aGlzLlQscmUodGhpcyxcIkFib3J0aW5nXCIpKSx0aGlzLnFhPSExLHRoaXMuQ2E9ITAsdGhpcy5iLmFib3J0KCksdGhpcy5DYT0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJhYm9ydFwiKSx2ZSh0aGlzKSl9O0cucHJvdG90eXBlLlRhPWZ1bmN0aW9uKCl7dGhpcy5iJiYodGhpcy5xYSYmKHRoaXMucWE9ITEsdGhpcy5DYT0hMCx0aGlzLmIuYWJvcnQoKSx0aGlzLkNhPSExKSx2ZSh0aGlzLCEwKSk7Ry5qZC5UYS5jYWxsKHRoaXMpfTtHLnByb3RvdHlwZS5KZD1mdW5jdGlvbigpe3RoaXMuaXNEaXNwb3NlZCgpfHwodGhpcy5OY3x8dGhpcy5jY3x8dGhpcy5DYT93ZSh0aGlzKTp0aGlzLiRlKCkpfTtHLnByb3RvdHlwZS4kZT1mdW5jdGlvbigpe3dlKHRoaXMpfTtcbnZhciB3ZT1mdW5jdGlvbihhKXtpZihhLnFhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYWEpaWYoYS56Y1sxXSYmND09eGUoYSkmJjI9PXllKGEpKUYoYS5ULHJlKGEsXCJMb2NhbCByZXF1ZXN0IGVycm9yIGRldGVjdGVkIGFuZCBpZ25vcmVkXCIpKTtlbHNlIGlmKGEuY2MmJjQ9PXhlKGEpKWplKGEuSmQsMCxhKTtlbHNlIGlmKGEuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09eGUoYSkpe0YoYS5ULHJlKGEsXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTthLnFhPSExO3RyeXt2YXIgYj15ZShhKSxjO2E6c3dpdGNoKGIpe2Nhc2UgMjAwOmNhc2UgMjAxOmNhc2UgMjAyOmNhc2UgMjA0OmNhc2UgMjA2OmNhc2UgMzA0OmNhc2UgMTIyMzpjPSEwO2JyZWFrIGE7ZGVmYXVsdDpjPSExfXZhciBkO2lmKCEoZD1jKSl7dmFyIGU7aWYoZT0wPT09Yil7dmFyIGY9U3RyaW5nKGEuZWMpLm1hdGNoKGxlKVsxXXx8bnVsbDtpZighZiYmbC5zZWxmJiZsLnNlbGYubG9jYXRpb24pdmFyIGc9bC5zZWxmLmxvY2F0aW9uLnByb3RvY29sLFxuZj1nLnN1YnN0cigwLGcubGVuZ3RoLTEpO2U9IXBlLnRlc3QoZj9mLnRvTG93ZXJDYXNlKCk6XCJcIil9ZD1lfWlmKGQpYS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksYS5kaXNwYXRjaEV2ZW50KFwic3VjY2Vzc1wiKTtlbHNle3ZhciBrO3RyeXtrPTI8eGUoYSk/YS5iLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChuKXtGKGEuVCxcIkNhbiBub3QgZ2V0IHN0YXR1czogXCIrbi5tZXNzYWdlKSxrPVwiXCJ9YS52Yj1rK1wiIFtcIit5ZShhKStcIl1cIjt1ZShhKX19ZmluYWxseXt2ZShhKX19fTtHLnByb3RvdHlwZS5JZD1mdW5jdGlvbihhLGIpe3coXCJwcm9ncmVzc1wiPT09YS50eXBlLFwiZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgcmF3IFhIUiBwcm9ncmVzcy5cIik7dGhpcy5kaXNwYXRjaEV2ZW50KHplKGEsXCJwcm9ncmVzc1wiKSk7dGhpcy5kaXNwYXRjaEV2ZW50KHplKGEsYj9cImRvd25sb2FkcHJvZ3Jlc3NcIjpcInVwbG9hZHByb2dyZXNzXCIpKX07XG52YXIgemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm57dHlwZTpiLGxlbmd0aENvbXB1dGFibGU6YS5sZW5ndGhDb21wdXRhYmxlLGxvYWRlZDphLmxvYWRlZCx0b3RhbDphLnRvdGFsfX0sdmU9ZnVuY3Rpb24oYSxiKXtpZihhLmIpe3NlKGEpO3ZhciBjPWEuYixkPWEuemNbMF0/YmE6bnVsbDthLmI9bnVsbDthLnpjPW51bGw7Ynx8YS5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIik7dHJ5e2Mub25yZWFkeXN0YXRlY2hhbmdlPWR9Y2F0Y2goZSl7KGE9YS5UKSYmYS5sb2coY2UsXCJQcm9ibGVtIGVuY291bnRlcmVkIHJlc2V0dGluZyBvbnJlYWR5c3RhdGVjaGFuZ2U6IFwiK2UubWVzc2FnZSx2b2lkIDApfX19LHNlPWZ1bmN0aW9uKGEpe2EuYiYmYS54YyYmKGEuYi5vbnRpbWVvdXQ9bnVsbCk7ZmEoYS51YykmJihsLmNsZWFyVGltZW91dChhLnVjKSxhLnVjPW51bGwpfSx4ZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5iP2EuYi5yZWFkeVN0YXRlOjB9LHllPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gMjx4ZShhKT9cbmEuYi5zdGF0dXM6LTF9Y2F0Y2goYil7cmV0dXJuLTF9fSxBZT1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEuYj9hLmIucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2goYil7cmV0dXJuIEYoYS5ULFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VUZXh0OiBcIitiLm1lc3NhZ2UpLFwiXCJ9fSxyZT1mdW5jdGlvbihhLGIpe3JldHVybiBiK1wiIFtcIithLkZkK1wiIFwiK2EuZWMrXCIgXCIreWUoYSkrXCJdXCJ9O3ZhciBCZT1mdW5jdGlvbihhLGIpe3RoaXMuJD10aGlzLkxhPXRoaXMuZGE9XCJcIjt0aGlzLmFiPW51bGw7dGhpcy5CYT10aGlzLnNhPVwiXCI7dGhpcy5SPXRoaXMuUGU9ITE7dmFyIGM7YSBpbnN0YW5jZW9mIEJlPyh0aGlzLlI9dm9pZCAwIT09Yj9iOmEuUixDZSh0aGlzLGEuZGEpLGM9YS5MYSxIKHRoaXMpLHRoaXMuTGE9YyxEZSh0aGlzLGEuJCksRWUodGhpcyxhLmFiKSxGZSh0aGlzLGEuc2EpLEdlKHRoaXMsYS5WLmNsb25lKCkpLGE9YS5CYSxIKHRoaXMpLHRoaXMuQmE9YSk6YSYmKGM9U3RyaW5nKGEpLm1hdGNoKGxlKSk/KHRoaXMuUj0hIWIsQ2UodGhpcyxjWzFdfHxcIlwiLCEwKSxhPWNbMl18fFwiXCIsSCh0aGlzKSx0aGlzLkxhPUhlKGEpLERlKHRoaXMsY1szXXx8XCJcIiwhMCksRWUodGhpcyxjWzRdKSxGZSh0aGlzLGNbNV18fFwiXCIsITApLEdlKHRoaXMsY1s2XXx8XCJcIiwhMCksYT1jWzddfHxcIlwiLEgodGhpcyksdGhpcy5CYT1IZShhKSk6KHRoaXMuUj0hIWIsdGhpcy5WPW5ldyBJKG51bGwsXG4wLHRoaXMuUikpfTtCZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuZGE7YiYmYS5wdXNoKEllKGIsSmUsITApLFwiOlwiKTt2YXIgYz10aGlzLiQ7aWYoY3x8XCJmaWxlXCI9PWIpYS5wdXNoKFwiLy9cIiksKGI9dGhpcy5MYSkmJmEucHVzaChJZShiLEplLCEwKSxcIkBcIiksYS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYykpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksYz10aGlzLmFiLG51bGwhPWMmJmEucHVzaChcIjpcIixTdHJpbmcoYykpO2lmKGM9dGhpcy5zYSl0aGlzLiQmJlwiL1wiIT1jLmNoYXJBdCgwKSYmYS5wdXNoKFwiL1wiKSxhLnB1c2goSWUoYyxcIi9cIj09Yy5jaGFyQXQoMCk/S2U6TGUsITApKTsoYz10aGlzLlYudG9TdHJpbmcoKSkmJmEucHVzaChcIj9cIixjKTsoYz10aGlzLkJhKSYmYS5wdXNoKFwiI1wiLEllKGMsTWUpKTtyZXR1cm4gYS5qb2luKFwiXCIpfTtcbkJlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKSxjPSEhYS5kYTtjP0NlKGIsYS5kYSk6Yz0hIWEuTGE7aWYoYyl7dmFyIGQ9YS5MYTtIKGIpO2IuTGE9ZH1lbHNlIGM9ISFhLiQ7Yz9EZShiLGEuJCk6Yz1udWxsIT1hLmFiO2Q9YS5zYTtpZihjKUVlKGIsYS5hYik7ZWxzZSBpZihjPSEhYS5zYSl7aWYoXCIvXCIhPWQuY2hhckF0KDApKWlmKHRoaXMuJCYmIXRoaXMuc2EpZD1cIi9cIitkO2Vsc2V7dmFyIGU9Yi5zYS5sYXN0SW5kZXhPZihcIi9cIik7LTEhPWUmJihkPWIuc2Euc3Vic3RyKDAsZSsxKStkKX1lPWQ7aWYoXCIuLlwiPT1lfHxcIi5cIj09ZSlkPVwiXCI7ZWxzZSBpZih2KGUsXCIuL1wiKXx8dihlLFwiLy5cIikpe2Zvcih2YXIgZD0wPT1lLmxhc3RJbmRleE9mKFwiL1wiLDApLGU9ZS5zcGxpdChcIi9cIiksZj1bXSxnPTA7ZzxlLmxlbmd0aDspe3ZhciBrPWVbZysrXTtcIi5cIj09az9kJiZnPT1lLmxlbmd0aCYmZi5wdXNoKFwiXCIpOlwiLi5cIj09az8oKDE8Zi5sZW5ndGh8fFxuMT09Zi5sZW5ndGgmJlwiXCIhPWZbMF0pJiZmLnBvcCgpLGQmJmc9PWUubGVuZ3RoJiZmLnB1c2goXCJcIikpOihmLnB1c2goayksZD0hMCl9ZD1mLmpvaW4oXCIvXCIpfWVsc2UgZD1lfWM/RmUoYixkKTpjPVwiXCIhPT1hLlYudG9TdHJpbmcoKTtjP0dlKGIsYS5WLmNsb25lKCkpOmM9ISFhLkJhO2MmJihhPWEuQmEsSChiKSxiLkJhPWEpO3JldHVybiBifTtCZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEJlKHRoaXMpfTtcbnZhciBDZT1mdW5jdGlvbihhLGIsYyl7SChhKTthLmRhPWM/SGUoYiwhMCk6YjthLmRhJiYoYS5kYT1hLmRhLnJlcGxhY2UoLzokLyxcIlwiKSl9LERlPWZ1bmN0aW9uKGEsYixjKXtIKGEpO2EuJD1jP0hlKGIsITApOmJ9LEVlPWZ1bmN0aW9uKGEsYil7SChhKTtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKFwiQmFkIHBvcnQgbnVtYmVyIFwiK2IpO2EuYWI9Yn1lbHNlIGEuYWI9bnVsbH0sRmU9ZnVuY3Rpb24oYSxiLGMpe0goYSk7YS5zYT1jP0hlKGIsITApOmJ9LEdlPWZ1bmN0aW9uKGEsYixjKXtIKGEpO2IgaW5zdGFuY2VvZiBJPyhhLlY9YixhLlYuZWQoYS5SKSk6KGN8fChiPUllKGIsTmUpKSxhLlY9bmV3IEkoYiwwLGEuUikpfSxKPWZ1bmN0aW9uKGEsYixjKXtIKGEpO2EuVi5zZXQoYixjKX0sT2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5WLmdldChiKX0sUGU9ZnVuY3Rpb24oYSxiKXtIKGEpO2EuVi5yZW1vdmUoYil9LEg9ZnVuY3Rpb24oYSl7aWYoYS5QZSl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIG1vZGlmeSBhIHJlYWQtb25seSBVcmlcIik7XG59O0JlLnByb3RvdHlwZS5lZD1mdW5jdGlvbihhKXt0aGlzLlI9YTt0aGlzLlYmJnRoaXMuVi5lZChhKTtyZXR1cm4gdGhpc307XG52YXIgUWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCZT9hLmNsb25lKCk6bmV3IEJlKGEsdm9pZCAwKX0sUmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQmUobnVsbCx2b2lkIDApO0NlKGMsXCJodHRwc1wiKTthJiZEZShjLGEpO2ImJkZlKGMsYik7cmV0dXJuIGN9LEhlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYS5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQoYSk6XCJcIn0sSWU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBwKGEpPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsU2UpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxhKTpudWxsfSxTZT1mdW5jdGlvbihhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm5cIiVcIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9LEplPS9bI1xcL1xcP0BdL2csTGU9L1tcXCNcXD86XS9nLEtlPS9bXFwjXFw/XS9nLE5lPS9bXFwjXFw/QF0vZyxcbk1lPS8jL2csST1mdW5jdGlvbihhLGIsYyl7dGhpcy5vPXRoaXMubD1udWxsO3RoaXMuTj1hfHxudWxsO3RoaXMuUj0hIWN9LFRlPWZ1bmN0aW9uKGEpe2EubHx8KGEubD1uZXcgVGQsYS5vPTAsYS5OJiZtZShhLk4sZnVuY3Rpb24oYixjKXthLmFkZChkZWNvZGVVUklDb21wb25lbnQoYi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGMpfSkpfSxWZT1mdW5jdGlvbihhKXt2YXIgYj1YZChhKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYil0aHJvdyBFcnJvcihcIktleXMgYXJlIHVuZGVmaW5lZFwiKTt2YXIgYz1uZXcgSShudWxsLDAsdm9pZCAwKTthPVdkKGEpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLGY9YVtkXTtkYShmKT9VZShjLGUsZik6Yy5hZGQoZSxmKX1yZXR1cm4gY307aD1JLnByb3RvdHlwZTtcbmguYWRkPWZ1bmN0aW9uKGEsYil7VGUodGhpcyk7dGhpcy5OPW51bGw7YT10aGlzLlAoYSk7dmFyIGM9dGhpcy5sLmdldChhKTtjfHx0aGlzLmwuc2V0KGEsYz1bXSk7Yy5wdXNoKGIpO3RoaXMubz15YSh0aGlzLm8pKzE7cmV0dXJuIHRoaXN9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe1RlKHRoaXMpO2E9dGhpcy5QKGEpO3JldHVybiB0aGlzLmwucGIoYSk/KHRoaXMuTj1udWxsLHRoaXMubz15YSh0aGlzLm8pLXRoaXMubC5nZXQoYSkubGVuZ3RoLHRoaXMubC5yZW1vdmUoYSkpOiExfTtoLnBiPWZ1bmN0aW9uKGEpe1RlKHRoaXMpO2E9dGhpcy5QKGEpO3JldHVybiB0aGlzLmwucGIoYSl9O2gua2E9ZnVuY3Rpb24oKXtUZSh0aGlzKTtmb3IodmFyIGE9dGhpcy5sLlgoKSxiPXRoaXMubC5rYSgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWZvcih2YXIgZT1hW2RdLGY9MDtmPGUubGVuZ3RoO2YrKyljLnB1c2goYltkXSk7cmV0dXJuIGN9O1xuaC5YPWZ1bmN0aW9uKGEpe1RlKHRoaXMpO3ZhciBiPVtdO2lmKHAoYSkpdGhpcy5wYihhKSYmKGI9TGEoYix0aGlzLmwuZ2V0KHRoaXMuUChhKSkpKTtlbHNle2E9dGhpcy5sLlgoKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliPUxhKGIsYVtjXSl9cmV0dXJuIGJ9O2guc2V0PWZ1bmN0aW9uKGEsYil7VGUodGhpcyk7dGhpcy5OPW51bGw7YT10aGlzLlAoYSk7dGhpcy5wYihhKSYmKHRoaXMubz15YSh0aGlzLm8pLXRoaXMubC5nZXQoYSkubGVuZ3RoKTt0aGlzLmwuc2V0KGEsW2JdKTt0aGlzLm89eWEodGhpcy5vKSsxO3JldHVybiB0aGlzfTtoLmdldD1mdW5jdGlvbihhLGIpe2E9YT90aGlzLlgoYSk6W107cmV0dXJuIDA8YS5sZW5ndGg/U3RyaW5nKGFbMF0pOmJ9O3ZhciBVZT1mdW5jdGlvbihhLGIsYyl7YS5yZW1vdmUoYik7MDxjLmxlbmd0aCYmKGEuTj1udWxsLGEubC5zZXQoYS5QKGIpLE1hKGMpKSxhLm89eWEoYS5vKStjLmxlbmd0aCl9O1xuSS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLk4pcmV0dXJuIHRoaXMuTjtpZighdGhpcy5sKXJldHVyblwiXCI7Zm9yKHZhciBhPVtdLGI9dGhpcy5sLmthKCksYz0wO2M8Yi5sZW5ndGg7YysrKWZvcih2YXIgZD1iW2NdLGU9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSksZD10aGlzLlgoZCksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz1lO1wiXCIhPT1kW2ZdJiYoZys9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkW2ZdKSkpO2EucHVzaChnKX1yZXR1cm4gdGhpcy5OPWEuam9pbihcIiZcIil9O0kucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEk7YS5OPXRoaXMuTjt0aGlzLmwmJihhLmw9dGhpcy5sLmNsb25lKCksYS5vPXRoaXMubyk7cmV0dXJuIGF9O0kucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSl7YT1TdHJpbmcoYSk7dGhpcy5SJiYoYT1hLnRvTG93ZXJDYXNlKCkpO3JldHVybiBhfTtcbkkucHJvdG90eXBlLmVkPWZ1bmN0aW9uKGEpe2EmJiF0aGlzLlImJihUZSh0aGlzKSx0aGlzLk49bnVsbCx0aGlzLmwuZm9yRWFjaChmdW5jdGlvbihhLGMpe3ZhciBiPWMudG9Mb3dlckNhc2UoKTtjIT1iJiYodGhpcy5yZW1vdmUoYyksVWUodGhpcyxiLGEpKX0sdGhpcykpO3RoaXMuUj1hfTt2YXIgV2U9ZnVuY3Rpb24oKXt2YXIgYT1LKCk7cmV0dXJuIEEmJiEhbWImJjExPT1tYnx8L0VkZ2VcXC9cXGQrLy50ZXN0KGEpfSxYZT1mdW5jdGlvbigpe3JldHVybiBsLndpbmRvdyYmbC53aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIn0sWWU9ZnVuY3Rpb24oYSxiKXtiPWJ8fGwud2luZG93O3ZhciBjPVwiYWJvdXQ6YmxhbmtcIjthJiYoYz1xYyh0YyhhKSkpO2IubG9jYXRpb24uaHJlZj1jfSxaZT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYSlkIGluIGI/dHlwZW9mIGFbZF0hPXR5cGVvZiBiW2RdP2MucHVzaChkKTpkYShhW2RdKT9SYShhW2RdLGJbZF0pfHxjLnB1c2goZCk6XCJvYmplY3RcIj09dHlwZW9mIGFbZF0mJm51bGwhPWFbZF0mJm51bGwhPWJbZF0/MDxaZShhW2RdLGJbZF0pLmxlbmd0aCYmYy5wdXNoKGQpOmFbZF0hPT1iW2RdJiZjLnB1c2goZCk6Yy5wdXNoKGQpO2ZvcihkIGluIGIpZCBpbiBhfHxjLnB1c2goZCk7cmV0dXJuIGN9LGFmPWZ1bmN0aW9uKCl7dmFyIGE7XG5hPUsoKTthPVwiQ2hyb21lXCIhPSRlKGEpP251bGw6KGE9YS5tYXRjaCgvXFxzQ2hyb21lXFwvKFxcZCspL2kpKSYmMj09YS5sZW5ndGg/cGFyc2VJbnQoYVsxXSwxMCk6bnVsbDtyZXR1cm4gYSYmMzA+YT8hMTohQXx8IW1ifHw5PG1ifSxiZj1mdW5jdGlvbihhKXthPShhfHxLKCkpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGEubWF0Y2goL2FuZHJvaWQvKXx8YS5tYXRjaCgvd2Vib3MvKXx8YS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pfHxhLm1hdGNoKC9ibGFja2JlcnJ5Lyl8fGEubWF0Y2goL3dpbmRvd3MgcGhvbmUvKXx8YS5tYXRjaCgvaWVtb2JpbGUvKT8hMDohMX0sY2Y9ZnVuY3Rpb24oYSl7YT1hfHxsLndpbmRvdzt0cnl7YS5jbG9zZSgpfWNhdGNoKGIpe319LGRmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1NYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2I9Ynx8NTAwO2M9Y3x8NjAwO3ZhciBlPSh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LWMpLzIsZj0od2luZG93LnNjcmVlbi5hdmFpbFdpZHRoLVxuYikvMjtiPXt3aWR0aDpiLGhlaWdodDpjLHRvcDowPGU/ZTowLGxlZnQ6MDxmP2Y6MCxsb2NhdGlvbjohMCxyZXNpemFibGU6ITAsc3RhdHVzYmFyOiEwLHRvb2xiYXI6ITF9O2M9SygpLnRvTG93ZXJDYXNlKCk7ZCYmKGIudGFyZ2V0PWQsdihjLFwiY3Jpb3MvXCIpJiYoYi50YXJnZXQ9XCJfYmxhbmtcIikpO1wiRmlyZWZveFwiPT0kZShLKCkpJiYoYT1hfHxcImh0dHA6Ly9sb2NhbGhvc3RcIixiLnNjcm9sbGJhcnM9ITApO3ZhciBnO2M9YXx8XCJhYm91dDpibGFua1wiOyhkPWIpfHwoZD17fSk7YT13aW5kb3c7Yj1jIGluc3RhbmNlb2YgcGM/Yzp0YyhcInVuZGVmaW5lZFwiIT10eXBlb2YgYy5ocmVmP2MuaHJlZjpTdHJpbmcoYykpO2M9ZC50YXJnZXR8fGMudGFyZ2V0O2U9W107Zm9yKGcgaW4gZClzd2l0Y2goZyl7Y2FzZSBcIndpZHRoXCI6Y2FzZSBcImhlaWdodFwiOmNhc2UgXCJ0b3BcIjpjYXNlIFwibGVmdFwiOmUucHVzaChnK1wiPVwiK2RbZ10pO2JyZWFrO2Nhc2UgXCJ0YXJnZXRcIjpjYXNlIFwibm9yZWZlcnJlclwiOmJyZWFrO1xuZGVmYXVsdDplLnB1c2goZytcIj1cIisoZFtnXT8xOjApKX1nPWUuam9pbihcIixcIik7KHooXCJpUGhvbmVcIikmJiF6KFwiaVBvZFwiKSYmIXooXCJpUGFkXCIpfHx6KFwiaVBhZFwiKXx8eihcImlQb2RcIikpJiZhLm5hdmlnYXRvciYmYS5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmYyYmXCJfc2VsZlwiIT1jPyhnPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkFcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxBbmNob3JFbGVtZW50JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgTG9jYXRpb24mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiYoZT1nJiYoZyBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50fHwhKGcgaW5zdGFuY2VvZiBMb2NhdGlvbnx8ZyBpbnN0YW5jZW9mIEVsZW1lbnQpKSxmPWdhKGcpP2cuY29uc3RydWN0b3IuZGlzcGxheU5hbWV8fGcuY29uc3RydWN0b3IubmFtZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGcpOnZvaWQgMD09PWc/XCJ1bmRlZmluZWRcIjpudWxsPT09Zz9cIm51bGxcIjpcbnR5cGVvZiBnLHcoZSxcIkFyZ3VtZW50IGlzIG5vdCBhIEhUTUxBbmNob3JFbGVtZW50IChvciBhIG5vbi1FbGVtZW50IG1vY2spOyBnb3Q6ICVzXCIsZikpLGI9YiBpbnN0YW5jZW9mIHBjP2I6dGMoYiksZy5ocmVmPXFjKGIpLGcuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsYyksZC5ub3JlZmVycmVyJiZnLnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9yZWZlcnJlclwiKSxkPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKSxkLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCxhLDEpLGcuZGlzcGF0Y2hFdmVudChkKSxnPXt9KTpkLm5vcmVmZXJyZXI/KGc9YS5vcGVuKFwiXCIsYyxnKSxkPXFjKGIpLGcmJihkYiYmdihkLFwiO1wiKSYmKGQ9XCInXCIrZC5yZXBsYWNlKC8nL2csXCIlMjdcIikrXCInXCIpLGcub3BlbmVyPW51bGwsYT1sYyhcImIvMTIwMTQ0MTIsIG1ldGEgdGFnIHdpdGggc2FuaXRpemVkIFVSTFwiKSx0YS50ZXN0KGQpJiYoLTEhPWQuaW5kZXhPZihcIiZcIikmJihkPWQucmVwbGFjZShuYSxcblwiJmFtcDtcIikpLC0xIT1kLmluZGV4T2YoXCI8XCIpJiYoZD1kLnJlcGxhY2Uob2EsXCImbHQ7XCIpKSwtMSE9ZC5pbmRleE9mKFwiPlwiKSYmKGQ9ZC5yZXBsYWNlKHBhLFwiJmd0O1wiKSksLTEhPWQuaW5kZXhPZignXCInKSYmKGQ9ZC5yZXBsYWNlKHFhLFwiJnF1b3Q7XCIpKSwtMSE9ZC5pbmRleE9mKFwiJ1wiKSYmKGQ9ZC5yZXBsYWNlKHJhLFwiJiMzOTtcIikpLC0xIT1kLmluZGV4T2YoXCJcXHgwMFwiKSYmKGQ9ZC5yZXBsYWNlKHNhLFwiJiMwO1wiKSkpLGQ9JzxNRVRBIEhUVFAtRVFVSVY9XCJyZWZyZXNoXCIgY29udGVudD1cIjA7IHVybD0nK2QrJ1wiPicsemEoa2MoYSksXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKSx3KCEvXltcXHNcXHhhMF0qJC8udGVzdChrYyhhKSksXCJtdXN0IHByb3ZpZGUgbm9uLWVtcHR5IGp1c3RpZmljYXRpb25cIiksZy5kb2N1bWVudC53cml0ZShLYygobmV3IEpjKS5NZShkKSkpLGcuZG9jdW1lbnQuY2xvc2UoKSkpOmc9YS5vcGVuKHFjKGIpLGMsZyk7aWYoZyl0cnl7Zy5mb2N1cygpfWNhdGNoKGspe31yZXR1cm4gZ30sXG5lZj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYil7dmFyIGM9ZnVuY3Rpb24oKXtrZSgyRTMpLnRoZW4oZnVuY3Rpb24oKXtpZighYXx8YS5jbG9zZWQpYigpO2Vsc2UgcmV0dXJuIGMoKX0pfTtyZXR1cm4gYygpfSl9LGZmPS9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLyxnZj1mdW5jdGlvbigpe3ZhciBhPW51bGw7cmV0dXJuKG5ldyBDKGZ1bmN0aW9uKGIpe1wiY29tcGxldGVcIj09bC5kb2N1bWVudC5yZWFkeVN0YXRlP2IoKTooYT1mdW5jdGlvbigpe2IoKX0sYWMod2luZG93LFwibG9hZFwiLGEpKX0pKS5jKGZ1bmN0aW9uKGIpe2NjKHdpbmRvdyxcImxvYWRcIixhKTt0aHJvdyBiO30pfSxqZj1mdW5jdGlvbigpe3JldHVybiBoZih2b2lkIDApP2dmKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgQyhmdW5jdGlvbihhLGIpe3ZhciBjPWwuZG9jdW1lbnQsZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihFcnJvcihcIkNvcmRvdmEgZnJhbWV3b3JrIGlzIG5vdCByZWFkeS5cIikpfSxcbjFFMyk7Yy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChkKTthKCl9LCExKX0pfSk6RShFcnJvcihcIkNvcmRvdmEgbXVzdCBydW4gaW4gYW4gQW5kcm9pZCBvciBpT1MgZmlsZSBzY2hlbWUuXCIpKX0saGY9ZnVuY3Rpb24oYSl7YT1hfHxLKCk7cmV0dXJuIShcImZpbGU6XCIhPT1rZigpfHwhYS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kfGFuZHJvaWQvKSl9LGxmPWZ1bmN0aW9uKCl7dmFyIGE9bC53aW5kb3c7dHJ5e3JldHVybiEoIWF8fGE9PWEudG9wKX1jYXRjaChiKXtyZXR1cm4hMX19LEw9ZnVuY3Rpb24oKXtyZXR1cm4gZmlyZWJhc2UuSU5URVJOQUwuaGFzT3duUHJvcGVydHkoXCJyZWFjdE5hdGl2ZVwiKT9cIlJlYWN0TmF0aXZlXCI6ZmlyZWJhc2UuSU5URVJOQUwuaGFzT3duUHJvcGVydHkoXCJub2RlXCIpP1wiTm9kZVwiOlwiQnJvd3NlclwifSxtZj1mdW5jdGlvbigpe3ZhciBhPUwoKTtyZXR1cm5cIlJlYWN0TmF0aXZlXCI9PT1cbmF8fFwiTm9kZVwiPT09YX0sJGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS50b0xvd2VyQ2FzZSgpO2lmKHYoYixcIm9wZXJhL1wiKXx8dihiLFwib3ByL1wiKXx8dihiLFwib3Bpb3MvXCIpKXJldHVyblwiT3BlcmFcIjtpZih2KGIsXCJpZW1vYmlsZVwiKSlyZXR1cm5cIklFTW9iaWxlXCI7aWYodihiLFwibXNpZVwiKXx8dihiLFwidHJpZGVudC9cIikpcmV0dXJuXCJJRVwiO2lmKHYoYixcImVkZ2UvXCIpKXJldHVyblwiRWRnZVwiO2lmKHYoYixcImZpcmVmb3gvXCIpKXJldHVyblwiRmlyZWZveFwiO2lmKHYoYixcInNpbGsvXCIpKXJldHVyblwiU2lsa1wiO2lmKHYoYixcImJsYWNrYmVycnlcIikpcmV0dXJuXCJCbGFja2JlcnJ5XCI7aWYodihiLFwid2Vib3NcIikpcmV0dXJuXCJXZWJvc1wiO2lmKCF2KGIsXCJzYWZhcmkvXCIpfHx2KGIsXCJjaHJvbWUvXCIpfHx2KGIsXCJjcmlvcy9cIil8fHYoYixcImFuZHJvaWRcIikpaWYoIXYoYixcImNocm9tZS9cIikmJiF2KGIsXCJjcmlvcy9cIil8fHYoYixcImVkZ2UvXCIpKXtpZih2KGIsXCJhbmRyb2lkXCIpKXJldHVyblwiQW5kcm9pZFwiO1xuaWYoKGE9YS5tYXRjaCgvKFthLXpBLVpcXGRcXC5dKylcXC9bYS16QS1aXFxkXFwuXSokLykpJiYyPT1hLmxlbmd0aClyZXR1cm4gYVsxXX1lbHNlIHJldHVyblwiQ2hyb21lXCI7ZWxzZSByZXR1cm5cIlNhZmFyaVwiO3JldHVyblwiT3RoZXJcIn0sbmY9ZnVuY3Rpb24oYSl7dmFyIGI9TCgpO3JldHVybihcIkJyb3dzZXJcIj09PWI/JGUoSygpKTpiKStcIi9Kc0NvcmUvXCIrYX0sSz1mdW5jdGlvbigpe3JldHVybiBsLm5hdmlnYXRvciYmbC5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwifSxNPWZ1bmN0aW9uKGEsYil7YT1hLnNwbGl0KFwiLlwiKTtiPWJ8fGw7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGImJm51bGwhPWI7YysrKWI9YlthW2NdXTtjIT1hLmxlbmd0aCYmKGI9dm9pZCAwKTtyZXR1cm4gYn0scWY9ZnVuY3Rpb24oKXt2YXIgYTtpZihhPShvZigpfHxcImNocm9tZS1leHRlbnNpb246XCI9PT1rZigpfHxoZigpJiYhMSkmJiFtZigpKWE6e3RyeXt2YXIgYj1sLmxvY2FsU3RvcmFnZSxcbmM9cGYoKTtpZihiKXtiLnNldEl0ZW0oYyxcIjFcIik7Yi5yZW1vdmVJdGVtKGMpO2E9V2UoKT8hIWwuaW5kZXhlZERCOiEwO2JyZWFrIGF9fWNhdGNoKGQpe31hPSExfXJldHVybiBhfSxvZj1mdW5jdGlvbigpe3JldHVyblwiaHR0cDpcIj09PWtmKCl8fFwiaHR0cHM6XCI9PT1rZigpfSxrZj1mdW5jdGlvbigpe3JldHVybiBsLmxvY2F0aW9uJiZsLmxvY2F0aW9uLnByb3RvY29sfHxudWxsfSxyZj1mdW5jdGlvbihhKXthPWF8fEsoKTtyZXR1cm4gYmYoYSl8fFwiRmlyZWZveFwiPT0kZShhKT8hMTohMH0sc2Y9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP251bGw6d2MoYSl9LHRmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZudWxsIT09YVtjXSYmdm9pZCAwIT09YVtjXSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9LHVmPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1hKXJldHVybiBKU09OLnBhcnNlKGEpfSxwZj1mdW5jdGlvbihhKXtyZXR1cm4gYT9cbmE6XCJcIitNYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpfSx2Zj1mdW5jdGlvbihhKXthPWF8fEsoKTtyZXR1cm5cIlNhZmFyaVwiPT0kZShhKXx8YS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyk/ITE6ITB9LHdmPWZ1bmN0aW9uKCl7dmFyIGE9bC5fX19qc2w7aWYoYSYmYS5IKWZvcih2YXIgYiBpbiBhLkgpaWYoYS5IW2JdLnI9YS5IW2JdLnJ8fFtdLGEuSFtiXS5MPWEuSFtiXS5MfHxbXSxhLkhbYl0ucj1hLkhbYl0uTC5jb25jYXQoKSxhLkNQKWZvcih2YXIgYz0wO2M8YS5DUC5sZW5ndGg7YysrKWEuQ1BbY109bnVsbH0seGY9ZnVuY3Rpb24oKXtyZXR1cm4gbC5uYXZpZ2F0b3ImJlwiYm9vbGVhblwiPT09dHlwZW9mIGwubmF2aWdhdG9yLm9uTGluZT9sLm5hdmlnYXRvci5vbkxpbmU6ITB9LHlmPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGE+Yil0aHJvdyBFcnJvcihcIlNob3J0IGRlbGF5IHNob3VsZCBiZSBsZXNzIHRoYW4gbG9uZyBkZWxheSFcIik7XG50aGlzLm1mPWE7dGhpcy5VZT1iO2E9Y3x8SygpO2Q9ZHx8TCgpO3RoaXMuT2U9YmYoYSl8fFwiUmVhY3ROYXRpdmVcIj09PWR9O3lmLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PZT90aGlzLlVlOnRoaXMubWZ9O3ZhciB6Zjt0cnl7dmFyIEFmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShBZixcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6MX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShBZixcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Mn0pO3pmPTI9PUFmLmFiY2R9Y2F0Y2goYSl7emY9ITF9XG52YXIgTj1mdW5jdGlvbihhLGIsYyl7emY/T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Y30pOmFbYl09Y30sQmY9ZnVuY3Rpb24oYSxiKXtpZihiKWZvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJk4oYSxjLGJbY10pfSxDZj1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9LERmPWZ1bmN0aW9uKGEsYil7aWYoIWJ8fCFiLmxlbmd0aClyZXR1cm4hMDtpZighYSlyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YVtiW2NdXTtpZih2b2lkIDA9PT1kfHxudWxsPT09ZHx8XCJcIj09PWQpcmV0dXJuITF9cmV0dXJuITB9LEVmPWZ1bmN0aW9uKGEpe3ZhciBiPWE7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEmJm51bGwhPWEpe3ZhciBiPVwibGVuZ3RoXCJpbiBhP1tdOnt9LGM7Zm9yKGMgaW4gYSlOKGIsYyxcbkVmKGFbY10pKX1yZXR1cm4gYn07dmFyIEZmPVtcImNsaWVudF9pZFwiLFwicmVzcG9uc2VfdHlwZVwiLFwic2NvcGVcIixcInJlZGlyZWN0X3VyaVwiLFwic3RhdGVcIl0sR2Y9e2JlOntBYjo1MDAsemI6NjAwLHByb3ZpZGVySWQ6XCJmYWNlYm9vay5jb21cIixvYzpGZn0sY2U6e0FiOjUwMCx6Yjo2MjAscHJvdmlkZXJJZDpcImdpdGh1Yi5jb21cIixvYzpGZn0sZGU6e0FiOjUxNSx6Yjo2ODAscHJvdmlkZXJJZDpcImdvb2dsZS5jb21cIixvYzpGZn0saWU6e0FiOjQ4NSx6Yjo3MDUscHJvdmlkZXJJZDpcInR3aXR0ZXIuY29tXCIsb2M6XCJvYXV0aF9jb25zdW1lcl9rZXkgb2F1dGhfbm9uY2Ugb2F1dGhfc2lnbmF0dXJlIG9hdXRoX3NpZ25hdHVyZV9tZXRob2Qgb2F1dGhfdGltZXN0YW1wIG9hdXRoX3Rva2VuIG9hdXRoX3ZlcnNpb25cIi5zcGxpdChcIiBcIil9fSxIZj1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gR2YpaWYoR2ZbYl0ucHJvdmlkZXJJZD09YSlyZXR1cm4gR2ZbYl07cmV0dXJuIG51bGx9LElmPWZ1bmN0aW9uKGEpe3JldHVybihhPUhmKGEpKSYmXG5hLm9jfHxbXX07dmFyIE89ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9XCJhdXRoL1wiK2E7dGhpcy5tZXNzYWdlPWJ8fEpmW2FdfHxcIlwifTt0KE8sRXJyb3IpO08ucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTp0aGlzLmNvZGUsY29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2V9fTtcbnZhciBLZj1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5uYW1lfHxhLmNvZGUpO3JldHVybiBiP25ldyBPKGIuc3Vic3RyaW5nKDUpLGEubWVzc2FnZSk6bnVsbH0sSmY9e1wiYXJndW1lbnQtZXJyb3JcIjpcIlwiLFwiYXBwLW5vdC1hdXRob3JpemVkXCI6XCJUaGlzIGFwcCwgaWRlbnRpZmllZCBieSB0aGUgZG9tYWluIHdoZXJlIGl0J3MgaG9zdGVkLCBpcyBub3QgYXV0aG9yaXplZCB0byB1c2UgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gd2l0aCB0aGUgcHJvdmlkZWQgQVBJIGtleS4gUmV2aWV3IHlvdXIga2V5IGNvbmZpZ3VyYXRpb24gaW4gdGhlIEdvb2dsZSBBUEkgY29uc29sZS5cIixcImFwcC1ub3QtaW5zdGFsbGVkXCI6XCJUaGUgcmVxdWVzdGVkIG1vYmlsZSBhcHBsaWNhdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBpZGVudGlmaWVyIChBbmRyb2lkIHBhY2thZ2UgbmFtZSBvciBpT1MgYnVuZGxlIElEKSBwcm92aWRlZCBpcyBub3QgaW5zdGFsbGVkIG9uIHRoaXMgZGV2aWNlLlwiLFwiY29yZG92YS1ub3QtcmVhZHlcIjpcIkNvcmRvdmEgZnJhbWV3b3JrIGlzIG5vdCByZWFkeS5cIixcblwiY29ycy11bnN1cHBvcnRlZFwiOlwiVGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuXCIsXCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCI6XCJUaGlzIGNyZWRlbnRpYWwgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgdXNlciBhY2NvdW50LlwiLFwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCI6XCJUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLlwiLFwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyBzZW5zaXRpdmUgYW5kIHJlcXVpcmVzIHJlY2VudCBhdXRoZW50aWNhdGlvbi4gTG9nIGluIGFnYWluIGJlZm9yZSByZXRyeWluZyB0aGlzIHJlcXVlc3QuXCIsXCJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZFwiOlwiUGxlYXNlIGFjdGl2YXRlIER5bmFtaWMgTGlua3MgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUgYW5kIGFncmVlIHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy5cIixcImVtYWlsLWFscmVhZHktaW4tdXNlXCI6XCJUaGUgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFjY291bnQuXCIsXG5cImV4cGlyZWQtYWN0aW9uLWNvZGVcIjpcIlRoZSBhY3Rpb24gY29kZSBoYXMgZXhwaXJlZC4gXCIsXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiOlwiVGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGR1ZSB0byBhbm90aGVyIGNvbmZsaWN0aW5nIHBvcHVwIGJlaW5nIG9wZW5lZC5cIixcImludGVybmFsLWVycm9yXCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJpbnZhbGlkLXVzZXItdG9rZW5cIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcImludmFsaWQtYXV0aC1ldmVudFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb25cIjpcIlRoZSBmb2xsb3dpbmcgQ29yZG92YSBwbHVnaW5zIG11c3QgYmUgaW5zdGFsbGVkIHRvIGVuYWJsZSBPQXV0aCBzaWduLWluOiBjb3Jkb3ZhLXBsdWdpbi1idWlsZGluZm8sIGNvcmRvdmEtdW5pdmVyc2FsLWxpbmtzLXBsdWdpbiwgY29yZG92YS1wbHVnaW4tYnJvd3NlcnRhYiwgY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyIGFuZCBjb3Jkb3ZhLXBsdWdpbi1jdXN0b211cmxzY2hlbWUuXCIsXG5cImludmFsaWQtY3VzdG9tLXRva2VuXCI6XCJUaGUgY3VzdG9tIHRva2VuIGZvcm1hdCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBjaGVjayB0aGUgZG9jdW1lbnRhdGlvbi5cIixcImludmFsaWQtZW1haWxcIjpcIlRoZSBlbWFpbCBhZGRyZXNzIGlzIGJhZGx5IGZvcm1hdHRlZC5cIixcImludmFsaWQtYXBpLWtleVwiOlwiWW91ciBBUEkga2V5IGlzIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3UgaGF2ZSBjb3BpZWQgaXQgY29ycmVjdGx5LlwiLFwiaW52YWxpZC1jcmVkZW50aWFsXCI6XCJUaGUgc3VwcGxpZWQgYXV0aCBjcmVkZW50aWFsIGlzIG1hbGZvcm1lZCBvciBoYXMgZXhwaXJlZC5cIixcImludmFsaWQtbWVzc2FnZS1wYXlsb2FkXCI6XCJUaGUgZW1haWwgdGVtcGxhdGUgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgaW4gaXRzIG1lc3NhZ2UuIFBsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuXCIsXG5cImludmFsaWQtb2F1dGgtcHJvdmlkZXJcIjpcIkVtYWlsQXV0aFByb3ZpZGVyIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBUaGlzIG9wZXJhdGlvbiBvbmx5IHN1cHBvcnRzIE9BdXRoIHByb3ZpZGVycy5cIixcInVuYXV0aG9yaXplZC1kb21haW5cIjpcIlRoaXMgZG9tYWluIGlzIG5vdCBhdXRob3JpemVkIGZvciBPQXV0aCBvcGVyYXRpb25zIGZvciB5b3VyIEZpcmViYXNlIHByb2plY3QuIEVkaXQgdGhlIGxpc3Qgb2YgYXV0aG9yaXplZCBkb21haW5zIGZyb20gdGhlIEZpcmViYXNlIGNvbnNvbGUuXCIsXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCI6XCJUaGUgYWN0aW9uIGNvZGUgaXMgaW52YWxpZC4gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBjb2RlIGlzIG1hbGZvcm1lZCwgZXhwaXJlZCwgb3IgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiLFwid3JvbmctcGFzc3dvcmRcIjpcIlRoZSBwYXNzd29yZCBpcyBpbnZhbGlkIG9yIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZC5cIixcblwiaW52YWxpZC1yZWNpcGllbnQtZW1haWxcIjpcIlRoZSBlbWFpbCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGZhaWxlZCB0byBzZW5kIGFzIHRoZSBwcm92aWRlZCByZWNpcGllbnQgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkLlwiLFwiaW52YWxpZC1zZW5kZXJcIjpcIlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgc2VuZGVyIGVtYWlsIG9yIG5hbWUuIFBsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuXCIsXCJtaXNzaW5nLWlmcmFtZS1zdGFydFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCI6XCJCZSBzdXJlIHRvIGluY2x1ZGUgYXV0aERvbWFpbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpLCBieSBmb2xsb3dpbmcgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcblwiYXBwLWRlbGV0ZWRcIjpcIlRoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2VBcHAgaGFzIGJlZW4gZGVsZXRlZC5cIixcImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIjpcIkFuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgc2lnbi1pbiBjcmVkZW50aWFscy4gU2lnbiBpbiB1c2luZyBhIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MuXCIsXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI6XCJBIG5ldHdvcmsgZXJyb3IgKHN1Y2ggYXMgdGltZW91dCwgaW50ZXJydXB0ZWQgY29ubmVjdGlvbiBvciB1bnJlYWNoYWJsZSBob3N0KSBoYXMgb2NjdXJyZWQuXCIsXCJuby1hdXRoLWV2ZW50XCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJuby1zdWNoLXByb3ZpZGVyXCI6XCJVc2VyIHdhcyBub3QgbGlua2VkIHRvIGFuIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gcHJvdmlkZXIuXCIsXG5cIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiOlwiVGhlIGdpdmVuIHNpZ24taW4gcHJvdmlkZXIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgRmlyZWJhc2UgcHJvamVjdC4gRW5hYmxlIGl0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLCB1bmRlciB0aGUgc2lnbi1pbiBtZXRob2QgdGFiIG9mIHRoZSBBdXRoIHNlY3Rpb24uXCIsXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCI6J1RoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGVudmlyb25tZW50IHRoaXMgYXBwbGljYXRpb24gaXMgcnVubmluZyBvbi4gXCJsb2NhdGlvbi5wcm90b2NvbFwiIG11c3QgYmUgaHR0cCBvciBodHRwcyBhbmQgd2ViIHN0b3JhZ2UgbXVzdCBiZSBlbmFibGVkLicsXCJwb3B1cC1ibG9ja2VkXCI6XCJVbmFibGUgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBwb3B1cC4gSXQgbWF5IGhhdmUgYmVlbiBibG9ja2VkIGJ5IHRoZSBicm93c2VyLlwiLFwicG9wdXAtY2xvc2VkLWJ5LXVzZXJcIjpcIlRoZSBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcgdGhlIG9wZXJhdGlvbi5cIixcblwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIjpcIlVzZXIgY2FuIG9ubHkgYmUgbGlua2VkIHRvIG9uZSBpZGVudGl0eSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlwiLFwicmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXJcIjpcIlRoZSByZWRpcmVjdCBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nLlwiLFwicmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmdcIjpcIkEgcmVkaXJlY3Qgc2lnbi1pbiBvcGVyYXRpb24gaXMgYWxyZWFkeSBwZW5kaW5nLlwiLHRpbWVvdXQ6XCJUaGUgb3BlcmF0aW9uIGhhcyB0aW1lZCBvdXQuXCIsXCJ1c2VyLXRva2VuLWV4cGlyZWRcIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcInRvby1tYW55LXJlcXVlc3RzXCI6XCJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci5cIixcblwidXNlci1jYW5jZWxsZWRcIjpcIlVzZXIgZGlkIG5vdCBncmFudCB5b3VyIGFwcGxpY2F0aW9uIHRoZSBwZXJtaXNzaW9ucyBpdCByZXF1ZXN0ZWQuXCIsXCJ1c2VyLW5vdC1mb3VuZFwiOlwiVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSBoYXZlIGJlZW4gZGVsZXRlZC5cIixcInVzZXItZGlzYWJsZWRcIjpcIlRoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci5cIixcInVzZXItbWlzbWF0Y2hcIjpcIlRoZSBzdXBwbGllZCBjcmVkZW50aWFscyBkbyBub3QgY29ycmVzcG9uZCB0byB0aGUgcHJldmlvdXNseSBzaWduZWQgaW4gdXNlci5cIixcInVzZXItc2lnbmVkLW91dFwiOlwiXCIsXCJ3ZWFrLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLlwiLFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIjpcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkIG9yIDNyZCBwYXJ0eSBjb29raWVzIGFuZCBkYXRhIG1heSBiZSBkaXNhYmxlZC5cIn07dmFyIFA9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmdhPWE7dGhpcy5GPWJ8fG51bGw7dGhpcy5tYj1jfHxudWxsO3RoaXMuZGQ9ZHx8bnVsbDt0aGlzLk89ZXx8bnVsbDtpZih0aGlzLm1ifHx0aGlzLk8pe2lmKHRoaXMubWImJnRoaXMuTyl0aHJvdyBuZXcgTyhcImludmFsaWQtYXV0aC1ldmVudFwiKTtpZih0aGlzLm1iJiYhdGhpcy5kZCl0aHJvdyBuZXcgTyhcImludmFsaWQtYXV0aC1ldmVudFwiKTt9ZWxzZSB0aHJvdyBuZXcgTyhcImludmFsaWQtYXV0aC1ldmVudFwiKTt9O1AucHJvdG90eXBlLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGR9O1AucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT307UC5wcm90b3R5cGUuRD1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMuZ2EsZXZlbnRJZDp0aGlzLkYsdXJsUmVzcG9uc2U6dGhpcy5tYixzZXNzaW9uSWQ6dGhpcy5kZCxlcnJvcjp0aGlzLk8mJnRoaXMuTy5EKCl9fTtcbnZhciBMZj1mdW5jdGlvbihhKXthPWF8fHt9O3JldHVybiBhLnR5cGU/bmV3IFAoYS50eXBlLGEuZXZlbnRJZCxhLnVybFJlc3BvbnNlLGEuc2Vzc2lvbklkLGEuZXJyb3ImJktmKGEuZXJyb3IpKTpudWxsfTt2YXIgTWY9ZnVuY3Rpb24oYSl7dmFyIGI9XCJ1bmF1dGhvcml6ZWQtZG9tYWluXCIsYz12b2lkIDAsZD1RZShhKTthPWQuJDtkPWQuZGE7XCJodHRwXCIhPWQmJlwiaHR0cHNcIiE9ZD9iPVwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiOmM9bGEoXCJUaGlzIGRvbWFpbiAoJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIixhKTtPLmNhbGwodGhpcyxiLGMpfTt0KE1mLE8pO3ZhciBOZj1mdW5jdGlvbihhKXt0aGlzLlRlPWEuc3ViO2thKCk7dGhpcy5TYj1hLmVtYWlsfHxudWxsfTt2YXIgT2Y9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Z2EoYyk/ZT1jOmImJnAoYykmJnAoZCk/ZT17b2F1dGhUb2tlbjpjLG9hdXRoVG9rZW5TZWNyZXQ6ZH06IWImJnAoYykmJihlPXthY2Nlc3NUb2tlbjpjfSk7aWYoYnx8IWUuaWRUb2tlbiYmIWUuYWNjZXNzVG9rZW4paWYoYiYmZS5vYXV0aFRva2VuJiZlLm9hdXRoVG9rZW5TZWNyZXQpTih0aGlzLFwiYWNjZXNzVG9rZW5cIixlLm9hdXRoVG9rZW4pLE4odGhpcyxcInNlY3JldFwiLGUub2F1dGhUb2tlblNlY3JldCk7ZWxzZXtpZihiKXRocm93IG5ldyBPKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAyIGFyZ3VtZW50cyAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhbmQgc2VjcmV0KS5cIik7dGhyb3cgbmV3IE8oXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDEgYXJndW1lbnQgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4pLlwiKTt9ZWxzZSBlLmlkVG9rZW4mJk4odGhpcyxcblwiaWRUb2tlblwiLGUuaWRUb2tlbiksZS5hY2Nlc3NUb2tlbiYmTih0aGlzLFwiYWNjZXNzVG9rZW5cIixlLmFjY2Vzc1Rva2VuKTtOKHRoaXMsXCJwcm92aWRlclwiLGEpfTtPZi5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oYSl7cmV0dXJuIFBmKGEsUWYodGhpcykpfTtPZi5wcm90b3R5cGUuR2Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1RZih0aGlzKTtjLmlkVG9rZW49YjtyZXR1cm4gUmYoYSxjKX07dmFyIFFmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2EuaWRUb2tlbiYmKGIuaWRfdG9rZW49YS5pZFRva2VuKTthLmFjY2Vzc1Rva2VuJiYoYi5hY2Nlc3NfdG9rZW49YS5hY2Nlc3NUb2tlbik7YS5zZWNyZXQmJihiLm9hdXRoX3Rva2VuX3NlY3JldD1hLnNlY3JldCk7Yi5wcm92aWRlcklkPWEucHJvdmlkZXI7cmV0dXJue3Bvc3RCb2R5OlZlKGIpLnRvU3RyaW5nKCkscmVxdWVzdFVyaTpcImh0dHA6Ly9sb2NhbGhvc3RcIn19O1xuT2YucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXt2YXIgYT17cHJvdmlkZXI6dGhpcy5wcm92aWRlcn07dGhpcy5pZFRva2VuJiYoYS5vYXV0aElkVG9rZW49dGhpcy5pZFRva2VuKTt0aGlzLmFjY2Vzc1Rva2VuJiYoYS5vYXV0aEFjY2Vzc1Rva2VuPXRoaXMuYWNjZXNzVG9rZW4pO3RoaXMuc2VjcmV0JiYoYS5vYXV0aFRva2VuU2VjcmV0PXRoaXMuc2VjcmV0KTtyZXR1cm4gYX07XG52YXIgU2Y9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEhYixlPWN8fFtdO2I9ZnVuY3Rpb24oKXtCZih0aGlzLHtwcm92aWRlcklkOmEsaXNPQXV0aFByb3ZpZGVyOiEwfSk7dGhpcy5jZD1bXTt0aGlzLnJkPXt9O1wiZ29vZ2xlLmNvbVwiPT1hJiZ0aGlzLmFkZFNjb3BlKFwicHJvZmlsZVwiKX07ZHx8KGIucHJvdG90eXBlLmFkZFNjb3BlPWZ1bmN0aW9uKGEpe0hhKHRoaXMuY2QsYSl8fHRoaXMuY2QucHVzaChhKX0pO2IucHJvdG90eXBlLnNldEN1c3RvbVBhcmFtZXRlcnM9ZnVuY3Rpb24oYSl7dGhpcy5yZD1TYShhKX07Yi5wcm90b3R5cGUuQmU9ZnVuY3Rpb24oKXt2YXIgYT10Zih0aGlzLnJkKSxiO2ZvcihiIGluIGEpYVtiXT1hW2JdLnRvU3RyaW5nKCk7YT1TYShhKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKXt2YXIgYz1lW2JdO2MgaW4gYSYmZGVsZXRlIGFbY119cmV0dXJuIGF9O2IucHJvdG90eXBlLkNlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hKHRoaXMuY2QpfTtiLmNyZWRlbnRpYWw9XG5mdW5jdGlvbihiLGMpe3JldHVybiBuZXcgT2YoYSxkLGIsYyl9O0JmKGIse1BST1ZJREVSX0lEOmF9KTtyZXR1cm4gYn0sVGY9U2YoXCJmYWNlYm9vay5jb21cIiwhMSxJZihcImZhY2Vib29rLmNvbVwiKSk7VGYucHJvdG90eXBlLmFkZFNjb3BlPVRmLnByb3RvdHlwZS5hZGRTY29wZXx8dm9pZCAwO3ZhciBVZj1TZihcImdpdGh1Yi5jb21cIiwhMSxJZihcImdpdGh1Yi5jb21cIikpO1VmLnByb3RvdHlwZS5hZGRTY29wZT1VZi5wcm90b3R5cGUuYWRkU2NvcGV8fHZvaWQgMDt2YXIgVmY9U2YoXCJnb29nbGUuY29tXCIsITEsSWYoXCJnb29nbGUuY29tXCIpKTtWZi5wcm90b3R5cGUuYWRkU2NvcGU9VmYucHJvdG90eXBlLmFkZFNjb3BlfHx2b2lkIDA7XG5WZi5jcmVkZW50aWFsPWZ1bmN0aW9uKGEsYil7aWYoIWEmJiFiKXRocm93IG5ldyBPKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBtdXN0IHByb3ZpZGUgdGhlIElEIHRva2VuIGFuZC9vciB0aGUgYWNjZXNzIHRva2VuLlwiKTtyZXR1cm4gbmV3IE9mKFwiZ29vZ2xlLmNvbVwiLCExLGdhKGEpP2E6e2lkVG9rZW46YXx8bnVsbCxhY2Nlc3NUb2tlbjpifHxudWxsfSl9O3ZhciBXZj1TZihcInR3aXR0ZXIuY29tXCIsITAsSWYoXCJ0d2l0dGVyLmNvbVwiKSksWGY9ZnVuY3Rpb24oYSxiKXt0aGlzLlNiPWE7dGhpcy5XYz1iO04odGhpcyxcInByb3ZpZGVyXCIsXCJwYXNzd29yZFwiKX07WGYucHJvdG90eXBlLlViPWZ1bmN0aW9uKGEpe3JldHVybiBRKGEsWWYse2VtYWlsOnRoaXMuU2IscGFzc3dvcmQ6dGhpcy5XY30pfTtYZi5wcm90b3R5cGUuR2Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUShhLFpmLHtpZFRva2VuOmIsZW1haWw6dGhpcy5TYixwYXNzd29yZDp0aGlzLldjfSl9O1xuWGYucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm57ZW1haWw6dGhpcy5TYixwYXNzd29yZDp0aGlzLldjfX07dmFyICRmPWZ1bmN0aW9uKCl7QmYodGhpcyx7cHJvdmlkZXJJZDpcInBhc3N3b3JkXCIsaXNPQXV0aFByb3ZpZGVyOiExfSl9O0JmKCRmLHtQUk9WSURFUl9JRDpcInBhc3N3b3JkXCJ9KTtcbnZhciBhZz17QmY6JGYsYmU6VGYsZGU6VmYsY2U6VWYsaWU6V2Z9LGJnPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEucHJvdmlkZXJJZDtpZighYilyZXR1cm4gbnVsbDt2YXIgYz1hJiZhLm9hdXRoQWNjZXNzVG9rZW4sZD1hJiZhLm9hdXRoVG9rZW5TZWNyZXQ7YT1hJiZhLm9hdXRoSWRUb2tlbjtmb3IodmFyIGUgaW4gYWcpaWYoYWdbZV0uUFJPVklERVJfSUQ9PWIpdHJ5e3JldHVybiBhZ1tlXS5jcmVkZW50aWFsKHthY2Nlc3NUb2tlbjpjLGlkVG9rZW46YSxvYXV0aFRva2VuOmMsb2F1dGhUb2tlblNlY3JldDpkfSl9Y2F0Y2goZil7YnJlYWt9cmV0dXJuIG51bGx9LGNnPWZ1bmN0aW9uKGEpe2lmKCFhLmlzT0F1dGhQcm92aWRlcil0aHJvdyBuZXcgTyhcImludmFsaWQtb2F1dGgtcHJvdmlkZXJcIik7fTt2YXIgZGc9ZnVuY3Rpb24oYSxiLGMsZCl7Ty5jYWxsKHRoaXMsYSxkKTtOKHRoaXMsXCJlbWFpbFwiLGIpO04odGhpcyxcImNyZWRlbnRpYWxcIixjKX07dChkZyxPKTtkZy5wcm90b3R5cGUuRD1mdW5jdGlvbigpe3ZhciBhPXtjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZSxlbWFpbDp0aGlzLmVtYWlsfSxiPXRoaXMuY3JlZGVudGlhbCYmdGhpcy5jcmVkZW50aWFsLkQoKTtiJiYoVWEoYSxiKSxhLnByb3ZpZGVySWQ9Yi5wcm92aWRlcixkZWxldGUgYS5wcm92aWRlcik7cmV0dXJuIGF9O3ZhciBlZz1mdW5jdGlvbihhKXtpZihhLmNvZGUpe3ZhciBiPWEuY29kZXx8XCJcIjswPT1iLmluZGV4T2YoXCJhdXRoL1wiKSYmKGI9Yi5zdWJzdHJpbmcoNSkpO3JldHVybiBhLmVtYWlsP25ldyBkZyhiLGEuZW1haWwsYmcoYSksYS5tZXNzYWdlKTpuZXcgTyhiLGEubWVzc2FnZXx8dm9pZCAwKX1yZXR1cm4gbnVsbH07dmFyIGZnPWZ1bmN0aW9uKGEpe3RoaXMuQWY9YX07dChmZyxBYyk7ZmcucHJvdG90eXBlLlJiPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLkFmfTtmZy5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm57fX07XG52YXIgUj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1cIk5vZGVcIj09TCgpO2Q9bC5YTUxIdHRwUmVxdWVzdHx8ZCYmZmlyZWJhc2UuSU5URVJOQUwubm9kZSYmZmlyZWJhc2UuSU5URVJOQUwubm9kZS5YTUxIdHRwUmVxdWVzdDtpZighZCl0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIsXCJUaGUgWE1MSHR0cFJlcXVlc3QgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3RoaXMuaj1hO2E9Ynx8e307dGhpcy5oZj1hLnNlY3VyZVRva2VuRW5kcG9pbnR8fFwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiO3RoaXMuamY9YS5zZWN1cmVUb2tlblRpbWVvdXR8fGdnO3RoaXMuUGQ9U2EoYS5zZWN1cmVUb2tlbkhlYWRlcnN8fGhnKTt0aGlzLndlPWEuZmlyZWJhc2VFbmRwb2ludHx8XCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiO3RoaXMueGU9YS5maXJlYmFzZVRpbWVvdXR8fFxuaWc7dGhpcy53ZD1TYShhLmZpcmViYXNlSGVhZGVyc3x8amcpO2MmJih0aGlzLndkW1wiWC1DbGllbnQtVmVyc2lvblwiXT1jLHRoaXMuUGRbXCJYLUNsaWVudC1WZXJzaW9uXCJdPWMpO3RoaXMubmU9bmV3IEZjO3RoaXMuemY9bmV3IGZnKGQpfSxrZyxnZz1uZXcgeWYoM0U0LDZFNCksaGc9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0saWc9bmV3IHlmKDNFNCw2RTQpLGpnPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxtZz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt4ZigpPyhhZigpP2E9cihhLmxmLGEpOihrZ3x8KGtnPW5ldyBDKGZ1bmN0aW9uKGEsYil7bGcoYSxiKX0pKSxhPXIoYS5rZixhKSksYShiLGMsZCxlLGYsZykpOmMmJmMobnVsbCl9O1xuUi5wcm90b3R5cGUubGY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPVwiTm9kZVwiPT1MKCksaz1tZigpP2c/bmV3IEcodGhpcy56Zik6bmV3IEc6bmV3IEcodGhpcy5uZSksbjtmJiYoay5rYj1NYXRoLm1heCgwLGYpLG49c2V0VGltZW91dChmdW5jdGlvbigpe2suZGlzcGF0Y2hFdmVudChcInRpbWVvdXRcIil9LGYpKTtrLmxpc3RlbihcImNvbXBsZXRlXCIsZnVuY3Rpb24oKXtuJiZjbGVhclRpbWVvdXQobik7dmFyIGE9bnVsbDt0cnl7YT1KU09OLnBhcnNlKEFlKHRoaXMpKXx8bnVsbH1jYXRjaChXYSl7YT1udWxsfWImJmIoYSl9KTtiYyhrLFwicmVhZHlcIixmdW5jdGlvbigpe24mJmNsZWFyVGltZW91dChuKTt0aGlzLkFhfHwodGhpcy5BYT0hMCx0aGlzLlRhKCkpfSk7YmMoayxcInRpbWVvdXRcIixmdW5jdGlvbigpe24mJmNsZWFyVGltZW91dChuKTt0aGlzLkFhfHwodGhpcy5BYT0hMCx0aGlzLlRhKCkpO2ImJmIobnVsbCl9KTtrLnNlbmQoYSxjLGQsZSl9O1xudmFyIERkPVwiX19mY2JcIitNYXRoLmZsb29yKDFFNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpLGxnPWZ1bmN0aW9uKGEsYil7KCh3aW5kb3cuZ2FwaXx8e30pLmNsaWVudHx8e30pLnJlcXVlc3Q/YSgpOihsW0RkXT1mdW5jdGlvbigpeygod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P2EoKTpiKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSl9LEZkKGZ1bmN0aW9uKCl7YihFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpfSkpfTtcblIucHJvdG90eXBlLmtmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcztrZy50aGVuKGZ1bmN0aW9uKCl7d2luZG93LmdhcGkuY2xpZW50LnNldEFwaUtleShmLmopO3ZhciBnPXdpbmRvdy5nYXBpLmF1dGguZ2V0VG9rZW4oKTt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKG51bGwpO3dpbmRvdy5nYXBpLmNsaWVudC5yZXF1ZXN0KHtwYXRoOmEsbWV0aG9kOmMsYm9keTpkLGhlYWRlcnM6ZSxhdXRoVHlwZTpcIm5vbmVcIixjYWxsYmFjazpmdW5jdGlvbihhKXt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKGcpO2ImJmIoYSl9fSl9KS5jKGZ1bmN0aW9uKGEpe2ImJmIoe2Vycm9yOnttZXNzYWdlOmEmJmEubWVzc2FnZXx8XCJDT1JTX1VOU1VQUE9SVEVEXCJ9fSl9KX07XG52YXIgb2c9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYyxkKXtcInJlZnJlc2hfdG9rZW5cIj09Yi5ncmFudF90eXBlJiZiLnJlZnJlc2hfdG9rZW58fFwiYXV0aG9yaXphdGlvbl9jb2RlXCI9PWIuZ3JhbnRfdHlwZSYmYi5jb2RlP21nKGEsYS5oZitcIj9rZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuaiksZnVuY3Rpb24oYSl7YT9hLmVycm9yP2QobmcoYSkpOmEuYWNjZXNzX3Rva2VuJiZhLnJlZnJlc2hfdG9rZW4/YyhhKTpkKG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIikpOmQobmV3IE8oXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sXCJQT1NUXCIsVmUoYikudG9TdHJpbmcoKSxhLlBkLGEuamYuZ2V0KCkpOmQobmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKSl9KX0scGc9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1RZShhLndlK2IpO0ooZixcImtleVwiLGEuaik7ZSYmSihmLFwiY2JcIixrYSgpLnRvU3RyaW5nKCkpO3ZhciBnPVwiR0VUXCI9PWM7aWYoZylmb3IodmFyIGsgaW4gZClkLmhhc093blByb3BlcnR5KGspJiZcbkooZixrLGRba10pO3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGUpe21nKGEsZi50b1N0cmluZygpLGZ1bmN0aW9uKGEpe2E/YS5lcnJvcj9lKG5nKGEpKTpiKGEpOmUobmV3IE8oXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sYyxnP3ZvaWQgMDp3Yyh0ZihkKSksYS53ZCxhLnhlLmdldCgpKX0pfSxxZz1mdW5jdGlvbihhKXtpZighaGMudGVzdChhLmVtYWlsKSl0aHJvdyBuZXcgTyhcImludmFsaWQtZW1haWxcIik7fSxyZz1mdW5jdGlvbihhKXtcImVtYWlsXCJpbiBhJiZxZyhhKX0sdGc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUShhLHNnLHtpZGVudGlmaWVyOmIsY29udGludWVVcmk6b2YoKT9YZSgpOlwiaHR0cDovL2xvY2FsaG9zdFwifSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5hbGxQcm92aWRlcnN8fFtdfSl9LHZnPWZ1bmN0aW9uKGEpe3JldHVybiBRKGEsdWcse30pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXV0aG9yaXplZERvbWFpbnN8fFtdfSl9LHdnPWZ1bmN0aW9uKGEpe2lmKCFhLmlkVG9rZW4pdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKTtcbn07Ui5wcm90b3R5cGUuc2lnbkluQW5vbnltb3VzbHk9ZnVuY3Rpb24oKXtyZXR1cm4gUSh0aGlzLHhnLHt9KX07Ui5wcm90b3R5cGUudXBkYXRlRW1haWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUSh0aGlzLHlnLHtpZFRva2VuOmEsZW1haWw6Yn0pfTtSLnByb3RvdHlwZS51cGRhdGVQYXNzd29yZD1mdW5jdGlvbihhLGIpe3JldHVybiBRKHRoaXMsWmYse2lkVG9rZW46YSxwYXNzd29yZDpifSl9O3ZhciB6Zz17ZGlzcGxheU5hbWU6XCJESVNQTEFZX05BTUVcIixwaG90b1VybDpcIlBIT1RPX1VSTFwifTtSLnByb3RvdHlwZS51cGRhdGVQcm9maWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9e2lkVG9rZW46YX0sZD1bXTtOYSh6ZyxmdW5jdGlvbihhLGYpe3ZhciBlPWJbZl07bnVsbD09PWU/ZC5wdXNoKGEpOmYgaW4gYiYmKGNbZl09ZSl9KTtkLmxlbmd0aCYmKGMuZGVsZXRlQXR0cmlidXRlPWQpO3JldHVybiBRKHRoaXMseWcsYyl9O1xuUi5wcm90b3R5cGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gUSh0aGlzLEFnLHtyZXF1ZXN0VHlwZTpcIlBBU1NXT1JEX1JFU0VUXCIsZW1haWw6YX0pfTtSLnByb3RvdHlwZS5zZW5kRW1haWxWZXJpZmljYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIFEodGhpcyxCZyx7cmVxdWVzdFR5cGU6XCJWRVJJRllfRU1BSUxcIixpZFRva2VuOmF9KX07XG52YXIgRGc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBRKGEsQ2cse2lkVG9rZW46YixkZWxldGVQcm92aWRlcjpjfSl9LEVnPWZ1bmN0aW9uKGEpe2lmKCFhLnJlcXVlc3RVcml8fCFhLnNlc3Npb25JZCYmIWEucG9zdEJvZHkpdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKTt9LEZnPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5uZWVkQ29uZmlybWF0aW9uPyhhLmNvZGU9XCJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsXCIsYj1lZyhhKSk6XCJGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRFwiPT1hLmVycm9yTWVzc2FnZT8oYS5jb2RlPVwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLGI9ZWcoYSkpOlwiRU1BSUxfRVhJU1RTXCI9PWEuZXJyb3JNZXNzYWdlJiYoYS5jb2RlPVwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixiPWVnKGEpKTtpZihiKXRocm93IGI7aWYoIWEuaWRUb2tlbil0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIpO30sUGY9ZnVuY3Rpb24oYSxcbmIpe2IucmV0dXJuSWRwQ3JlZGVudGlhbD0hMDtyZXR1cm4gUShhLEdnLGIpfSxSZj1mdW5jdGlvbihhLGIpe2IucmV0dXJuSWRwQ3JlZGVudGlhbD0hMDtyZXR1cm4gUShhLEhnLGIpfSxJZz1mdW5jdGlvbihhKXtpZighYS5vb2JDb2RlKXRocm93IG5ldyBPKFwiaW52YWxpZC1hY3Rpb24tY29kZVwiKTt9O1IucHJvdG90eXBlLmNvbmZpcm1QYXNzd29yZFJlc2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFEodGhpcyxKZyx7b29iQ29kZTphLG5ld1Bhc3N3b3JkOmJ9KX07Ui5wcm90b3R5cGUuY2hlY2tBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiBRKHRoaXMsS2cse29vYkNvZGU6YX0pfTtSLnByb3RvdHlwZS5hcHBseUFjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFEodGhpcyxMZyx7b29iQ29kZTphfSl9O1xudmFyIExnPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsSzpJZyxqYjpcImVtYWlsXCJ9LEtnPXtlbmRwb2ludDpcInJlc2V0UGFzc3dvcmRcIixLOklnLHZhOmZ1bmN0aW9uKGEpe2lmKCFhLmVtYWlsfHwhYS5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIpO319LE1nPXtlbmRwb2ludDpcInNpZ251cE5ld1VzZXJcIixLOmZ1bmN0aW9uKGEpe3FnKGEpO2lmKCFhLnBhc3N3b3JkKXRocm93IG5ldyBPKFwid2Vhay1wYXNzd29yZFwiKTt9LHZhOndnLHdhOiEwfSxzZz17ZW5kcG9pbnQ6XCJjcmVhdGVBdXRoVXJpXCJ9LE5nPXtlbmRwb2ludDpcImRlbGV0ZUFjY291bnRcIixpYjpbXCJpZFRva2VuXCJdfSxDZz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLGliOltcImlkVG9rZW5cIixcImRlbGV0ZVByb3ZpZGVyXCJdLEs6ZnVuY3Rpb24oYSl7aWYoIWRhKGEuZGVsZXRlUHJvdmlkZXIpKXRocm93IG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIik7fX0sT2c9e2VuZHBvaW50OlwiZ2V0QWNjb3VudEluZm9cIn0sXG5CZz17ZW5kcG9pbnQ6XCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsaWI6W1wiaWRUb2tlblwiLFwicmVxdWVzdFR5cGVcIl0sSzpmdW5jdGlvbihhKXtpZihcIlZFUklGWV9FTUFJTFwiIT1hLnJlcXVlc3RUeXBlKXRocm93IG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIik7fSxqYjpcImVtYWlsXCJ9LEFnPXtlbmRwb2ludDpcImdldE9vYkNvbmZpcm1hdGlvbkNvZGVcIixpYjpbXCJyZXF1ZXN0VHlwZVwiXSxLOmZ1bmN0aW9uKGEpe2lmKFwiUEFTU1dPUkRfUkVTRVRcIiE9YS5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIpO3FnKGEpfSxqYjpcImVtYWlsXCJ9LHVnPXttZTohMCxlbmRwb2ludDpcImdldFByb2plY3RDb25maWdcIixJZTpcIkdFVFwifSxKZz17ZW5kcG9pbnQ6XCJyZXNldFBhc3N3b3JkXCIsSzpJZyxqYjpcImVtYWlsXCJ9LHlnPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsaWI6W1wiaWRUb2tlblwiXSxLOnJnLHdhOiEwfSxaZj17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLGliOltcImlkVG9rZW5cIl0sXG5LOmZ1bmN0aW9uKGEpe3JnKGEpO2lmKCFhLnBhc3N3b3JkKXRocm93IG5ldyBPKFwid2Vhay1wYXNzd29yZFwiKTt9LHZhOndnLHdhOiEwfSx4Zz17ZW5kcG9pbnQ6XCJzaWdudXBOZXdVc2VyXCIsdmE6d2csd2E6ITB9LEdnPXtlbmRwb2ludDpcInZlcmlmeUFzc2VydGlvblwiLEs6RWcsdmE6Rmcsd2E6ITB9LEhnPXtlbmRwb2ludDpcInZlcmlmeUFzc2VydGlvblwiLEs6ZnVuY3Rpb24oYSl7RWcoYSk7aWYoIWEuaWRUb2tlbil0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIpO30sdmE6Rmcsd2E6ITB9LFBnPXtlbmRwb2ludDpcInZlcmlmeUN1c3RvbVRva2VuXCIsSzpmdW5jdGlvbihhKXtpZighYS50b2tlbil0aHJvdyBuZXcgTyhcImludmFsaWQtY3VzdG9tLXRva2VuXCIpO30sdmE6d2csd2E6ITB9LFlmPXtlbmRwb2ludDpcInZlcmlmeVBhc3N3b3JkXCIsSzpmdW5jdGlvbihhKXtxZyhhKTtpZighYS5wYXNzd29yZCl0aHJvdyBuZXcgTyhcIndyb25nLXBhc3N3b3JkXCIpO30sdmE6d2csd2E6ITB9LFE9XG5mdW5jdGlvbihhLGIsYyl7aWYoIURmKGMsYi5pYikpcmV0dXJuIEUobmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKSk7dmFyIGQ9Yi5JZXx8XCJQT1NUXCIsZTtyZXR1cm4gRChjKS50aGVuKGIuSykudGhlbihmdW5jdGlvbigpe2Iud2EmJihjLnJldHVyblNlY3VyZVRva2VuPSEwKTtyZXR1cm4gcGcoYSxiLmVuZHBvaW50LGQsYyxiLm1lfHwhMSl9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBlPWF9KS50aGVuKGIudmEpLnRoZW4oZnVuY3Rpb24oKXtpZighYi5qYilyZXR1cm4gZTtpZighKGIuamIgaW4gZSkpdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKTtyZXR1cm4gZVtiLmpiXX0pfSxuZz1mdW5jdGlvbihhKXt2YXIgYixjO2M9KGEuZXJyb3ImJmEuZXJyb3IuZXJyb3JzJiZhLmVycm9yLmVycm9yc1swXXx8e30pLnJlYXNvbnx8XCJcIjt2YXIgZD17a2V5SW52YWxpZDpcImludmFsaWQtYXBpLWtleVwiLGlwUmVmZXJlckJsb2NrZWQ6XCJhcHAtbm90LWF1dGhvcml6ZWRcIn07aWYoYz1kW2NdP1xubmV3IE8oZFtjXSk6bnVsbClyZXR1cm4gYztjPWEuZXJyb3ImJmEuZXJyb3IubWVzc2FnZXx8XCJcIjtkPXtJTlZBTElEX0NVU1RPTV9UT0tFTjpcImludmFsaWQtY3VzdG9tLXRva2VuXCIsQ1JFREVOVElBTF9NSVNNQVRDSDpcImN1c3RvbS10b2tlbi1taXNtYXRjaFwiLE1JU1NJTkdfQ1VTVE9NX1RPS0VOOlwiaW50ZXJuYWwtZXJyb3JcIixJTlZBTElEX0lERU5USUZJRVI6XCJpbnZhbGlkLWVtYWlsXCIsTUlTU0lOR19DT05USU5VRV9VUkk6XCJpbnRlcm5hbC1lcnJvclwiLElOVkFMSURfRU1BSUw6XCJpbnZhbGlkLWVtYWlsXCIsSU5WQUxJRF9QQVNTV09SRDpcIndyb25nLXBhc3N3b3JkXCIsVVNFUl9ESVNBQkxFRDpcInVzZXItZGlzYWJsZWRcIixNSVNTSU5HX1BBU1NXT1JEOlwiaW50ZXJuYWwtZXJyb3JcIixFTUFJTF9FWElTVFM6XCJlbWFpbC1hbHJlYWR5LWluLXVzZVwiLFBBU1NXT1JEX0xPR0lOX0RJU0FCTEVEOlwib3BlcmF0aW9uLW5vdC1hbGxvd2VkXCIsSU5WQUxJRF9JRFBfUkVTUE9OU0U6XCJpbnZhbGlkLWNyZWRlbnRpYWxcIixcbkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEOlwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLElOVkFMSURfTUVTU0FHRV9QQVlMT0FEOlwiaW52YWxpZC1tZXNzYWdlLXBheWxvYWRcIixJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTDpcImludmFsaWQtcmVjaXBpZW50LWVtYWlsXCIsSU5WQUxJRF9TRU5ERVI6XCJpbnZhbGlkLXNlbmRlclwiLEVNQUlMX05PVF9GT1VORDpcInVzZXItbm90LWZvdW5kXCIsRVhQSVJFRF9PT0JfQ09ERTpcImV4cGlyZWQtYWN0aW9uLWNvZGVcIixJTlZBTElEX09PQl9DT0RFOlwiaW52YWxpZC1hY3Rpb24tY29kZVwiLE1JU1NJTkdfT09CX0NPREU6XCJpbnRlcm5hbC1lcnJvclwiLENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTjpcInJlcXVpcmVzLXJlY2VudC1sb2dpblwiLElOVkFMSURfSURfVE9LRU46XCJpbnZhbGlkLXVzZXItdG9rZW5cIixUT0tFTl9FWFBJUkVEOlwidXNlci10b2tlbi1leHBpcmVkXCIsVVNFUl9OT1RfRk9VTkQ6XCJ1c2VyLXRva2VuLWV4cGlyZWRcIixcbkNPUlNfVU5TVVBQT1JURUQ6XCJjb3JzLXVuc3VwcG9ydGVkXCIsRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQ6XCJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZFwiLFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUjpcInRvby1tYW55LXJlcXVlc3RzXCIsV0VBS19QQVNTV09SRDpcIndlYWstcGFzc3dvcmRcIixPUEVSQVRJT05fTk9UX0FMTE9XRUQ6XCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIixVU0VSX0NBTkNFTExFRDpcInVzZXItY2FuY2VsbGVkXCJ9O2I9KGI9Yy5tYXRjaCgvXlteXFxzXStcXHMqOlxccyooLiopJC8pKSYmMTxiLmxlbmd0aD9iWzFdOnZvaWQgMDtmb3IodmFyIGUgaW4gZClpZigwPT09Yy5pbmRleE9mKGUpKXJldHVybiBuZXcgTyhkW2VdLGIpOyFiJiZhJiYoYj1zZihhKSk7cmV0dXJuIG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIixiKX07dmFyIFFnPWZ1bmN0aW9uKGEpe3RoaXMuVT1hfTtRZy5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VfTtRZy5wcm90b3R5cGUuU2Q9ZnVuY3Rpb24oYSl7dGhpcy5VLnN0eWxlPWE7cmV0dXJuIHRoaXN9O3ZhciBSZz1mdW5jdGlvbihhKXt0aGlzLlU9YXx8e319O1JnLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlV9O1JnLnByb3RvdHlwZS5TZD1mdW5jdGlvbihhKXt0aGlzLlUuc3R5bGU9YTtyZXR1cm4gdGhpc307dmFyIFRnPWZ1bmN0aW9uKGEpe3RoaXMueGY9YTt0aGlzLmFjPW51bGw7dGhpcy5VYz1TZyh0aGlzKX0sVWc9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFJnO2IuVS53aGVyZT1kb2N1bWVudC5ib2R5O2IuVS51cmw9YS54ZjtiLlUubWVzc2FnZUhhbmRsZXJzRmlsdGVyPU0oXCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXCIpO2IuVS5hdHRyaWJ1dGVzPWIuVS5hdHRyaWJ1dGVzfHx7fTsobmV3IFFnKGIuVS5hdHRyaWJ1dGVzKSkuU2Qoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMTAwcHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwifSk7Yi5VLmRvbnRjbGVhcj0hMDtyZXR1cm4gYn0sU2c9ZnVuY3Rpb24oYSl7cmV0dXJuIFZnKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe00oXCJnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dFwiKSgpLm9wZW4oVWcoYSkudmFsdWUoKSxmdW5jdGlvbihkKXthLmFjPWQ7YS5hYy5yZXN0eWxlKHtzZXRIaWRlT25MZWF2ZTohMX0pO1xudmFyIGU9c2V0VGltZW91dChmdW5jdGlvbigpe2MoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0sV2cuZ2V0KCkpLGY9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZSk7YigpfTtkLnBpbmcoZikudGhlbihmLGZ1bmN0aW9uKCl7YyhFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSl9KX0pfSl9O1RnLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLlVjLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYyl7Yi5hYy5zZW5kKGEudHlwZSxhLGMsTShcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIikpfSl9KX07XG52YXIgWGc9ZnVuY3Rpb24oYSxiKXthLlVjLnRoZW4oZnVuY3Rpb24oKXthLmFjLnJlZ2lzdGVyKFwiYXV0aEV2ZW50XCIsYixNKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSl9KX0sWWc9bmV3IHlmKDNFNCw2RTQpLFdnPW5ldyB5Zig1RTMsMTVFMyksVmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYSxiKXtpZih4ZigpKXt2YXIgYz1mdW5jdGlvbigpe3dmKCk7TShcImdhcGkubG9hZFwiKShcImdhcGkuaWZyYW1lc1wiLHtjYWxsYmFjazphLG9udGltZW91dDpmdW5jdGlvbigpe3dmKCk7YihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSx0aW1lb3V0OllnLmdldCgpfSl9O2lmKE0oXCJnYXBpLmlmcmFtZXMuSWZyYW1lXCIpKWEoKTtlbHNlIGlmKE0oXCJnYXBpLmxvYWRcIikpYygpO2Vsc2V7dmFyIGQ9XCJfX2lmcmFtZWZjYlwiK01hdGguZmxvb3IoMUU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7bFtkXT1mdW5jdGlvbigpe00oXCJnYXBpLmxvYWRcIik/XG5jKCk6YihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfTtEKENkKFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzP29ubG9hZD1cIitkKSkuYyhmdW5jdGlvbigpe2IoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pfX1lbHNlIGIoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pfTt2YXIgWmc9ZnVuY3Rpb24oYSxiLGMpe3RoaXMudj1hO3RoaXMuaj1iO3RoaXMuQj1jO3RoaXMuTWE9bnVsbDt0aGlzLk1iPVJlKHRoaXMudixcIi9fXy9hdXRoL2lmcmFtZVwiKTtKKHRoaXMuTWIsXCJhcGlLZXlcIix0aGlzLmopO0oodGhpcy5NYixcImFwcE5hbWVcIix0aGlzLkIpfTtaZy5wcm90b3R5cGUuc2V0VmVyc2lvbj1mdW5jdGlvbihhKXt0aGlzLk1hPWE7cmV0dXJuIHRoaXN9O1pnLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3RoaXMuTWE/Sih0aGlzLk1iLFwidlwiLHRoaXMuTWEpOlBlKHRoaXMuTWIsXCJ2XCIpO3JldHVybiB0aGlzLk1iLnRvU3RyaW5nKCl9O3ZhciBhaD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMudj1hO3RoaXMuaj1iO3RoaXMuQj1jO3RoaXMubGU9ZDt0aGlzLk1hPXRoaXMuRj10aGlzLmFkPW51bGw7dGhpcy5rYz1lfTthaC5wcm90b3R5cGUuc2V0VmVyc2lvbj1mdW5jdGlvbihhKXt0aGlzLk1hPWE7cmV0dXJuIHRoaXN9O1xuYWgucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9UmUodGhpcy52LFwiL19fL2F1dGgvaGFuZGxlclwiKTtKKGEsXCJhcGlLZXlcIix0aGlzLmopO0ooYSxcImFwcE5hbWVcIix0aGlzLkIpO0ooYSxcImF1dGhUeXBlXCIsdGhpcy5sZSk7aWYodGhpcy5rYy5pc09BdXRoUHJvdmlkZXIpe0ooYSxcInByb3ZpZGVySWRcIix0aGlzLmtjLnByb3ZpZGVySWQpO3ZhciBiPXRoaXMua2MuQ2UoKTtiJiZiLmxlbmd0aCYmSihhLFwic2NvcGVzXCIsYi5qb2luKFwiLFwiKSk7Yj10aGlzLmtjLkJlKCk7UWEoYil8fEooYSxcImN1c3RvbVBhcmFtZXRlcnNcIixzZihiKSl9dGhpcy5hZD9KKGEsXCJyZWRpcmVjdFVybFwiLHRoaXMuYWQpOlBlKGEsXCJyZWRpcmVjdFVybFwiKTt0aGlzLkY/SihhLFwiZXZlbnRJZFwiLHRoaXMuRik6UGUoYSxcImV2ZW50SWRcIik7dGhpcy5NYT9KKGEsXCJ2XCIsdGhpcy5NYSk6UGUoYSxcInZcIik7aWYodGhpcy5OYilmb3IodmFyIGMgaW4gdGhpcy5OYil0aGlzLk5iLmhhc093blByb3BlcnR5KGMpJiZcbiFPZShhLGMpJiZKKGEsYyx0aGlzLk5iW2NdKTtyZXR1cm4gYS50b1N0cmluZygpfTtcbnZhciBiaD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnY9YTt0aGlzLmo9Yjt0aGlzLkI9Yzt0aGlzLnplPSh0aGlzLnphPWR8fG51bGwpP25mKHRoaXMuemEpOm51bGw7ZD10aGlzLnphO3RoaXMuSmU9KG5ldyBaZyhhLGIsYykpLnNldFZlcnNpb24oZCkudG9TdHJpbmcoKTt0aGlzLmlhPVtdO3RoaXMuZz1uZXcgUihiLG51bGwsdGhpcy56ZSk7dGhpcy5kYz10aGlzLnJhPW51bGx9LGNoPWZ1bmN0aW9uKGEpe3ZhciBiPVhlKCk7cmV0dXJuIHZnKGEpLnRoZW4oZnVuY3Rpb24oYSl7YTp7Zm9yKHZhciBjPVFlKGIpLGU9Yy5kYSxjPWMuJCxmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnO3ZhciBrPWFbZl07Zz1jO3ZhciBuPWU7MD09ay5pbmRleE9mKFwiY2hyb21lLWV4dGVuc2lvbjovL1wiKT9nPVFlKGspLiQ9PWcmJlwiY2hyb21lLWV4dGVuc2lvblwiPT1uOlwiaHR0cFwiIT1uJiZcImh0dHBzXCIhPW4/Zz0hMTpmZi50ZXN0KGspP2c9Zz09azooaz1rLnNwbGl0KFwiLlwiKS5qb2luKFwiXFxcXC5cIiksZz0obmV3IFJlZ0V4cChcIl4oLitcXFxcLlwiK1xuaytcInxcIitrK1wiKSRcIixcImlcIikpLnRlc3QoZykpO2lmKGcpe2E9ITA7YnJlYWsgYX19YT0hMX1pZighYSl0aHJvdyBuZXcgTWYoWGUoKSk7fSl9O2g9YmgucHJvdG90eXBlO2gudWI9ZnVuY3Rpb24oKXtpZih0aGlzLmRjKXJldHVybiB0aGlzLmRjO3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuZGM9Z2YoKS50aGVuKGZ1bmN0aW9uKCl7YS4kYj1uZXcgVGcoYS5KZSk7ZGgoYSl9KX07aC5IYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IE8oXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiKSxlPW5ldyBPKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIiksZj10aGlzLGc9ITE7cmV0dXJuIHRoaXMuRGEoKS50aGVuKGZ1bmN0aW9uKCl7ZWgoZikudGhlbihmdW5jdGlvbihjKXtjfHwoYSYmY2YoYSksYihlKSxnPSEwKX0pfSkuYyhmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtpZighZylyZXR1cm4gZWYoYSl9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWcpcmV0dXJuIGtlKGMpLnRoZW4oZnVuY3Rpb24oKXtiKGQpfSl9KX07XG5oLlRkPWZ1bmN0aW9uKCl7dmFyIGE9SygpO3JldHVybiFyZihhKSYmIXZmKGEpfTtoLkFkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guQmI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYoIWEpcmV0dXJuIEUobmV3IE8oXCJwb3B1cC1ibG9ja2VkXCIpKTtpZihnJiYhcmYoKSlyZXR1cm4gdGhpcy5EYSgpLmMoZnVuY3Rpb24oYil7Y2YoYSk7ZShiKX0pLGQoKSxEKCk7dGhpcy5yYXx8KHRoaXMucmE9Y2godGhpcy5nKSk7dmFyIGs9dGhpcztyZXR1cm4gdGhpcy5yYS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9ay5EYSgpLmMoZnVuY3Rpb24oYil7Y2YoYSk7ZShiKTt0aHJvdyBiO30pO2QoKTtyZXR1cm4gYn0pLnRoZW4oZnVuY3Rpb24oKXtjZyhjKTtpZighZyl7dmFyIGQ9Zmgoay52LGsuaixrLkIsYixjLG51bGwsZixrLnphKTtZZShkLGEpfX0pLmMoZnVuY3Rpb24oYSl7XCJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWRcIj09YS5jb2RlJiYoay5yYT1udWxsKTt0aHJvdyBhO30pfTtcbmguQ2I9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucmF8fCh0aGlzLnJhPWNoKHRoaXMuZykpO3ZhciBkPXRoaXM7cmV0dXJuIHRoaXMucmEudGhlbihmdW5jdGlvbigpe2NnKGIpO3ZhciBlPWZoKGQudixkLmosZC5CLGEsYixYZSgpLGMsZC56YSk7WWUoZSl9KX07aC5EYT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMudWIoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuJGIuVWN9KS5jKGZ1bmN0aW9uKCl7YS5yYT1udWxsO3Rocm93IG5ldyBPKFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKTt9KX07aC5XZD1mdW5jdGlvbigpe3JldHVybiEwfTtcbnZhciBmaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbil7YT1uZXcgYWgoYSxiLGMsZCxlKTthLmFkPWY7YS5GPWc7Zj1hLnNldFZlcnNpb24oayk7Zi5OYj1TYShufHxudWxsKTtyZXR1cm4gZi50b1N0cmluZygpfSxkaD1mdW5jdGlvbihhKXtpZighYS4kYil0aHJvdyBFcnJvcihcIklmY0hhbmRsZXIgbXVzdCBiZSBpbml0aWFsaXplZCFcIik7WGcoYS4kYixmdW5jdGlvbihiKXt2YXIgYz17fTtpZihiJiZiLmF1dGhFdmVudCl7dmFyIGQ9ITE7Yj1MZihiLmF1dGhFdmVudCk7Zm9yKGM9MDtjPGEuaWEubGVuZ3RoO2MrKylkPWEuaWFbY10oYil8fGQ7Yz17fTtjLnN0YXR1cz1kP1wiQUNLXCI6XCJFUlJPUlwiO3JldHVybiBEKGMpfWMuc3RhdHVzPVwiRVJST1JcIjtyZXR1cm4gRChjKX0pfSxlaD1mdW5jdGlvbihhKXt2YXIgYj17dHlwZTpcIndlYlN0b3JhZ2VTdXBwb3J0XCJ9O3JldHVybiBhLnViKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBhLiRiLnNlbmRNZXNzYWdlKGIpfSkudGhlbihmdW5jdGlvbihhKXtpZihhJiZcbmEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGFbMF0ud2ViU3RvcmFnZVN1cHBvcnQpcmV0dXJuIGFbMF0ud2ViU3RvcmFnZVN1cHBvcnQ7dGhyb3cgRXJyb3IoKTt9KX07YmgucHJvdG90eXBlLk9hPWZ1bmN0aW9uKGEpe3RoaXMuaWEucHVzaChhKX07YmgucHJvdG90eXBlLkZiPWZ1bmN0aW9uKGEpe0thKHRoaXMuaWEsZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9KX07dmFyIGdoPWZ1bmN0aW9uKGEpe3RoaXMuQT1hfHxmaXJlYmFzZS5JTlRFUk5BTC5yZWFjdE5hdGl2ZSYmZmlyZWJhc2UuSU5URVJOQUwucmVhY3ROYXRpdmUuQXN5bmNTdG9yYWdlO2lmKCF0aGlzLkEpdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFJlYWN0IE5hdGl2ZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7fTtoPWdoLnByb3RvdHlwZTtoLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gRCh0aGlzLkEuZ2V0SXRlbShhKSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYSYmdWYoYSl9KX07aC5zZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRCh0aGlzLkEuc2V0SXRlbShhLHNmKGIpKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBEKHRoaXMuQS5yZW1vdmVJdGVtKGEpKX07aC5QYT1mdW5jdGlvbigpe307aC5KYT1mdW5jdGlvbigpe307dmFyIGhoPWZ1bmN0aW9uKCl7dGhpcy5BPXt9fTtoPWhoLnByb3RvdHlwZTtoLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gRCh0aGlzLkFbYV0pfTtoLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuQVthXT1iO3JldHVybiBEKCl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLkFbYV07cmV0dXJuIEQoKX07aC5QYT1mdW5jdGlvbigpe307aC5KYT1mdW5jdGlvbigpe307dmFyIGpoPWZ1bmN0aW9uKCl7aWYoIWloKCkpe2lmKFwiTm9kZVwiPT1MKCkpdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIExvY2FsU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhyb3cgbmV3IE8oXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKTt9dGhpcy5BPWwubG9jYWxTdG9yYWdlfHxmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLmxvY2FsU3RvcmFnZX0saWg9ZnVuY3Rpb24oKXt2YXIgYT1cIk5vZGVcIj09TCgpLGE9bC5sb2NhbFN0b3JhZ2V8fGEmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUubG9jYWxTdG9yYWdlO2lmKCFhKXJldHVybiExO3RyeXtyZXR1cm4gYS5zZXRJdGVtKFwiX19zYWtcIixcIjFcIiksYS5yZW1vdmVJdGVtKFwiX19zYWtcIiksITB9Y2F0Y2goYil7cmV0dXJuITF9fTtoPWpoLnByb3RvdHlwZTtcbmguZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEQoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9Yi5BLmdldEl0ZW0oYSk7cmV0dXJuIHVmKGMpfSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZD1zZihiKTtudWxsPT09ZD9jLnJlbW92ZShhKTpjLkEuc2V0SXRlbShhLGQpfSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEQoKS50aGVuKGZ1bmN0aW9uKCl7Yi5BLnJlbW92ZUl0ZW0oYSl9KX07aC5QYT1mdW5jdGlvbihhKXtsLndpbmRvdyYmVWIobC53aW5kb3csXCJzdG9yYWdlXCIsYSl9O2guSmE9ZnVuY3Rpb24oYSl7bC53aW5kb3cmJmNjKGwud2luZG93LFwic3RvcmFnZVwiLGEpfTt2YXIga2g9ZnVuY3Rpb24oKXt0aGlzLkE9e319O2g9a2gucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEQobnVsbCl9O2guc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEQoKX07aC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gRCgpfTtoLlBhPWZ1bmN0aW9uKCl7fTtoLkphPWZ1bmN0aW9uKCl7fTt2YXIgbWg9ZnVuY3Rpb24oKXtpZighbGgoKSl7aWYoXCJOb2RlXCI9PUwoKSl0aHJvdyBuZXcgTyhcImludGVybmFsLWVycm9yXCIsXCJUaGUgU2Vzc2lvblN0b3JhZ2UgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3Rocm93IG5ldyBPKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIik7fXRoaXMuQT1sLnNlc3Npb25TdG9yYWdlfHxmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLnNlc3Npb25TdG9yYWdlfSxsaD1mdW5jdGlvbigpe3ZhciBhPVwiTm9kZVwiPT1MKCksYT1sLnNlc3Npb25TdG9yYWdlfHxhJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLnNlc3Npb25TdG9yYWdlO2lmKCFhKXJldHVybiExO3RyeXtyZXR1cm4gYS5zZXRJdGVtKFwiX19zYWtcIixcIjFcIiksYS5yZW1vdmVJdGVtKFwiX19zYWtcIiksITB9Y2F0Y2goYil7cmV0dXJuITF9fTtoPW1oLnByb3RvdHlwZTtcbmguZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEQoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9Yi5BLmdldEl0ZW0oYSk7cmV0dXJuIHVmKGMpfSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZD1zZihiKTtudWxsPT09ZD9jLnJlbW92ZShhKTpjLkEuc2V0SXRlbShhLGQpfSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEQoKS50aGVuKGZ1bmN0aW9uKCl7Yi5BLnJlbW92ZUl0ZW0oYSl9KX07aC5QYT1mdW5jdGlvbigpe307aC5KYT1mdW5jdGlvbigpe307dmFyIG5oPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZighd2luZG93LmluZGV4ZWREQil0aHJvdyBuZXcgTyhcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO3RoaXMucGU9YTt0aGlzLlRjPWI7dGhpcy5HYz1jO3RoaXMuJGQ9ZDt0aGlzLm5iPWU7dGhpcy5ZPXt9O3RoaXMuSWI9W107dGhpcy54Yj0wO3RoaXMuS2U9Znx8bC5pbmRleGVkREJ9LG9oLHBoPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe3ZhciBkPWEuS2Uub3BlbihhLnBlLGEubmIpO2Qub25lcnJvcj1mdW5jdGlvbihhKXtjKEVycm9yKGEudGFyZ2V0LmVycm9yQ29kZSkpfTtkLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihiKXtiPWIudGFyZ2V0LnJlc3VsdDt0cnl7Yi5jcmVhdGVPYmplY3RTdG9yZShhLlRjLHtrZXlQYXRoOmEuR2N9KX1jYXRjaChmKXtjKGYpfX07ZC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7YihhLnRhcmdldC5yZXN1bHQpfX0pfSxxaD1mdW5jdGlvbihhKXthLkRkfHwoYS5EZD1cbnBoKGEpKTtyZXR1cm4gYS5EZH0scmg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5vYmplY3RTdG9yZShhLlRjKX0sc2g9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLnRyYW5zYWN0aW9uKFthLlRjXSxjP1wicmVhZHdyaXRlXCI6XCJyZWFkb25seVwiKX0sdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGIsYyl7YS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7YSYmYS50YXJnZXQ/YihhLnRhcmdldC5yZXN1bHQpOmIoKX07YS5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9fSl9O2g9bmgucHJvdG90eXBlO1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkLGU9dGhpcztyZXR1cm4gbGQocWgodGhpcykudGhlbihmdW5jdGlvbihiKXtkPWI7Yj1yaChlLHNoKGUsZCwhMCkpO3JldHVybiB0aChiLmdldChhKSl9KS50aGVuKGZ1bmN0aW9uKGYpe3ZhciBnPXJoKGUsc2goZSxkLCEwKSk7aWYoZilyZXR1cm4gZi52YWx1ZT1iLHRoKGcucHV0KGYpKTtlLnhiKys7Yz0hMDtmPXt9O2ZbZS5HY109YTtmW2UuJGRdPWI7cmV0dXJuIHRoKGcuYWRkKGYpKX0pLnRoZW4oZnVuY3Rpb24oKXtlLllbYV09Yn0pLGZ1bmN0aW9uKCl7YyYmZS54Yi0tfSl9O2guZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHFoKHRoaXMpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIHRoKHJoKGIsc2goYixjLCExKSkuZ2V0KGEpKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEudmFsdWV9KX07XG5oLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj0hMSxjPXRoaXM7cmV0dXJuIGxkKHFoKHRoaXMpLnRoZW4oZnVuY3Rpb24oZCl7Yj0hMDtjLnhiKys7cmV0dXJuIHRoKHJoKGMsc2goYyxkLCEwKSlbXCJkZWxldGVcIl0oYSkpfSkudGhlbihmdW5jdGlvbigpe2RlbGV0ZSBjLllbYV19KSxmdW5jdGlvbigpe2ImJmMueGItLX0pfTtcbmgucGY9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBxaCh0aGlzKS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPXJoKGEsc2goYSxiLCExKSk7cmV0dXJuIGMuZ2V0QWxsP3RoKGMuZ2V0QWxsKCkpOm5ldyBDKGZ1bmN0aW9uKGEsYil7dmFyIGQ9W10sZT1jLm9wZW5DdXJzb3IoKTtlLm9uc3VjY2Vzcz1mdW5jdGlvbihiKXsoYj1iLnRhcmdldC5yZXN1bHQpPyhkLnB1c2goYi52YWx1ZSksYltcImNvbnRpbnVlXCJdKCkpOmEoZCl9O2Uub25lcnJvcj1mdW5jdGlvbihhKXtiKEVycm9yKGEudGFyZ2V0LmVycm9yQ29kZSkpfX0pfSkudGhlbihmdW5jdGlvbihiKXt2YXIgYz17fSxkPVtdO2lmKDA9PWEueGIpe2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspY1tiW2RdW2EuR2NdXT1iW2RdW2EuJGRdO2Q9WmUoYS5ZLGMpO2EuWT1jfXJldHVybiBkfSl9O2guUGE9ZnVuY3Rpb24oYSl7MD09dGhpcy5JYi5sZW5ndGgmJnRoaXMuZ2QoKTt0aGlzLkliLnB1c2goYSl9O1xuaC5KYT1mdW5jdGlvbihhKXtLYSh0aGlzLkliLGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSk7MD09dGhpcy5JYi5sZW5ndGgmJnRoaXMucmMoKX07aC5nZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5yYygpO3ZhciBiPWZ1bmN0aW9uKCl7YS5YYz1rZSg4MDApLnRoZW4ocihhLnBmLGEpKS50aGVuKGZ1bmN0aW9uKGIpezA8Yi5sZW5ndGgmJngoYS5JYixmdW5jdGlvbihhKXthKGIpfSl9KS50aGVuKGIpLmMoZnVuY3Rpb24oYSl7XCJTVE9QX0VWRU5UXCIhPWEubWVzc2FnZSYmYigpfSk7cmV0dXJuIGEuWGN9O2IoKX07aC5yYz1mdW5jdGlvbigpe3RoaXMuWGMmJnRoaXMuWGMuY2FuY2VsKFwiU1RPUF9FVkVOVFwiKX07dmFyIHhoPWZ1bmN0aW9uKCl7dGhpcy50ZD17QnJvd3Nlcjp1aCxOb2RlOnZoLFJlYWN0TmF0aXZlOndofVtMKCldfSx5aCx1aD17STpqaCxrZDptaH0sdmg9e0k6amgsa2Q6bWh9LHdoPXtJOmdoLGtkOmtofTt2YXIgemg9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz1hLmVtYWlsLGQ9YS5uZXdFbWFpbDthPWEucmVxdWVzdFR5cGU7aWYoIWN8fCFhKXRocm93IEVycm9yKFwiSW52YWxpZCBwcm92aWRlciB1c2VyIGluZm8hXCIpO2IuZnJvbUVtYWlsPWR8fG51bGw7Yi5lbWFpbD1jO04odGhpcyxcIm9wZXJhdGlvblwiLGEpO04odGhpcyxcImRhdGFcIixFZihiKSl9O3ZhciBBaD1cIkZpcnN0IFNlY29uZCBUaGlyZCBGb3VydGggRmlmdGggU2l4dGggU2V2ZW50aCBFaWdodGggTmludGhcIi5zcGxpdChcIiBcIiksUz1mdW5jdGlvbihhLGIpe3JldHVybntuYW1lOmF8fFwiXCIsZmE6XCJhIHZhbGlkIHN0cmluZ1wiLG9wdGlvbmFsOiEhYixoYTpwfX0sVD1mdW5jdGlvbihhKXtyZXR1cm57bmFtZTphfHxcIlwiLGZhOlwiYSB2YWxpZCBvYmplY3RcIixvcHRpb25hbDohMSxoYTpnYX19LEJoPWZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6YXx8XCJcIixmYTpcImEgZnVuY3Rpb25cIixvcHRpb25hbDohIWIsaGE6cX19LENoPWZ1bmN0aW9uKCl7cmV0dXJue25hbWU6XCJcIixmYTpcIm51bGxcIixvcHRpb25hbDohMSxoYTpjYX19LERoPWZ1bmN0aW9uKCl7cmV0dXJue25hbWU6XCJjcmVkZW50aWFsXCIsZmE6XCJhIHZhbGlkIGNyZWRlbnRpYWxcIixvcHRpb25hbDohMSxoYTpmdW5jdGlvbihhKXtyZXR1cm4hKCFhfHwhYS5VYil9fX0sRWg9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcImF1dGhQcm92aWRlclwiLFxuZmE6XCJhIHZhbGlkIEF1dGggcHJvdmlkZXJcIixvcHRpb25hbDohMSxoYTpmdW5jdGlvbihhKXtyZXR1cm4hIShhJiZhLnByb3ZpZGVySWQmJmEuaGFzT3duUHJvcGVydHkmJmEuaGFzT3duUHJvcGVydHkoXCJpc09BdXRoUHJvdmlkZXJcIikpfX19LEZoPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybntuYW1lOmN8fFwiXCIsZmE6YS5mYStcIiBvciBcIitiLmZhLG9wdGlvbmFsOiEhZCxoYTpmdW5jdGlvbihjKXtyZXR1cm4gYS5oYShjKXx8Yi5oYShjKX19fTt2YXIgSGg9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYil7dmFyIGQ9YltjXS5uYW1lO2FbZF09R2goZCxhW2NdLGJbY10uYSl9fSxVPWZ1bmN0aW9uKGEsYixjLGQpe2FbYl09R2goYixjLGQpfSxHaD1mdW5jdGlvbihhLGIsYyl7aWYoIWMpcmV0dXJuIGI7dmFyIGQ9SWgoYSk7YT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZTthOntlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO3ZhciBrO2s9MDtmb3IodmFyIG49ITEseT0wO3k8Yy5sZW5ndGg7eSsrKWlmKGNbeV0ub3B0aW9uYWwpbj0hMDtlbHNle2lmKG4pdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiLFwiQXJndW1lbnQgdmFsaWRhdG9yIGVuY291bnRlcmVkIGEgcmVxdWlyZWQgYXJndW1lbnQgYWZ0ZXIgYW4gb3B0aW9uYWwgYXJndW1lbnQuXCIpO2srK31uPWMubGVuZ3RoO2lmKGUubGVuZ3RoPGt8fG48ZS5sZW5ndGgpZT1cIkV4cGVjdGVkIFwiKyhrPT1uPzE9PVxuaz9cIjEgYXJndW1lbnRcIjprK1wiIGFyZ3VtZW50c1wiOmsrXCItXCIrbitcIiBhcmd1bWVudHNcIikrXCIgYnV0IGdvdCBcIitlLmxlbmd0aCtcIi5cIjtlbHNle2ZvcihrPTA7azxlLmxlbmd0aDtrKyspaWYobj1jW2tdLm9wdGlvbmFsJiZ2b2lkIDA9PT1lW2tdLCFjW2tdLmhhKGVba10pJiYhbil7ZT1jW2tdO2lmKDA+a3x8az49QWgubGVuZ3RoKXRocm93IG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtlPUFoW2tdK1wiIGFyZ3VtZW50IFwiKyhlLm5hbWU/J1wiJytlLm5hbWUrJ1wiICc6XCJcIikrXCJtdXN0IGJlIFwiK2UuZmErXCIuXCI7YnJlYWsgYX1lPW51bGx9fWlmKGUpdGhyb3cgbmV3IE8oXCJhcmd1bWVudC1lcnJvclwiLGQrXCIgZmFpbGVkOiBcIitlKTtyZXR1cm4gYi5hcHBseSh0aGlzLGEpfTtmb3IodmFyIGUgaW4gYilhW2VdPWJbZV07Zm9yKGUgaW4gYi5wcm90b3R5cGUpYS5wcm90b3R5cGVbZV09XG5iLnByb3RvdHlwZVtlXTtyZXR1cm4gYX0sSWg9ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiLlwiKTtyZXR1cm4gYVthLmxlbmd0aC0xXX07dmFyIEpoPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuWGU9YTt0aGlzLlFkPWI7dGhpcy5mZj1jO3RoaXMuR2I9ZDt0aGlzLlM9e307eWh8fCh5aD1uZXcgeGgpO2E9eWg7dHJ5e3ZhciBlO1dlKCk/KG9ofHwob2g9bmV3IG5oKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYlwiLFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VcIixcImZiYXNlX2tleVwiLFwidmFsdWVcIiwxKSksZT1vaCk6ZT1uZXcgYS50ZC5JO3RoaXMuSGE9ZX1jYXRjaChmKXt0aGlzLkhhPW5ldyBoaCx0aGlzLkdiPSEwfXRyeXt0aGlzLnRjPW5ldyBhLnRkLmtkfWNhdGNoKGYpe3RoaXMudGM9bmV3IGhofXRoaXMuaGQ9cih0aGlzLlVkLHRoaXMpO3RoaXMuWT17fX0sS2gsTGg9ZnVuY3Rpb24oKXtLaHx8KEtoPW5ldyBKaChcImZpcmViYXNlXCIsXCI6XCIsIXZmKEsoKSkmJmxmKCk/ITA6ITEscmYoKSkpO3JldHVybiBLaH07aD1KaC5wcm90b3R5cGU7XG5oLlA9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5YZSt0aGlzLlFkK2EubmFtZSsoYj90aGlzLlFkK2I6XCJcIil9O2guZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEuST90aGlzLkhhOnRoaXMudGMpLmdldCh0aGlzLlAoYSxiKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEsYil7Yj10aGlzLlAoYSxiKTthLkkmJiF0aGlzLkdiJiYodGhpcy5ZW2JdPW51bGwpO3JldHVybihhLkk/dGhpcy5IYTp0aGlzLnRjKS5yZW1vdmUoYil9O2guc2V0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLlAoYSxjKSxlPXRoaXMsZj1hLkk/dGhpcy5IYTp0aGlzLnRjO3JldHVybiBmLnNldChkLGIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXQoZCl9KS50aGVuKGZ1bmN0aW9uKGIpe2EuSSYmIXRoaXMuR2ImJihlLllbZF09Yil9KX07XG5oLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXthPXRoaXMuUChhLGIpO3RoaXMuR2J8fCh0aGlzLllbYV09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSk7UWEodGhpcy5TKSYmdGhpcy5nZCgpO3RoaXMuU1thXXx8KHRoaXMuU1thXT1bXSk7dGhpcy5TW2FdLnB1c2goYyl9O2gucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5QKGEsYik7dGhpcy5TW2FdJiYoS2EodGhpcy5TW2FdLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1jfSksMD09dGhpcy5TW2FdLmxlbmd0aCYmZGVsZXRlIHRoaXMuU1thXSk7UWEodGhpcy5TKSYmdGhpcy5yYygpfTtoLmdkPWZ1bmN0aW9uKCl7dGhpcy5IYS5QYSh0aGlzLmhkKTt0aGlzLkdifHxXZSgpfHxNaCh0aGlzKX07XG52YXIgTWg9ZnVuY3Rpb24oYSl7TmgoYSk7YS5TYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBhLlMpe3ZhciBjPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYiksZD1hLllbYl07YyE9ZCYmKGEuWVtiXT1jLGM9bmV3IEpiKHt0eXBlOlwic3RvcmFnZVwiLGtleTpiLHRhcmdldDp3aW5kb3csb2xkVmFsdWU6ZCxuZXdWYWx1ZTpjLGJmOiEwfSksYS5VZChjKSl9fSwxRTMpfSxOaD1mdW5jdGlvbihhKXthLlNjJiYoY2xlYXJJbnRlcnZhbChhLlNjKSxhLlNjPW51bGwpfTtKaC5wcm90b3R5cGUucmM9ZnVuY3Rpb24oKXt0aGlzLkhhLkphKHRoaXMuaGQpO05oKHRoaXMpfTtcbkpoLnByb3RvdHlwZS5VZD1mdW5jdGlvbihhKXtpZihhJiZhLkFlKXt2YXIgYj1hLlVhLmtleTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEuVWEuYmY/dGhpcy5IYS5KYSh0aGlzLmhkKTpOaCh0aGlzKTtpZih0aGlzLmZmKXt2YXIgYz1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpO2E9YS5VYS5uZXdWYWx1ZTthIT1jJiYoYT9sLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGIsYSk6YXx8bC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKSl9dGhpcy5ZW2JdPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYik7dGhpcy5uZChiKX1lbHNlIHgoYSxyKHRoaXMubmQsdGhpcykpfTtKaC5wcm90b3R5cGUubmQ9ZnVuY3Rpb24oYSl7dGhpcy5TW2FdJiZ4KHRoaXMuU1thXSxmdW5jdGlvbihhKXthKCl9KX07dmFyIE9oPWZ1bmN0aW9uKGEsYil7dGhpcy51PWE7dGhpcy5pPWJ8fExoKCl9LFBoPXtuYW1lOlwiYXV0aEV2ZW50XCIsSTohMH0sUWg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaS5nZXQoUGgsYS51KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBMZihhKX0pfTtPaC5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oYSl7dGhpcy5pLmFkZExpc3RlbmVyKFBoLHRoaXMudSxhKX07T2gucHJvdG90eXBlLkZiPWZ1bmN0aW9uKGEpe3RoaXMuaS5yZW1vdmVMaXN0ZW5lcihQaCx0aGlzLnUsYSl9O3ZhciBSaD1mdW5jdGlvbihhKXt0aGlzLmk9YXx8TGgoKX0sU2g9e25hbWU6XCJzZXNzaW9uSWRcIixJOiExfTtSaC5wcm90b3R5cGUuVmI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaS5nZXQoU2gsYSl9O3ZhciBUaD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy52PWE7dGhpcy5qPWI7dGhpcy5CPWM7dGhpcy56YT1kfHxudWxsO3RoaXMuVmQ9YitcIjpcIitjO3RoaXMuZ2Y9bmV3IFJoO3RoaXMueGQ9bmV3IE9oKHRoaXMuVmQpO3RoaXMuT2M9bnVsbDt0aGlzLmlhPVtdO3RoaXMuTmU9ZXx8NTAwO3RoaXMuZGY9Znx8MkUzO3RoaXMudGI9dGhpcy5oYz1udWxsfSxVaD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IE8oXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiLGEpfTtcblRoLnByb3RvdHlwZS5EYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlFjP3RoaXMuUWM6dGhpcy5RYz1qZigpLnRoZW4oZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgTShcInVuaXZlcnNhbExpbmtzLnN1YnNjcmliZVwiLGwpKXRocm93IFVoKFwiY29yZG92YS11bml2ZXJzYWwtbGlua3MtcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWRcIik7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBNKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsbCkpdGhyb3cgVWgoXCJjb3Jkb3ZhLXBsdWdpbi1idWlsZGluZm8gaXMgbm90IGluc3RhbGxlZFwiKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgTShcImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLm9wZW5VcmxcIixsKSl0aHJvdyBVaChcImNvcmRvdmEtcGx1Z2luLWJyb3dzZXJ0YWIgaXMgbm90IGluc3RhbGxlZFwiKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgTShcImNvcmRvdmEuSW5BcHBCcm93c2VyLm9wZW5cIixsKSl0aHJvdyBVaChcImNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlciBpcyBub3QgaW5zdGFsbGVkXCIpO1xufSxmdW5jdGlvbigpe3Rocm93IG5ldyBPKFwiY29yZG92YS1ub3QtcmVhZHlcIik7fSl9O3ZhciBWaD1mdW5jdGlvbigpe2Zvcih2YXIgYT0yMCxiPVtdOzA8YTspYi5wdXNoKFwiMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIi5jaGFyQXQoTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKSkpLGEtLTtyZXR1cm4gYi5qb2luKFwiXCIpfSxXaD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgRGI7Yi51cGRhdGUoYSk7cmV0dXJuIG9iKGIuZGlnZXN0KCkpfTtoPVRoLnByb3RvdHlwZTtoLkhiPWZ1bmN0aW9uKGEsYil7YihuZXcgTyhcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3JldHVybiBEKCl9O2guQmI9ZnVuY3Rpb24oKXtyZXR1cm4gRShuZXcgTyhcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpfTtoLldkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guVGQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07XG5oLkFkPWZ1bmN0aW9uKCl7cmV0dXJuITB9O1xuaC5DYj1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5oYylyZXR1cm4gRShuZXcgTyhcInJlZGlyZWN0LW9wZXJhdGlvbi1wZW5kaW5nXCIpKTt2YXIgZD10aGlzLGU9bC5kb2N1bWVudCxmPW51bGwsZz1udWxsLGs9bnVsbCxuPW51bGw7cmV0dXJuIHRoaXMuaGM9bGQoRCgpLnRoZW4oZnVuY3Rpb24oKXtjZyhiKTtyZXR1cm4gWGgoZCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFloKGQsYSxiLGMpfSkudGhlbihmdW5jdGlvbigpe3JldHVybihuZXcgQyhmdW5jdGlvbihhLGIpe2c9ZnVuY3Rpb24oKXt2YXIgYj1NKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIuY2xvc2VcIixsKTthKCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGImJmIoKTtkLnRiJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC50Yi5jbG9zZSYmKGQudGIuY2xvc2UoKSxkLnRiPW51bGwpO3JldHVybiExfTtkLk9hKGcpO2s9ZnVuY3Rpb24oKXtmfHwoZj1rZShkLmRmKS50aGVuKGZ1bmN0aW9uKCl7YihuZXcgTyhcInJlZGlyZWN0LWNhbmNlbGxlZC1ieS11c2VyXCIpKX0pKX07bj1cbmZ1bmN0aW9uKCl7dmFyIGE9bC5kb2N1bWVudDsoYSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhLnZpc2liaWxpdHlTdGF0ZT9cInZpc2libGVcIj09YS52aXNpYmlsaXR5U3RhdGU6MSkmJmsoKX07ZS5hZGRFdmVudExpc3RlbmVyKFwicmVzdW1lXCIsaywhMSk7SygpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2FuZHJvaWQvKXx8ZS5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLG4sITEpfSkpLmMoZnVuY3Rpb24oYSl7cmV0dXJuIFpoKGQpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBhO30pfSl9KSxmdW5jdGlvbigpe2smJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc3VtZVwiLGssITEpO24mJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixuLCExKTtmJiZmLmNhbmNlbCgpO2cmJmQuRmIoZyk7ZC5oYz1udWxsfSl9O1xudmFyIFloPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVZoKCksZj1uZXcgUChiLGQsbnVsbCxlLG5ldyBPKFwibm8tYXV0aC1ldmVudFwiKSksZz1NKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsbCk7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBnKXRocm93IG5ldyBPKFwiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb25cIik7dmFyIGs9TShcIkJ1aWxkSW5mby5kaXNwbGF5TmFtZVwiLGwpLG49e307aWYoSygpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKSluLmliaT1nO2Vsc2UgaWYoSygpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2FuZHJvaWQvKSluLmFwbj1nO2Vsc2UgcmV0dXJuIEUobmV3IE8oXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtrJiYobi5hcHBEaXNwbGF5TmFtZT1rKTtlPVdoKGUpO24uc2Vzc2lvbklkPWU7dmFyIHk9ZmgoYS52LGEuaixhLkIsYixjLG51bGwsZCxhLnphLG4pO3JldHVybiBhLkRhKCkudGhlbihmdW5jdGlvbigpe3ZhciBiPVxuYS5WZDtyZXR1cm4gYS5nZi5pLnNldChQaCxmLkQoKSxiKX0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgYj1NKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIuaXNBdmFpbGFibGVcIixsKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYil0aHJvdyBuZXcgTyhcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO3ZhciBjPW51bGw7YihmdW5jdGlvbihiKXtpZihiKXtjPU0oXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5vcGVuVXJsXCIsbCk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGMpdGhyb3cgbmV3IE8oXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTtjKHkpfWVsc2V7Yz1NKFwiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlblwiLGwpO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjKXRocm93IG5ldyBPKFwiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb25cIik7Yj1jO3ZhciBkO2Q9SygpO2Q9ISghZC5tYXRjaCgvKGlQYWR8aVBob25lfGlQb2QpLipPUyA3X1xcZC9pKSYmIWQubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgOF9cXGQvaSkpO1xuYS50Yj1iKHksZD9cIl9ibGFua1wiOlwiX3N5c3RlbVwiLFwibG9jYXRpb249eWVzXCIpfX0pfSl9LCRoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmlhLmxlbmd0aDtjKyspdHJ5e2EuaWFbY10oYil9Y2F0Y2goZCl7fX0sWGg9ZnVuY3Rpb24oYSl7YS5PY3x8KGEuT2M9YS5EYSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYil7dmFyIGM9ZnVuY3Rpb24oZCl7YihkKTthLkZiKGMpO3JldHVybiExfTthLk9hKGMpO2FpKGEpfSl9KSk7cmV0dXJuIGEuT2N9LFpoPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7cmV0dXJuIFFoKGEueGQpLnRoZW4oZnVuY3Rpb24oYyl7Yj1jO2M9YS54ZDtyZXR1cm4gYy5pLnJlbW92ZShQaCxjLnUpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBifSl9LGFpPWZ1bmN0aW9uKGEpe3ZhciBiPU0oXCJ1bml2ZXJzYWxMaW5rcy5zdWJzY3JpYmVcIixsKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYil0aHJvdyBuZXcgTyhcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO1xudmFyIGM9bmV3IFAoXCJ1bmtub3duXCIsbnVsbCxudWxsLG51bGwsbmV3IE8oXCJuby1hdXRoLWV2ZW50XCIpKSxkPSExLGU9a2UoYS5OZSkudGhlbihmdW5jdGlvbigpe3JldHVybiBaaChhKS50aGVuKGZ1bmN0aW9uKCl7ZHx8JGgoYSxjKX0pfSksZj1mdW5jdGlvbihiKXtkPSEwO2UmJmUuY2FuY2VsKCk7WmgoYSkudGhlbihmdW5jdGlvbihkKXt2YXIgZT1jO2lmKGQmJmImJmIudXJsKXt2YXIgZT1udWxsLGY7Zj1iLnVybDt2YXIgZz1RZShmKSxrPU9lKGcsXCJsaW5rXCIpLG49T2UoUWUoayksXCJsaW5rXCIpLGc9T2UoZyxcImRlZXBfbGlua19pZFwiKTtmPU9lKFFlKGcpLFwibGlua1wiKXx8Z3x8bnx8a3x8ZjstMSE9Zi5pbmRleE9mKFwiL19fL2F1dGgvY2FsbGJhY2tcIikmJihlPVFlKGYpLGU9dWYoT2UoZSxcImVycm9yXCIpfHxudWxsKSxlPShlPVwib2JqZWN0XCI9PT10eXBlb2YgZT9LZihlKTpudWxsKT9uZXcgUChkLmdhLGQuRixudWxsLG51bGwsZSk6bmV3IFAoZC5nYSxkLkYsZixkLlZiKCkpKTtlPVxuZXx8Y30kaChhLGUpfSl9LGc9bC5oYW5kbGVPcGVuVVJMO2wuaGFuZGxlT3BlblVSTD1mdW5jdGlvbihhKXswPT1hLmluZGV4T2YoTShcIkJ1aWxkSW5mby5wYWNrYWdlTmFtZVwiLGwpK1wiOi8vXCIpJiZmKHt1cmw6YX0pO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnKXRyeXtnKGEpfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3Iobil9fTtiKG51bGwsZil9O1RoLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmlhLnB1c2goYSk7WGgodGhpcykuYyhmdW5jdGlvbigpe30pfTtUaC5wcm90b3R5cGUuRmI9ZnVuY3Rpb24oYSl7S2EodGhpcy5pYSxmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0pfTt2YXIgYmk9ZnVuY3Rpb24oYSl7dGhpcy51PWE7dGhpcy5pPUxoKCl9LGNpPXtuYW1lOlwicGVuZGluZ1JlZGlyZWN0XCIsSTohMX0sZGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaS5zZXQoY2ksXCJwZW5kaW5nXCIsYS51KX0sZWk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaS5yZW1vdmUoY2ksYS51KX0sZmk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaS5nZXQoY2ksYS51KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVyblwicGVuZGluZ1wiPT1hfSl9O3ZhciBWPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnY9YTt0aGlzLmo9Yjt0aGlzLkI9Yzt0aGlzLkpiPVtdO3RoaXMuWmE9ITE7dGhpcy5DYz1yKHRoaXMuTWMsdGhpcyk7dGhpcy5jYj1uZXcgZ2kodGhpcyk7dGhpcy5LZD1uZXcgaGkodGhpcyk7dGhpcy55Yj1uZXcgYmkodGhpcy5qK1wiOlwiK3RoaXMuQik7dGhpcy5sYj17fTt0aGlzLmxiLnVua25vd249dGhpcy5jYjt0aGlzLmxiLnNpZ25JblZpYVJlZGlyZWN0PXRoaXMuY2I7dGhpcy5sYi5saW5rVmlhUmVkaXJlY3Q9dGhpcy5jYjt0aGlzLmxiLnNpZ25JblZpYVBvcHVwPXRoaXMuS2Q7dGhpcy5sYi5saW5rVmlhUG9wdXA9dGhpcy5LZDt0aGlzLkc9aWkodGhpcy52LHRoaXMuaix0aGlzLkIpfSxpaT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZmlyZWJhc2UuU0RLX1ZFUlNJT058fG51bGw7cmV0dXJuIGhmKCk/bmV3IFRoKGEsYixjLGQpOm5ldyBiaChhLGIsYyxkKX07XG5WLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuWmE9ITE7dGhpcy5HLkZiKHRoaXMuQ2MpO3RoaXMuRz1paSh0aGlzLnYsdGhpcy5qLHRoaXMuQil9O1YucHJvdG90eXBlLnViPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLlphfHwodGhpcy5aYT0hMCx0aGlzLkcuT2EodGhpcy5DYykpO3ZhciBiPXRoaXMuRztyZXR1cm4gdGhpcy5HLkRhKCkuYyhmdW5jdGlvbihjKXthLkc9PWImJmEucmVzZXQoKTt0aHJvdyBjO30pfTt2YXIgbGk9ZnVuY3Rpb24oYSl7YS5HLlRkKCkmJmEudWIoKS5jKGZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBQKFwidW5rbm93blwiLG51bGwsbnVsbCxudWxsLG5ldyBPKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7amkoYikmJmEuTWMoYyl9KTthLkcuQWQoKXx8a2koYS5jYil9O1xuVi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEpe0hhKHRoaXMuSmIsYSl8fHRoaXMuSmIucHVzaChhKTtpZighdGhpcy5aYSl7dmFyIGI9dGhpcztmaSh0aGlzLnliKS50aGVuKGZ1bmN0aW9uKGEpe2E/ZWkoYi55YikudGhlbihmdW5jdGlvbigpe2IudWIoKS5jKGZ1bmN0aW9uKGEpe3ZhciBjPW5ldyBQKFwidW5rbm93blwiLG51bGwsbnVsbCxudWxsLG5ldyBPKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7amkoYSkmJmIuTWMoYyl9KX0pOmxpKGIpfSkuYyhmdW5jdGlvbigpe2xpKGIpfSl9fTtWLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbihhKXtLYSh0aGlzLkpiLGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSl9O1xuVi5wcm90b3R5cGUuTWM9ZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgbmV3IE8oXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7Zm9yKHZhciBiPSExLGM9MDtjPHRoaXMuSmIubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5KYltjXTtpZihkLm9kKGEuZ2EsYS5GKSl7KGI9dGhpcy5sYlthLmdhXSkmJmIuTGQoYSxkKTtiPSEwO2JyZWFrfX1raSh0aGlzLmNiKTtyZXR1cm4gYn07dmFyIG1pPW5ldyB5ZigyRTMsMUU0KSxuaT1uZXcgeWYoM0U0LDZFNCk7Vi5wcm90b3R5cGUuZ2V0UmVkaXJlY3RSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYi5nZXRSZWRpcmVjdFJlc3VsdCgpfTtWLnByb3RvdHlwZS5CYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXM7cmV0dXJuIHRoaXMuRy5CYihhLGIsYyxmdW5jdGlvbigpe2YuWmF8fChmLlphPSEwLGYuRy5PYShmLkNjKSl9LGZ1bmN0aW9uKCl7Zi5yZXNldCgpfSxkLGUpfTtcbnZhciBqaT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmXCJhdXRoL2NvcmRvdmEtbm90LXJlYWR5XCI9PWEuY29kZT8hMDohMX07Vi5wcm90b3R5cGUuQ2I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZTtyZXR1cm4gZGkodGhpcy55YikudGhlbihmdW5jdGlvbigpe3JldHVybiBkLkcuQ2IoYSxiLGMpLmMoZnVuY3Rpb24oYSl7aWYoamkoYSkpdGhyb3cgbmV3IE8oXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpO2U9YTtyZXR1cm4gZWkoZC55YikudGhlbihmdW5jdGlvbigpe3Rocm93IGU7fSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGQuRy5XZCgpP25ldyBDKGZ1bmN0aW9uKCl7fSk6ZWkoZC55YikudGhlbihmdW5jdGlvbigpe3JldHVybiBkLmdldFJlZGlyZWN0UmVzdWx0KCl9KS50aGVuKGZ1bmN0aW9uKCl7fSkuYyhmdW5jdGlvbigpe30pfSl9KX07XG5WLnByb3RvdHlwZS5IYj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5HLkhiKGMsZnVuY3Rpb24oYyl7YS5LYShiLG51bGwsYyxkKX0sbWkuZ2V0KCkpfTt2YXIgb2k9e30scGk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIrXCI6XCIrYztvaVtkXXx8KG9pW2RdPW5ldyBWKGEsYixjKSk7cmV0dXJuIG9pW2RdfSxnaT1mdW5jdGlvbihhKXt0aGlzLmk9YTt0aGlzLmdiPW51bGw7dGhpcy5FYj1bXTt0aGlzLkRiPVtdO3RoaXMuZWI9bnVsbDt0aGlzLiRjPSExfTtnaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmdiPW51bGw7dGhpcy5lYiYmKHRoaXMuZWIuY2FuY2VsKCksdGhpcy5lYj1udWxsKX07XG5naS5wcm90b3R5cGUuTGQ9ZnVuY3Rpb24oYSxiKXtpZighYSlyZXR1cm4gRShuZXcgTyhcImludmFsaWQtYXV0aC1ldmVudFwiKSk7dGhpcy5yZXNldCgpO3RoaXMuJGM9ITA7dmFyIGM9YS5nYSxkPWEuRixlPWEuZ2V0RXJyb3IoKSYmXCJhdXRoL3dlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCI9PWEuZ2V0RXJyb3IoKS5jb2RlLGY9YS5nZXRFcnJvcigpJiZcImF1dGgvb3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiPT1hLmdldEVycm9yKCkuY29kZTtcInVua25vd25cIiE9Y3x8ZXx8Zj9hPWEuTz90aGlzLlljKGEsYik6Yi5xYihjLGQpP3RoaXMuWmMoYSxiKTpFKG5ldyBPKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKToocWkodGhpcywhMSxudWxsLG51bGwpLGE9RCgpKTtyZXR1cm4gYX07dmFyIGtpPWZ1bmN0aW9uKGEpe2EuJGN8fChhLiRjPSEwLHFpKGEsITEsbnVsbCxudWxsKSl9O1xuZ2kucHJvdG90eXBlLlljPWZ1bmN0aW9uKGEpe3FpKHRoaXMsITAsbnVsbCxhLmdldEVycm9yKCkpO3JldHVybiBEKCl9O2dpLnByb3RvdHlwZS5aYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1hLmdhO2I9Yi5xYihkLGEuRik7dmFyIGU9YS5tYjthPWEuVmIoKTt2YXIgZj1cInNpZ25JblZpYVJlZGlyZWN0XCI9PWR8fFwibGlua1ZpYVJlZGlyZWN0XCI9PWQ7cmV0dXJuIGIoZSxhKS50aGVuKGZ1bmN0aW9uKGEpe3FpKGMsZixhLG51bGwpfSkuYyhmdW5jdGlvbihhKXtxaShjLGYsbnVsbCxhKX0pfTtcbnZhciByaT1mdW5jdGlvbihhLGIpe2EuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gRShiKX07aWYoYS5EYi5sZW5ndGgpZm9yKHZhciBjPTA7YzxhLkRiLmxlbmd0aDtjKyspYS5EYltjXShiKX0sc2k9ZnVuY3Rpb24oYSxiKXthLmdiPWZ1bmN0aW9uKCl7cmV0dXJuIEQoYil9O2lmKGEuRWIubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5FYi5sZW5ndGg7YysrKWEuRWJbY10oYil9LHFpPWZ1bmN0aW9uKGEsYixjLGQpe2I/ZD9yaShhLGQpOnNpKGEsYyk6c2koYSx7dXNlcjpudWxsfSk7YS5FYj1bXTthLkRiPVtdfTtnaS5wcm90b3R5cGUuZ2V0UmVkaXJlY3RSZXN1bHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe2EuZ2I/YS5nYigpLnRoZW4oYixjKTooYS5FYi5wdXNoKGIpLGEuRGIucHVzaChjKSx0aShhKSl9KX07XG52YXIgdGk9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE8oXCJ0aW1lb3V0XCIpO2EuZWImJmEuZWIuY2FuY2VsKCk7YS5lYj1rZShuaS5nZXQoKSkudGhlbihmdW5jdGlvbigpe2EuZ2J8fHFpKGEsITAsbnVsbCxiKX0pfSxoaT1mdW5jdGlvbihhKXt0aGlzLmk9YX07aGkucHJvdG90eXBlLkxkPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIEUobmV3IE8oXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO3ZhciBjPWEuZ2EsZD1hLkY7cmV0dXJuIGEuTz90aGlzLlljKGEsYik6Yi5xYihjLGQpP3RoaXMuWmMoYSxiKTpFKG5ldyBPKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKX07aGkucHJvdG90eXBlLlljPWZ1bmN0aW9uKGEsYil7Yi5LYShhLmdhLG51bGwsYS5nZXRFcnJvcigpLGEuRik7cmV0dXJuIEQoKX07XG5oaS5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLkYsZD1hLmdhLGU9Yi5xYihkLGMpLGY9YS5tYjthPWEuVmIoKTtyZXR1cm4gZShmLGEpLnRoZW4oZnVuY3Rpb24oYSl7Yi5LYShkLGEsbnVsbCxjKX0pLmMoZnVuY3Rpb24oYSl7Yi5LYShkLG51bGwsYSxjKX0pfTt2YXIgdWk9ZnVuY3Rpb24oYSl7dGhpcy5nPWE7dGhpcy54YT10aGlzLlc9bnVsbDt0aGlzLlZhPTB9O3VpLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJue2FwaUtleTp0aGlzLmcuaixyZWZyZXNoVG9rZW46dGhpcy5XLGFjY2Vzc1Rva2VuOnRoaXMueGEsZXhwaXJhdGlvblRpbWU6dGhpcy5WYX19O1xudmFyIHdpPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5pZFRva2VuLGQ9Yi5yZWZyZXNoVG9rZW47Yj12aShiLmV4cGlyZXNJbik7YS54YT1jO2EuVmE9YjthLlc9ZH0sdmk9ZnVuY3Rpb24oYSl7cmV0dXJuIGthKCkrMUUzKnBhcnNlSW50KGEsMTApfSx4aT1mdW5jdGlvbihhLGIpe3JldHVybiBvZyhhLmcsYikudGhlbihmdW5jdGlvbihiKXthLnhhPWIuYWNjZXNzX3Rva2VuO2EuVmE9dmkoYi5leHBpcmVzX2luKTthLlc9Yi5yZWZyZXNoX3Rva2VuO3JldHVybnthY2Nlc3NUb2tlbjphLnhhLGV4cGlyYXRpb25UaW1lOmEuVmEscmVmcmVzaFRva2VuOmEuV319KS5jKGZ1bmN0aW9uKGIpe1wiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIj09Yi5jb2RlJiYoYS5XPW51bGwpO3Rocm93IGI7fSl9LHlpPWZ1bmN0aW9uKGEpe3JldHVybiEoIWEueGF8fGEuVyl9O1xudWkucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGEpe2E9ISFhO3JldHVybiB5aSh0aGlzKT9FKG5ldyBPKFwidXNlci10b2tlbi1leHBpcmVkXCIpKTphfHwhdGhpcy54YXx8a2EoKT50aGlzLlZhLTNFND90aGlzLlc/eGkodGhpcyx7Z3JhbnRfdHlwZTpcInJlZnJlc2hfdG9rZW5cIixyZWZyZXNoX3Rva2VuOnRoaXMuV30pOkQobnVsbCk6RCh7YWNjZXNzVG9rZW46dGhpcy54YSxleHBpcmF0aW9uVGltZTp0aGlzLlZhLHJlZnJlc2hUb2tlbjp0aGlzLld9KX07dmFyIHppPWZ1bmN0aW9uKGEsYixjLGQsZSl7QmYodGhpcyx7dWlkOmEsZGlzcGxheU5hbWU6ZHx8bnVsbCxwaG90b1VSTDplfHxudWxsLGVtYWlsOmN8fG51bGwscHJvdmlkZXJJZDpifSl9LEFpPWZ1bmN0aW9uKGEsYil7SWIuY2FsbCh0aGlzLGEpO2Zvcih2YXIgYyBpbiBiKXRoaXNbY109YltjXX07dChBaSxJYik7XG52YXIgVz1mdW5jdGlvbihhLGIsYyl7dGhpcy5aPVtdO3RoaXMuaj1hLmFwaUtleTt0aGlzLkI9YS5hcHBOYW1lO3RoaXMudj1hLmF1dGhEb21haW58fG51bGw7YT1maXJlYmFzZS5TREtfVkVSU0lPTj9uZihmaXJlYmFzZS5TREtfVkVSU0lPTik6bnVsbDt0aGlzLmc9bmV3IFIodGhpcy5qLG51bGwsYSk7dGhpcy5lYT1uZXcgdWkodGhpcy5nKTtCaSh0aGlzLGIuaWRUb2tlbik7d2kodGhpcy5lYSxiKTtOKHRoaXMsXCJyZWZyZXNoVG9rZW5cIix0aGlzLmVhLlcpO0NpKHRoaXMsY3x8e30pO09kLmNhbGwodGhpcyk7dGhpcy5pYz0hMTt0aGlzLnYmJnFmKCkmJih0aGlzLm09cGkodGhpcy52LHRoaXMuaix0aGlzLkIpKTt0aGlzLnFjPVtdO3RoaXMuQmM9RCgpfTt0KFcsT2QpO1xuVy5wcm90b3R5cGUudGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZD10aGlzO3JldHVybiB0aGlzLkJjPXRoaXMuQmMudGhlbihmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGQsYyl9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZCxjKX0pfTtcbnZhciBCaT1mdW5jdGlvbihhLGIpe2EuRWQ9YjtOKGEsXCJfbGF0XCIsYil9LERpPWZ1bmN0aW9uKGEsYil7S2EoYS5xYyxmdW5jdGlvbihhKXtyZXR1cm4gYT09Yn0pfSxFaT1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5xYy5sZW5ndGg7YysrKWIucHVzaChhLnFjW2NdKGEpKTtyZXR1cm4gaWQoYikudGhlbihmdW5jdGlvbigpe3JldHVybiBhfSl9LEZpPWZ1bmN0aW9uKGEpe2EubSYmIWEuaWMmJihhLmljPSEwLGEubS5zdWJzY3JpYmUoYSkpfSxDaT1mdW5jdGlvbihhLGIpe0JmKGEse3VpZDpiLnVpZCxkaXNwbGF5TmFtZTpiLmRpc3BsYXlOYW1lfHxudWxsLHBob3RvVVJMOmIucGhvdG9VUkx8fG51bGwsZW1haWw6Yi5lbWFpbHx8bnVsbCxlbWFpbFZlcmlmaWVkOmIuZW1haWxWZXJpZmllZHx8ITEsaXNBbm9ueW1vdXM6Yi5pc0Fub255bW91c3x8ITEscHJvdmlkZXJEYXRhOltdfSl9O04oVy5wcm90b3R5cGUsXCJwcm92aWRlcklkXCIsXCJmaXJlYmFzZVwiKTtcbnZhciBHaT1mdW5jdGlvbigpe30sSGk9ZnVuY3Rpb24oYSl7cmV0dXJuIEQoKS50aGVuKGZ1bmN0aW9uKCl7aWYoYS5yZSl0aHJvdyBuZXcgTyhcImFwcC1kZWxldGVkXCIpO30pfSxJaT1mdW5jdGlvbihhKXtyZXR1cm4gRGEoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdmlkZXJJZH0pfSxLaT1mdW5jdGlvbihhLGIpe2ImJihKaShhLGIucHJvdmlkZXJJZCksYS5wcm92aWRlckRhdGEucHVzaChiKSl9LEppPWZ1bmN0aW9uKGEsYil7S2EoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdmlkZXJJZD09Yn0pfSxMaT1mdW5jdGlvbihhLGIsYyl7KFwidWlkXCIhPWJ8fGMpJiZhLmhhc093blByb3BlcnR5KGIpJiZOKGEsYixjKX07XG5XLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YiE9YSYmKEJmKHRoaXMse3VpZDphLnVpZCxkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVVJMOmEucGhvdG9VUkwsZW1haWw6YS5lbWFpbCxlbWFpbFZlcmlmaWVkOmEuZW1haWxWZXJpZmllZCxpc0Fub255bW91czphLmlzQW5vbnltb3VzLHByb3ZpZGVyRGF0YTpbXX0pLHgoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7S2koYixhKX0pLHRoaXMuZWE9YS5lYSxOKHRoaXMsXCJyZWZyZXNoVG9rZW5cIix0aGlzLmVhLlcpKX07Vy5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gSGkodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBNaShhKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEVpKGEpfSkudGhlbihHaSl9KX07XG52YXIgTWk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPWEuaXNBbm9ueW1vdXM7cmV0dXJuIE5pKGEsYikudGhlbihmdW5jdGlvbigpe2N8fExpKGEsXCJpc0Fub255bW91c1wiLCExKTtyZXR1cm4gYn0pLmMoZnVuY3Rpb24oYil7XCJhdXRoL3VzZXItdG9rZW4tZXhwaXJlZFwiPT1iLmNvZGUmJihhLmRpc3BhdGNoRXZlbnQobmV3IEFpKFwidXNlckRlbGV0ZWRcIikpLE9pKGEpKTt0aHJvdyBiO30pfSl9O1xuVy5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXlpKHRoaXMuZWEpO3JldHVybiBIaSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZWEuZ2V0VG9rZW4oYSl9KS50aGVuKGZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIik7YS5hY2Nlc3NUb2tlbiE9Yi5FZCYmKEJpKGIsYS5hY2Nlc3NUb2tlbiksYi5FYSgpKTtMaShiLFwicmVmcmVzaFRva2VuXCIsYS5yZWZyZXNoVG9rZW4pO3JldHVybiBhLmFjY2Vzc1Rva2VufSkuYyhmdW5jdGlvbihhKXtpZihcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCI9PWEuY29kZSYmIWMpcmV0dXJuIEVpKGIpLnRoZW4oZnVuY3Rpb24oKXtMaShiLFwicmVmcmVzaFRva2VuXCIsbnVsbCk7dGhyb3cgYTt9KTt0aHJvdyBhO30pfTtcbnZhciBQaT1mdW5jdGlvbihhLGIpe2IuaWRUb2tlbiYmYS5FZCE9Yi5pZFRva2VuJiYod2koYS5lYSxiKSxhLkVhKCksQmkoYSxiLmlkVG9rZW4pLExpKGEsXCJyZWZyZXNoVG9rZW5cIixhLmVhLlcpKX07Vy5wcm90b3R5cGUuRWE9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEFpKFwidG9rZW5DaGFuZ2VkXCIpKX07dmFyIE5pPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFEoYS5nLE9nLHtpZFRva2VuOmJ9KS50aGVuKHIoYS5hZixhKSl9O1xuVy5wcm90b3R5cGUuYWY9ZnVuY3Rpb24oYSl7YT1hLnVzZXJzO2lmKCFhfHwhYS5sZW5ndGgpdGhyb3cgbmV3IE8oXCJpbnRlcm5hbC1lcnJvclwiKTthPWFbMF07Q2kodGhpcyx7dWlkOmEubG9jYWxJZCxkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVVJMOmEucGhvdG9VcmwsZW1haWw6YS5lbWFpbCxlbWFpbFZlcmlmaWVkOiEhYS5lbWFpbFZlcmlmaWVkfSk7Zm9yKHZhciBiPVFpKGEpLGM9MDtjPGIubGVuZ3RoO2MrKylLaSh0aGlzLGJbY10pO0xpKHRoaXMsXCJpc0Fub255bW91c1wiLCEodGhpcy5lbWFpbCYmYS5wYXNzd29yZEhhc2gpJiYhKHRoaXMucHJvdmlkZXJEYXRhJiZ0aGlzLnByb3ZpZGVyRGF0YS5sZW5ndGgpKX07XG52YXIgUWk9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wcm92aWRlclVzZXJJbmZvKSYmYS5sZW5ndGg/RGEoYSxmdW5jdGlvbihhKXtyZXR1cm4gbmV3IHppKGEucmF3SWQsYS5wcm92aWRlcklkLGEuZW1haWwsYS5kaXNwbGF5TmFtZSxhLnBob3RvVXJsKX0pOltdfTtcblcucHJvdG90eXBlLnJlYXV0aGVudGljYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuZihhLlViKHRoaXMuZykudGhlbihmdW5jdGlvbihhKXt2YXIgYzthOnt2YXIgZT1hLmlkVG9rZW4uc3BsaXQoXCIuXCIpO2lmKDM9PWUubGVuZ3RoKXtmb3IodmFyIGU9ZVsxXSxmPSg0LWUubGVuZ3RoJTQpJTQsZz0wO2c8ZjtnKyspZSs9XCIuXCI7dHJ5e3ZhciBrPUpTT04ucGFyc2Uoc2IoZSkpO2lmKGsuc3ViJiZrLmlzcyYmay5hdWQmJmsuZXhwKXtjPW5ldyBOZihrKTticmVhayBhfX1jYXRjaChuKXt9fWM9bnVsbH1pZighY3x8Yi51aWQhPWMuVGUpdGhyb3cgbmV3IE8oXCJ1c2VyLW1pc21hdGNoXCIpO1BpKGIsYSk7cmV0dXJuIGIucmVsb2FkKCl9KSl9O1xudmFyIFJpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1pKGEpLnRoZW4oZnVuY3Rpb24oKXtpZihIYShJaShhKSxiKSlyZXR1cm4gRWkoYSkudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBPKFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIik7fSl9KX07aD1XLnByb3RvdHlwZTtoLlJlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuZihSaSh0aGlzLGEucHJvdmlkZXIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXRUb2tlbigpfSkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYS5HZChiLmcsYyl9KS50aGVuKHIodGhpcy52ZCx0aGlzKSkpfTtoLmxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGEodGhpcy5SZSxhKX07aC52ZD1mdW5jdGlvbihhKXtQaSh0aGlzLGEpO3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBifSl9O1xuaC51Zj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmYodGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGIuZy51cGRhdGVFbWFpbChjLGEpfSkudGhlbihmdW5jdGlvbihhKXtQaShiLGEpO3JldHVybiBiLnJlbG9hZCgpfSkpfTtoLnVwZGF0ZUVtYWlsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRhKHRoaXMudWYsYSl9O2gudmY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5mKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBiLmcudXBkYXRlUGFzc3dvcmQoYyxhKX0pLnRoZW4oZnVuY3Rpb24oYSl7UGkoYixhKTtyZXR1cm4gYi5yZWxvYWQoKX0pKX07aC51cGRhdGVQYXNzd29yZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50YSh0aGlzLnZmLGEpfTtcbmgud2Y9ZnVuY3Rpb24oYSl7aWYodm9pZCAwPT09YS5kaXNwbGF5TmFtZSYmdm9pZCAwPT09YS5waG90b1VSTClyZXR1cm4gSGkodGhpcyk7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5mKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBiLmcudXBkYXRlUHJvZmlsZShjLHtkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVXJsOmEucGhvdG9VUkx9KX0pLnRoZW4oZnVuY3Rpb24oYSl7UGkoYixhKTtMaShiLFwiZGlzcGxheU5hbWVcIixhLmRpc3BsYXlOYW1lfHxudWxsKTtMaShiLFwicGhvdG9VUkxcIixhLnBob3RvVXJsfHxudWxsKTtyZXR1cm4gRWkoYil9KS50aGVuKEdpKSl9O2gudXBkYXRlUHJvZmlsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50YSh0aGlzLndmLGEpfTtcbmgudGY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5mKE1pKHRoaXMpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIEhhKElpKGIpLGEpP0RnKGIuZyxjLFthXSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz17fTt4KGEucHJvdmlkZXJVc2VySW5mb3x8W10sZnVuY3Rpb24oYSl7Y1thLnByb3ZpZGVySWRdPSEwfSk7eChJaShiKSxmdW5jdGlvbihhKXtjW2FdfHxKaShiLGEpfSk7cmV0dXJuIEVpKGIpfSk6RWkoYikudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBPKFwibm8tc3VjaC1wcm92aWRlclwiKTt9KX0pKX07aC51bmxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGEodGhpcy50ZixhKX07aC5xZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuZih0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gUShhLmcsTmcse2lkVG9rZW46Yn0pfSkudGhlbihmdW5jdGlvbigpe2EuZGlzcGF0Y2hFdmVudChuZXcgQWkoXCJ1c2VyRGVsZXRlZFwiKSl9KSkudGhlbihmdW5jdGlvbigpe09pKGEpfSl9O1xuaFtcImRlbGV0ZVwiXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhKHRoaXMucWUpfTtoLm9kPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJsaW5rVmlhUG9wdXBcIj09YSYmKHRoaXMubGF8fG51bGwpPT1iJiZ0aGlzLmNhfHxcImxpbmtWaWFSZWRpcmVjdFwiPT1hJiYodGhpcy5tY3x8bnVsbCk9PWI/ITA6ITF9O2guS2E9ZnVuY3Rpb24oYSxiLGMsZCl7XCJsaW5rVmlhUG9wdXBcIj09YSYmZD09KHRoaXMubGF8fG51bGwpJiYoYyYmdGhpcy5HYT90aGlzLkdhKGMpOmImJiFjJiZ0aGlzLmNhJiZ0aGlzLmNhKGIpLHRoaXMuSiYmKHRoaXMuSi5jYW5jZWwoKSx0aGlzLko9bnVsbCksZGVsZXRlIHRoaXMuY2EsZGVsZXRlIHRoaXMuR2EpfTtoLnFiPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJsaW5rVmlhUG9wdXBcIj09YSYmYj09KHRoaXMubGF8fG51bGwpfHxcImxpbmtWaWFSZWRpcmVjdFwiPT1hJiYodGhpcy5tY3x8bnVsbCk9PWI/cih0aGlzLnVlLHRoaXMpOm51bGx9O1xuaC5UYj1mdW5jdGlvbigpe3JldHVybiBwZih0aGlzLnVpZCtcIjo6OlwiKX07XG52YXIgVGk9ZnVuY3Rpb24oYSxiKXtpZighcWYoKSlyZXR1cm4gRShuZXcgTyhcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBjPUhmKGIucHJvdmlkZXJJZCksZD1hLlRiKCksZT1udWxsOyghcmYoKXx8bGYoKSkmJmEudiYmYi5pc09BdXRoUHJvdmlkZXImJihlPWZoKGEudixhLmosYS5CLFwibGlua1ZpYVBvcHVwXCIsYixudWxsLGQsZmlyZWJhc2UuU0RLX1ZFUlNJT058fG51bGwpKTt2YXIgZj1kZihlLGMmJmMuQWIsYyYmYy56YiksYz1SaShhLGIucHJvdmlkZXJJZCkudGhlbihmdW5jdGlvbigpe3JldHVybiBFaShhKX0pLnRoZW4oZnVuY3Rpb24oKXtTaShhKTtyZXR1cm4gYS5nZXRUb2tlbigpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBhLm0uQmIoZixcImxpbmtWaWFQb3B1cFwiLGIsZCwhIWUpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe2EuS2EoXCJsaW5rVmlhUG9wdXBcIixudWxsLG5ldyBPKFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIiksXG5hLmxhfHxudWxsKTthLmNhPWI7YS5HYT1jO2EubGE9ZDthLko9YS5tLkhiKGEsXCJsaW5rVmlhUG9wdXBcIixmLGQpfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2YmJmNmKGYpO3JldHVybiBhfSkuYyhmdW5jdGlvbihhKXtmJiZjZihmKTt0aHJvdyBhO30pO3JldHVybiBhLmYoYyl9O1cucHJvdG90eXBlLmxpbmtXaXRoUG9wdXA9ZnVuY3Rpb24oYSl7dmFyIGI9VGkodGhpcyxhKTtyZXR1cm4gdGhpcy50YShmdW5jdGlvbigpe3JldHVybiBifSl9O1xuVy5wcm90b3R5cGUuU2U9ZnVuY3Rpb24oYSl7aWYoIXFmKCkpcmV0dXJuIEUobmV3IE8oXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYj10aGlzLGM9bnVsbCxkPXRoaXMuVGIoKSxlPVJpKHRoaXMsYS5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uKCl7U2koYik7cmV0dXJuIGIuZ2V0VG9rZW4oKX0pLnRoZW4oZnVuY3Rpb24oKXtiLm1jPWQ7cmV0dXJuIEVpKGIpfSkudGhlbihmdW5jdGlvbihhKXtiLklhJiYoYT1iLklhLGE9YS5pLnNldChVaSxiLkQoKSxhLnUpKTtyZXR1cm4gYX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5tLkNiKFwibGlua1ZpYVJlZGlyZWN0XCIsYSxkKX0pLmMoZnVuY3Rpb24oYSl7Yz1hO2lmKGIuSWEpcmV0dXJuIFZpKGIuSWEpO3Rocm93IGM7fSkudGhlbihmdW5jdGlvbigpe2lmKGMpdGhyb3cgYzt9KTtyZXR1cm4gdGhpcy5mKGUpfTtcblcucHJvdG90eXBlLmxpbmtXaXRoUmVkaXJlY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGEodGhpcy5TZSxhKX07dmFyIFNpPWZ1bmN0aW9uKGEpe2lmKCFhLm18fCFhLmljKXtpZihhLm0mJiFhLmljKXRocm93IG5ldyBPKFwiaW50ZXJuYWwtZXJyb3JcIik7dGhyb3cgbmV3IE8oXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIik7fX07Vy5wcm90b3R5cGUudWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuSiYmKHRoaXMuSi5jYW5jZWwoKSx0aGlzLko9bnVsbCk7dmFyIGQ9bnVsbCxlPXRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGQpe3JldHVybiBSZihjLmcse3JlcXVlc3RVcmk6YSxzZXNzaW9uSWQ6YixpZFRva2VuOmR9KX0pLnRoZW4oZnVuY3Rpb24oYSl7ZD1iZyhhKTtyZXR1cm4gYy52ZChhKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJue3VzZXI6YSxjcmVkZW50aWFsOmR9fSk7cmV0dXJuIHRoaXMuZihlKX07XG5XLnByb3RvdHlwZS5zZW5kRW1haWxWZXJpZmljYXRpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLmYodGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGEuZy5zZW5kRW1haWxWZXJpZmljYXRpb24oYil9KS50aGVuKGZ1bmN0aW9uKGIpe2lmKGEuZW1haWwhPWIpcmV0dXJuIGEucmVsb2FkKCl9KS50aGVuKGZ1bmN0aW9uKCl7fSkpfTt2YXIgT2k9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLloubGVuZ3RoO2IrKylhLlpbYl0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7YS5aPVtdO2EucmU9ITA7TihhLFwicmVmcmVzaFRva2VuXCIsbnVsbCk7YS5tJiZhLm0udW5zdWJzY3JpYmUoYSl9O1cucHJvdG90eXBlLmY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLloucHVzaChhKTtsZChhLGZ1bmN0aW9uKCl7SmEoYi5aLGEpfSk7cmV0dXJuIGF9O1cucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkQoKX07XG5XLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7dmFyIGE9e3VpZDp0aGlzLnVpZCxkaXNwbGF5TmFtZTp0aGlzLmRpc3BsYXlOYW1lLHBob3RvVVJMOnRoaXMucGhvdG9VUkwsZW1haWw6dGhpcy5lbWFpbCxlbWFpbFZlcmlmaWVkOnRoaXMuZW1haWxWZXJpZmllZCxpc0Fub255bW91czp0aGlzLmlzQW5vbnltb3VzLHByb3ZpZGVyRGF0YTpbXSxhcGlLZXk6dGhpcy5qLGFwcE5hbWU6dGhpcy5CLGF1dGhEb21haW46dGhpcy52LHN0c1Rva2VuTWFuYWdlcjp0aGlzLmVhLkQoKSxyZWRpcmVjdEV2ZW50SWQ6dGhpcy5tY3x8bnVsbH07eCh0aGlzLnByb3ZpZGVyRGF0YSxmdW5jdGlvbihiKXthLnByb3ZpZGVyRGF0YS5wdXNoKENmKGIpKX0pO3JldHVybiBhfTtcbnZhciBXaT1mdW5jdGlvbihhKXtpZighYS5hcGlLZXkpcmV0dXJuIG51bGw7dmFyIGI9e2FwaUtleTphLmFwaUtleSxhdXRoRG9tYWluOmEuYXV0aERvbWFpbixhcHBOYW1lOmEuYXBwTmFtZX0sYz17fTtpZihhLnN0c1Rva2VuTWFuYWdlciYmYS5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4mJmEuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lKWMuaWRUb2tlbj1hLnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbixjLnJlZnJlc2hUb2tlbj1hLnN0c1Rva2VuTWFuYWdlci5yZWZyZXNoVG9rZW58fG51bGwsYy5leHBpcmVzSW49KGEuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lLWthKCkpLzFFMztlbHNlIHJldHVybiBudWxsO3ZhciBkPW5ldyBXKGIsYyxhKTthLnByb3ZpZGVyRGF0YSYmeChhLnByb3ZpZGVyRGF0YSxmdW5jdGlvbihhKXtpZihhKXt2YXIgYj17fTtCZihiLGEpO0tpKGQsYil9fSk7YS5yZWRpcmVjdEV2ZW50SWQmJihkLm1jPWEucmVkaXJlY3RFdmVudElkKTtcbnJldHVybiBkfSxYaT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IFcoYSxiKTtjJiYoZC5JYT1jKTtyZXR1cm4gZC5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KX07dmFyIFlpPWZ1bmN0aW9uKGEpe3RoaXMudT1hO3RoaXMuaT1MaCgpfSxVaT17bmFtZTpcInJlZGlyZWN0VXNlclwiLEk6ITF9LFZpPWZ1bmN0aW9uKGEpe3JldHVybiBhLmkucmVtb3ZlKFVpLGEudSl9LFppPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS5nZXQoVWksYS51KS50aGVuKGZ1bmN0aW9uKGEpe2EmJmImJihhLmF1dGhEb21haW49Yik7cmV0dXJuIFdpKGF8fHt9KX0pfTt2YXIgJGk9ZnVuY3Rpb24oYSl7dGhpcy51PWE7dGhpcy5pPUxoKCl9LGFqPXtuYW1lOlwiYXV0aFVzZXJcIixJOiEwfSxiaj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmkuc2V0KGFqLGIuRCgpLGEudSl9LGNqPWZ1bmN0aW9uKGEpe3JldHVybiBhLmkucmVtb3ZlKGFqLGEudSl9LGRqPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS5nZXQoYWosYS51KS50aGVuKGZ1bmN0aW9uKGEpe2EmJmImJihhLmF1dGhEb21haW49Yik7cmV0dXJuIFdpKGF8fHt9KX0pfTt2YXIgWT1mdW5jdGlvbihhKXt0aGlzLlNhPSExO04odGhpcyxcImFwcFwiLGEpO2lmKFgodGhpcykub3B0aW9ucyYmWCh0aGlzKS5vcHRpb25zLmFwaUtleSlhPWZpcmViYXNlLlNES19WRVJTSU9OP25mKGZpcmViYXNlLlNES19WRVJTSU9OKTpudWxsLHRoaXMuZz1uZXcgUihYKHRoaXMpLm9wdGlvbnMmJlgodGhpcykub3B0aW9ucy5hcGlLZXksbnVsbCxhKTtlbHNlIHRocm93IG5ldyBPKFwiaW52YWxpZC1hcGkta2V5XCIpO3RoaXMuWj1bXTt0aGlzLlFhPVtdO3RoaXMuWmU9ZmlyZWJhc2UuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKHIodGhpcy5MZSx0aGlzKSk7ZWoodGhpcyxudWxsKTt0aGlzLm9hPW5ldyAkaShYKHRoaXMpLm9wdGlvbnMuYXBpS2V5K1wiOlwiK1godGhpcykubmFtZSk7dGhpcy5mYj1uZXcgWWkoWCh0aGlzKS5vcHRpb25zLmFwaUtleStcIjpcIitYKHRoaXMpLm5hbWUpO3RoaXMuT2I9dGhpcy5mKGZqKHRoaXMpKTt0aGlzLnVhPXRoaXMuZihnaih0aGlzKSk7dGhpcy5SYz1cbiExO3RoaXMuTGM9cih0aGlzLm5mLHRoaXMpO3RoaXMuWWQ9cih0aGlzLlhhLHRoaXMpO3RoaXMuWmQ9cih0aGlzLkhlLHRoaXMpO3RoaXMuWGQ9cih0aGlzLkdlLHRoaXMpO2hqKHRoaXMpO3RoaXMuSU5URVJOQUw9e307dGhpcy5JTlRFUk5BTFtcImRlbGV0ZVwiXT1yKHRoaXNbXCJkZWxldGVcIl0sdGhpcyl9O1kucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6WCh0aGlzKS5vcHRpb25zLmFwaUtleSxhdXRoRG9tYWluOlgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluLGFwcE5hbWU6WCh0aGlzKS5uYW1lLGN1cnJlbnRVc2VyOloodGhpcykmJloodGhpcykuRCgpfX07XG52YXIgaWo9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2V8fEUobmV3IE8oXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIikpfSxoaj1mdW5jdGlvbihhKXt2YXIgYj1YKGEpLm9wdGlvbnMuYXV0aERvbWFpbixjPVgoYSkub3B0aW9ucy5hcGlLZXk7YiYmcWYoKSYmKGEuc2U9YS5PYi50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuU2EpcmV0dXJuIGEubT1waShiLGMsWChhKS5uYW1lKSxhLm0uc3Vic2NyaWJlKGEpLFooYSkmJkZpKFooYSkpLGEuYmQmJihGaShhLmJkKSxhLmJkPW51bGwpLGEubX0pKX07aD1ZLnByb3RvdHlwZTtoLm9kPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJ1bmtub3duXCI6Y2FzZSBcInNpZ25JblZpYVJlZGlyZWN0XCI6cmV0dXJuITA7Y2FzZSBcInNpZ25JblZpYVBvcHVwXCI6cmV0dXJuIHRoaXMubGE9PWImJiEhdGhpcy5jYTtkZWZhdWx0OnJldHVybiExfX07XG5oLkthPWZ1bmN0aW9uKGEsYixjLGQpe1wic2lnbkluVmlhUG9wdXBcIj09YSYmdGhpcy5sYT09ZCYmKGMmJnRoaXMuR2E/dGhpcy5HYShjKTpiJiYhYyYmdGhpcy5jYSYmdGhpcy5jYShiKSx0aGlzLkomJih0aGlzLkouY2FuY2VsKCksdGhpcy5KPW51bGwpLGRlbGV0ZSB0aGlzLmNhLGRlbGV0ZSB0aGlzLkdhKX07aC5xYj1mdW5jdGlvbihhLGIpe3JldHVyblwic2lnbkluVmlhUmVkaXJlY3RcIj09YXx8XCJzaWduSW5WaWFQb3B1cFwiPT1hJiZ0aGlzLmxhPT1iJiZ0aGlzLmNhP3IodGhpcy52ZSx0aGlzKTpudWxsfTtcbmgudmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2E9e3JlcXVlc3RVcmk6YSxzZXNzaW9uSWQ6Yn07dGhpcy5KJiYodGhpcy5KLmNhbmNlbCgpLHRoaXMuSj1udWxsKTt2YXIgZD1udWxsLGU9UGYoYy5nLGEpLnRoZW4oZnVuY3Rpb24oYSl7ZD1iZyhhKTtyZXR1cm4gYX0pO2E9Yy5PYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBqaihjLGEpfSkudGhlbihmdW5jdGlvbigpe3JldHVybnt1c2VyOlooYyksY3JlZGVudGlhbDpkfX0pO3JldHVybiB0aGlzLmYoYSl9O2guVGI9ZnVuY3Rpb24oKXtyZXR1cm4gcGYoKX07XG5oLnNpZ25JbldpdGhQb3B1cD1mdW5jdGlvbihhKXtpZighcWYoKSlyZXR1cm4gRShuZXcgTyhcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBiPXRoaXMsYz1IZihhLnByb3ZpZGVySWQpLGQ9dGhpcy5UYigpLGU9bnVsbDsoIXJmKCl8fGxmKCkpJiZYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbiYmYS5pc09BdXRoUHJvdmlkZXImJihlPWZoKFgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluLFgodGhpcykub3B0aW9ucy5hcGlLZXksWCh0aGlzKS5uYW1lLFwic2lnbkluVmlhUG9wdXBcIixhLG51bGwsZCxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCkpO3ZhciBmPWRmKGUsYyYmYy5BYixjJiZjLnpiKSxjPWlqKHRoaXMpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGIuQmIoZixcInNpZ25JblZpYVBvcHVwXCIsYSxkLCEhZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGEsYyl7Yi5LYShcInNpZ25JblZpYVBvcHVwXCIsbnVsbCxcbm5ldyBPKFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIiksYi5sYSk7Yi5jYT1hO2IuR2E9YztiLmxhPWQ7Yi5KPWIubS5IYihiLFwic2lnbkluVmlhUG9wdXBcIixmLGQpfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2YmJmNmKGYpO3JldHVybiBhfSkuYyhmdW5jdGlvbihhKXtmJiZjZihmKTt0aHJvdyBhO30pO3JldHVybiB0aGlzLmYoYyl9O2guc2lnbkluV2l0aFJlZGlyZWN0PWZ1bmN0aW9uKGEpe2lmKCFxZigpKXJldHVybiBFKG5ldyBPKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGI9dGhpcyxjPWlqKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5tLkNiKFwic2lnbkluVmlhUmVkaXJlY3RcIixhKX0pO3JldHVybiB0aGlzLmYoYyl9O1xuaC5nZXRSZWRpcmVjdFJlc3VsdD1mdW5jdGlvbigpe2lmKCFxZigpKXJldHVybiBFKG5ldyBPKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGE9dGhpcyxiPWlqKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5tLmdldFJlZGlyZWN0UmVzdWx0KCl9KTtyZXR1cm4gdGhpcy5mKGIpfTtcbnZhciBqaj1mdW5jdGlvbihhLGIpe3ZhciBjPXt9O2MuYXBpS2V5PVgoYSkub3B0aW9ucy5hcGlLZXk7Yy5hdXRoRG9tYWluPVgoYSkub3B0aW9ucy5hdXRoRG9tYWluO2MuYXBwTmFtZT1YKGEpLm5hbWU7cmV0dXJuIGEuT2IudGhlbihmdW5jdGlvbigpe3JldHVybiBYaShjLGIsYS5mYil9KS50aGVuKGZ1bmN0aW9uKGIpe2lmKFooYSkmJmIudWlkPT1aKGEpLnVpZClyZXR1cm4gWihhKS5jb3B5KGIpLGEuWGEoYik7ZWooYSxiKTtGaShiKTtyZXR1cm4gYS5YYShiKX0pLnRoZW4oZnVuY3Rpb24oKXthLkVhKCl9KX0sZWo9ZnVuY3Rpb24oYSxiKXtaKGEpJiYoRGkoWihhKSxhLllkKSxjYyhaKGEpLFwidG9rZW5DaGFuZ2VkXCIsYS5aZCksY2MoWihhKSxcInVzZXJEZWxldGVkXCIsYS5YZCkpO2ImJihiLnFjLnB1c2goYS5ZZCksVWIoYixcInRva2VuQ2hhbmdlZFwiLGEuWmQpLFViKGIsXCJ1c2VyRGVsZXRlZFwiLGEuWGQpKTtOKGEsXCJjdXJyZW50VXNlclwiLGIpfTtcblkucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy51YS50aGVuKGZ1bmN0aW9uKCl7aWYoIVooYSkpcmV0dXJuIEQoKTtlaihhLG51bGwpO3JldHVybiBjaihhLm9hKS50aGVuKGZ1bmN0aW9uKCl7YS5FYSgpfSl9KTtyZXR1cm4gdGhpcy5mKGIpfTtcbnZhciBraj1mdW5jdGlvbihhKXt2YXIgYj1aaShhLmZiLFgoYSkub3B0aW9ucy5hdXRoRG9tYWluKS50aGVuKGZ1bmN0aW9uKGIpe2lmKGEuYmQ9YiliLklhPWEuZmI7cmV0dXJuIFZpKGEuZmIpfSk7cmV0dXJuIGEuZihiKX0sZmo9ZnVuY3Rpb24oYSl7dmFyIGI9WChhKS5vcHRpb25zLmF1dGhEb21haW4sYz1raihhKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGRqKGEub2EsYil9KS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBiPyhiLklhPWEuZmIsYi5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGJqKGEub2EsYikudGhlbihmdW5jdGlvbigpe3JldHVybiBifSl9KS5jKGZ1bmN0aW9uKGMpe3JldHVyblwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI9PWMuY29kZT9iOmNqKGEub2EpfSkpOm51bGx9KS50aGVuKGZ1bmN0aW9uKGIpe2VqKGEsYnx8bnVsbCl9KTtyZXR1cm4gYS5mKGMpfSxnaj1mdW5jdGlvbihhKXtyZXR1cm4gYS5PYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0UmVkaXJlY3RSZXN1bHQoKX0pLmMoZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuU2EpcmV0dXJuIGEuTGMoKX0pLmMoZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuU2Epe2EuUmM9XG4hMDt2YXIgYj1hLm9hO2IuaS5hZGRMaXN0ZW5lcihhaixiLnUsYS5MYyl9fSl9O1kucHJvdG90eXBlLm5mPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gZGoodGhpcy5vYSxYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbihiKXtpZighYS5TYSl7dmFyIGM7aWYoYz1aKGEpJiZiKXtjPVooYSkudWlkO3ZhciBkPWIudWlkO2M9dm9pZCAwPT09Y3x8bnVsbD09PWN8fFwiXCI9PT1jfHx2b2lkIDA9PT1kfHxudWxsPT09ZHx8XCJcIj09PWQ/ITE6Yz09ZH1pZihjKXJldHVybiBaKGEpLmNvcHkoYiksWihhKS5nZXRUb2tlbigpO2lmKFooYSl8fGIpZWooYSxiKSxiJiYoRmkoYiksYi5JYT1hLmZiKSxhLm0mJmEubS5zdWJzY3JpYmUoYSksYS5FYSgpfX0pfTtZLnByb3RvdHlwZS5YYT1mdW5jdGlvbihhKXtyZXR1cm4gYmoodGhpcy5vYSxhKX07WS5wcm90b3R5cGUuSGU9ZnVuY3Rpb24oKXt0aGlzLkVhKCk7dGhpcy5YYShaKHRoaXMpKX07XG5ZLnByb3RvdHlwZS5HZT1mdW5jdGlvbigpe3RoaXMuc2lnbk91dCgpfTt2YXIgbGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5mKGIudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gamooYSxiKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihhKX0pKX07aD1ZLnByb3RvdHlwZTtoLkxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5hZGRBdXRoVG9rZW5MaXN0ZW5lcihmdW5jdGlvbigpe2EubmV4dChaKGIpKX0pfTtoLm9uQXV0aFN0YXRlQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczt0aGlzLlJjJiZmaXJlYmFzZS5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cShhKT9hKFooZCkpOnEoYS5uZXh0KSYmYS5uZXh0KFooZCkpfSk7cmV0dXJuIHRoaXMuWmUoYSxiLGMpfTtcbmguZ2V0VG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMudWEudGhlbihmdW5jdGlvbigpe3JldHVybiBaKGIpP1ooYikuZ2V0VG9rZW4oYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm57YWNjZXNzVG9rZW46YX19KTpudWxsfSk7cmV0dXJuIHRoaXMuZihjKX07aC5zaWduSW5XaXRoQ3VzdG9tVG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy51YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGxqKGIsUShiLmcsUGcse3Rva2VuOmF9KSl9KS50aGVuKGZ1bmN0aW9uKGEpe0xpKGEsXCJpc0Fub255bW91c1wiLCExKTtyZXR1cm4gYi5YYShhKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihiKX0pfTtoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gdGhpcy51YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGxqKGMsUShjLmcsWWYse2VtYWlsOmEscGFzc3dvcmQ6Yn0pKX0pfTtcbmguY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gdGhpcy51YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGxqKGMsUShjLmcsTWcse2VtYWlsOmEscGFzc3dvcmQ6Yn0pKX0pfTtoLnNpZ25JbldpdGhDcmVkZW50aWFsPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMudWEudGhlbihmdW5jdGlvbigpe3JldHVybiBsaihiLGEuVWIoYi5nKSl9KX07aC5zaWduSW5Bbm9ueW1vdXNseT1mdW5jdGlvbigpe3ZhciBhPVoodGhpcyksYj10aGlzO3JldHVybiBhJiZhLmlzQW5vbnltb3VzP0QoYSk6dGhpcy51YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGxqKGIsYi5nLnNpZ25JbkFub255bW91c2x5KCkpfSkudGhlbihmdW5jdGlvbihhKXtMaShhLFwiaXNBbm9ueW1vdXNcIiwhMCk7cmV0dXJuIGIuWGEoYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFooYil9KX07XG52YXIgWD1mdW5jdGlvbihhKXtyZXR1cm4gYS5hcHB9LFo9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3VycmVudFVzZXJ9O2g9WS5wcm90b3R5cGU7aC5FYT1mdW5jdGlvbigpe2lmKHRoaXMuUmMpZm9yKHZhciBhPTA7YTx0aGlzLlFhLmxlbmd0aDthKyspaWYodGhpcy5RYVthXSl0aGlzLlFhW2FdKFoodGhpcykmJloodGhpcykuX2xhdHx8bnVsbCl9O2guYWRkQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLlFhLnB1c2goYSk7dGhpcy5mKHRoaXMudWEudGhlbihmdW5jdGlvbigpe2IuU2F8fEhhKGIuUWEsYSkmJmEoWihiKSYmWihiKS5fbGF0fHxudWxsKX0pKX07aC5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbihhKXtLYSh0aGlzLlFhLGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSl9O1xuaFtcImRlbGV0ZVwiXT1mdW5jdGlvbigpe3RoaXMuU2E9ITA7Zm9yKHZhciBhPTA7YTx0aGlzLloubGVuZ3RoO2ErKyl0aGlzLlpbYV0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7dGhpcy5aPVtdO3RoaXMub2EmJihhPXRoaXMub2EsYS5pLnJlbW92ZUxpc3RlbmVyKGFqLGEudSx0aGlzLkxjKSk7dGhpcy5tJiZ0aGlzLm0udW5zdWJzY3JpYmUodGhpcyk7cmV0dXJuIGZpcmViYXNlLlByb21pc2UucmVzb2x2ZSgpfTtoLmY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLloucHVzaChhKTtsZChhLGZ1bmN0aW9uKCl7SmEoYi5aLGEpfSk7cmV0dXJuIGF9O2guZmV0Y2hQcm92aWRlcnNGb3JFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mKHRnKHRoaXMuZyxhKSl9O2gudmVyaWZ5UGFzc3dvcmRSZXNldENvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hlY2tBY3Rpb25Db2RlKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YS5lbWFpbH0pfTtcbmguY29uZmlybVBhc3N3b3JkUmVzZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mKHRoaXMuZy5jb25maXJtUGFzc3dvcmRSZXNldChhLGIpLnRoZW4oZnVuY3Rpb24oKXt9KSl9O2guY2hlY2tBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmYodGhpcy5nLmNoZWNrQWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgemgoYSl9KSl9O2guYXBwbHlBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmYodGhpcy5nLmFwcGx5QWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTtoLnNlbmRQYXNzd29yZFJlc2V0RW1haWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZih0aGlzLmcuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTtIaChZLnByb3RvdHlwZSx7YXBwbHlBY3Rpb25Db2RlOntuYW1lOlwiYXBwbHlBY3Rpb25Db2RlXCIsYTpbUyhcImNvZGVcIildfSxjaGVja0FjdGlvbkNvZGU6e25hbWU6XCJjaGVja0FjdGlvbkNvZGVcIixhOltTKFwiY29kZVwiKV19LGNvbmZpcm1QYXNzd29yZFJlc2V0OntuYW1lOlwiY29uZmlybVBhc3N3b3JkUmVzZXRcIixhOltTKFwiY29kZVwiKSxTKFwibmV3UGFzc3dvcmRcIildfSxjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixhOltTKFwiZW1haWxcIiksUyhcInBhc3N3b3JkXCIpXX0sZmV0Y2hQcm92aWRlcnNGb3JFbWFpbDp7bmFtZTpcImZldGNoUHJvdmlkZXJzRm9yRW1haWxcIixhOltTKFwiZW1haWxcIildfSxnZXRSZWRpcmVjdFJlc3VsdDp7bmFtZTpcImdldFJlZGlyZWN0UmVzdWx0XCIsYTpbXX0sb25BdXRoU3RhdGVDaGFuZ2VkOntuYW1lOlwib25BdXRoU3RhdGVDaGFuZ2VkXCIsYTpbRmgoVCgpLEJoKCksXCJuZXh0T3JPYnNlcnZlclwiKSxcbkJoKFwib3B0X2Vycm9yXCIsITApLEJoKFwib3B0X2NvbXBsZXRlZFwiLCEwKV19LHNlbmRQYXNzd29yZFJlc2V0RW1haWw6e25hbWU6XCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsXCIsYTpbUyhcImVtYWlsXCIpXX0sc2lnbkluQW5vbnltb3VzbHk6e25hbWU6XCJzaWduSW5Bbm9ueW1vdXNseVwiLGE6W119LHNpZ25JbldpdGhDcmVkZW50aWFsOntuYW1lOlwic2lnbkluV2l0aENyZWRlbnRpYWxcIixhOltEaCgpXX0sc2lnbkluV2l0aEN1c3RvbVRva2VuOntuYW1lOlwic2lnbkluV2l0aEN1c3RvbVRva2VuXCIsYTpbUyhcInRva2VuXCIpXX0sc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZFwiLGE6W1MoXCJlbWFpbFwiKSxTKFwicGFzc3dvcmRcIildfSxzaWduSW5XaXRoUG9wdXA6e25hbWU6XCJzaWduSW5XaXRoUG9wdXBcIixhOltFaCgpXX0sc2lnbkluV2l0aFJlZGlyZWN0OntuYW1lOlwic2lnbkluV2l0aFJlZGlyZWN0XCIsYTpbRWgoKV19LHNpZ25PdXQ6e25hbWU6XCJzaWduT3V0XCIsXG5hOltdfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixhOltTKG51bGwsITApXX0sdmVyaWZ5UGFzc3dvcmRSZXNldENvZGU6e25hbWU6XCJ2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZVwiLGE6W1MoXCJjb2RlXCIpXX19KTtcbkhoKFcucHJvdG90eXBlLHtcImRlbGV0ZVwiOntuYW1lOlwiZGVsZXRlXCIsYTpbXX0sZ2V0VG9rZW46e25hbWU6XCJnZXRUb2tlblwiLGE6W3tuYW1lOlwib3B0X2ZvcmNlUmVmcmVzaFwiLGZhOlwiYSBib29sZWFuXCIsb3B0aW9uYWw6ITAsaGE6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhfX1dfSxsaW5rOntuYW1lOlwibGlua1wiLGE6W0RoKCldfSxsaW5rV2l0aFBvcHVwOntuYW1lOlwibGlua1dpdGhQb3B1cFwiLGE6W0VoKCldfSxsaW5rV2l0aFJlZGlyZWN0OntuYW1lOlwibGlua1dpdGhSZWRpcmVjdFwiLGE6W0VoKCldfSxyZWF1dGhlbnRpY2F0ZTp7bmFtZTpcInJlYXV0aGVudGljYXRlXCIsYTpbRGgoKV19LHJlbG9hZDp7bmFtZTpcInJlbG9hZFwiLGE6W119LHNlbmRFbWFpbFZlcmlmaWNhdGlvbjp7bmFtZTpcInNlbmRFbWFpbFZlcmlmaWNhdGlvblwiLGE6W119LHRvSlNPTjp7bmFtZTpcInRvSlNPTlwiLGE6W1MobnVsbCwhMCldfSx1bmxpbms6e25hbWU6XCJ1bmxpbmtcIixhOltTKFwicHJvdmlkZXJcIildfSxcbnVwZGF0ZUVtYWlsOntuYW1lOlwidXBkYXRlRW1haWxcIixhOltTKFwiZW1haWxcIildfSx1cGRhdGVQYXNzd29yZDp7bmFtZTpcInVwZGF0ZVBhc3N3b3JkXCIsYTpbUyhcInBhc3N3b3JkXCIpXX0sdXBkYXRlUHJvZmlsZTp7bmFtZTpcInVwZGF0ZVByb2ZpbGVcIixhOltUKFwicHJvZmlsZVwiKV19fSk7SGgoQy5wcm90b3R5cGUse2M6e25hbWU6XCJjYXRjaFwifSx0aGVuOntuYW1lOlwidGhlblwifX0pO1UoJGYsXCJjcmVkZW50aWFsXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFhmKGEsYil9LFtTKFwiZW1haWxcIiksUyhcInBhc3N3b3JkXCIpXSk7SGgoVGYucHJvdG90eXBlLHthZGRTY29wZTp7bmFtZTpcImFkZFNjb3BlXCIsYTpbUyhcInNjb3BlXCIpXX0sc2V0Q3VzdG9tUGFyYW1ldGVyczp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixhOltUKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KTtVKFRmLFwiY3JlZGVudGlhbFwiLFRmLmNyZWRlbnRpYWwsW0ZoKFMoKSxUKCksXCJ0b2tlblwiKV0pO1xuSGgoVWYucHJvdG90eXBlLHthZGRTY29wZTp7bmFtZTpcImFkZFNjb3BlXCIsYTpbUyhcInNjb3BlXCIpXX0sc2V0Q3VzdG9tUGFyYW1ldGVyczp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixhOltUKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KTtVKFVmLFwiY3JlZGVudGlhbFwiLFVmLmNyZWRlbnRpYWwsW0ZoKFMoKSxUKCksXCJ0b2tlblwiKV0pO0hoKFZmLnByb3RvdHlwZSx7YWRkU2NvcGU6e25hbWU6XCJhZGRTY29wZVwiLGE6W1MoXCJzY29wZVwiKV19LHNldEN1c3RvbVBhcmFtZXRlcnM6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsYTpbVChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSk7VShWZixcImNyZWRlbnRpYWxcIixWZi5jcmVkZW50aWFsLFtGaChTKCksRmgoVCgpLENoKCkpLFwiaWRUb2tlblwiKSxGaChTKCksQ2goKSxcImFjY2Vzc1Rva2VuXCIsITApXSk7SGgoV2YucHJvdG90eXBlLHtzZXRDdXN0b21QYXJhbWV0ZXJzOntuYW1lOlwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLGE6W1QoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pO1xuVShXZixcImNyZWRlbnRpYWxcIixXZi5jcmVkZW50aWFsLFtGaChTKCksVCgpLFwidG9rZW5cIiksUyhcInNlY3JldFwiLCEwKV0pO1xuKGZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSYmZmlyZWJhc2UuSU5URVJOQUwmJmZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZSl7dmFyIGE9e0F1dGg6WSxFcnJvcjpPfTtVKGEsXCJFbWFpbEF1dGhQcm92aWRlclwiLCRmLFtdKTtVKGEsXCJGYWNlYm9va0F1dGhQcm92aWRlclwiLFRmLFtdKTtVKGEsXCJHaXRodWJBdXRoUHJvdmlkZXJcIixVZixbXSk7VShhLFwiR29vZ2xlQXV0aFByb3ZpZGVyXCIsVmYsW10pO1UoYSxcIlR3aXR0ZXJBdXRoUHJvdmlkZXJcIixXZixbXSk7ZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwiYXV0aFwiLGZ1bmN0aW9uKGEsYyl7YT1uZXcgWShhKTtjKHtJTlRFUk5BTDp7Z2V0VG9rZW46cihhLmdldFRva2VuLGEpLGFkZEF1dGhUb2tlbkxpc3RlbmVyOnIoYS5hZGRBdXRoVG9rZW5MaXN0ZW5lcixhKSxyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjpyKGEucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIsYSl9fSk7cmV0dXJuIGF9LFxuYSxmdW5jdGlvbihhLGMpe2lmKFwiY3JlYXRlXCI9PT1hKXRyeXtjLmF1dGgoKX1jYXRjaChkKXt9fSk7ZmlyZWJhc2UuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKHtVc2VyOld9KX1lbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGhlIGZpcmViYXNlIG5hbWVzcGFjZTsgYmUgc3VyZSB0byBpbmNsdWRlIGZpcmViYXNlLWFwcC5qcyBiZWZvcmUgdGhpcyBsaWJyYXJ5LlwiKTt9KSgpO30pLmNhbGwodGhpcyk7XG59KS5jYWxsKHR5cGVvZiBnbG9iYWwgIT09IHVuZGVmaW5lZCA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSB1bmRlZmluZWQgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkID8gd2luZG93IDoge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZS5hdXRoO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbihmdW5jdGlvbigpe1xuLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjYuOVxuICAgIEJ1aWxkOiAzLjYuOS1yYy4xXG4gICAgVGVybXM6IGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS90ZXJtcy9cblxuICAgIC0tLVxuXG4gICAgdHlwZWRhcnJheS5qc1xuICAgIENvcHlyaWdodCAoYykgMjAxMCwgTGluZGVuIFJlc2VhcmNoLCBJbmMuXG5cbiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gICAgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICAgIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAgICB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gICAgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gICAgYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gICAgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gICAgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gICAgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICAgIFRIRSBTT0ZUV0FSRS4gKi9cbihmdW5jdGlvbigpIHt2YXIgZyxhYT10aGlzO2Z1bmN0aW9uIG4oYSl7cmV0dXJuIHZvaWQgMCE9PWF9ZnVuY3Rpb24gYmEoKXt9ZnVuY3Rpb24gY2EoYSl7YS5WYj1mdW5jdGlvbigpe3JldHVybiBhLlllP2EuWWU6YS5ZZT1uZXcgYX19XG5mdW5jdGlvbiBkYShhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBlYShhKXtyZXR1cm5cImFycmF5XCI9PWRhKGEpfWZ1bmN0aW9uIGZhKGEpe3ZhciBiPWRhKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofWZ1bmN0aW9uIHAoYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9ZnVuY3Rpb24gZ2EoYSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGF9ZnVuY3Rpb24gaGEoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT1kYShhKX1mdW5jdGlvbiBpYShhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm5cIm9iamVjdFwiPT1iJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWJ9ZnVuY3Rpb24gamEoYSxiLGMpe3JldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBrYShhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX1mdW5jdGlvbiBxKGEsYixjKXtxPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/amE6a2E7cmV0dXJuIHEuYXBwbHkobnVsbCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gbGEoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2Eud2c9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLnNnPWZ1bmN0aW9uKGEsYyxmKXtmb3IodmFyIGg9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxrPTI7azxhcmd1bWVudHMubGVuZ3RoO2srKyloW2stMl09YXJndW1lbnRzW2tdO3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGgpfX07ZnVuY3Rpb24gbWEoKXt0aGlzLldhPS0xfTtmdW5jdGlvbiBuYSgpe3RoaXMuV2E9LTE7dGhpcy5XYT02NDt0aGlzLk09W107dGhpcy5WZD1bXTt0aGlzLkFmPVtdO3RoaXMuemQ9W107dGhpcy56ZFswXT0xMjg7Zm9yKHZhciBhPTE7YTx0aGlzLldhOysrYSl0aGlzLnpkW2FdPTA7dGhpcy5QZD10aGlzLiRiPTA7dGhpcy5yZXNldCgpfWxhKG5hLG1hKTtuYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLk1bMF09MTczMjU4NDE5Mzt0aGlzLk1bMV09NDAyMzIzMzQxNzt0aGlzLk1bMl09MjU2MjM4MzEwMjt0aGlzLk1bM109MjcxNzMzODc4O3RoaXMuTVs0XT0zMjg1Mzc3NTIwO3RoaXMuUGQ9dGhpcy4kYj0wfTtcbmZ1bmN0aW9uIG9hKGEsYixjKXtjfHwoYz0wKTt2YXIgZD1hLkFmO2lmKHAoYikpZm9yKHZhciBlPTA7MTY+ZTtlKyspZFtlXT1iLmNoYXJDb2RlQXQoYyk8PDI0fGIuY2hhckNvZGVBdChjKzEpPDwxNnxiLmNoYXJDb2RlQXQoYysyKTw8OHxiLmNoYXJDb2RlQXQoYyszKSxjKz00O2Vsc2UgZm9yKGU9MDsxNj5lO2UrKylkW2VdPWJbY108PDI0fGJbYysxXTw8MTZ8YltjKzJdPDw4fGJbYyszXSxjKz00O2ZvcihlPTE2OzgwPmU7ZSsrKXt2YXIgZj1kW2UtM11eZFtlLThdXmRbZS0xNF1eZFtlLTE2XTtkW2VdPShmPDwxfGY+Pj4zMSkmNDI5NDk2NzI5NX1iPWEuTVswXTtjPWEuTVsxXTtmb3IodmFyIGg9YS5NWzJdLGs9YS5NWzNdLGw9YS5NWzRdLG0sZT0wOzgwPmU7ZSsrKTQwPmU/MjA+ZT8oZj1rXmMmKGheayksbT0xNTE4NTAwMjQ5KTooZj1jXmheayxtPTE4NTk3NzUzOTMpOjYwPmU/KGY9YyZofGsmKGN8aCksbT0yNDAwOTU5NzA4KTooZj1jXmheayxtPTMzOTU0Njk3ODIpLGY9KGI8PFxuNXxiPj4+MjcpK2YrbCttK2RbZV0mNDI5NDk2NzI5NSxsPWssaz1oLGg9KGM8PDMwfGM+Pj4yKSY0Mjk0OTY3Mjk1LGM9YixiPWY7YS5NWzBdPWEuTVswXStiJjQyOTQ5NjcyOTU7YS5NWzFdPWEuTVsxXStjJjQyOTQ5NjcyOTU7YS5NWzJdPWEuTVsyXStoJjQyOTQ5NjcyOTU7YS5NWzNdPWEuTVszXStrJjQyOTQ5NjcyOTU7YS5NWzRdPWEuTVs0XStsJjQyOTQ5NjcyOTV9XG5uYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7bihiKXx8KGI9YS5sZW5ndGgpO2Zvcih2YXIgYz1iLXRoaXMuV2EsZD0wLGU9dGhpcy5WZCxmPXRoaXMuJGI7ZDxiOyl7aWYoMD09Zilmb3IoO2Q8PWM7KW9hKHRoaXMsYSxkKSxkKz10aGlzLldhO2lmKHAoYSkpZm9yKDtkPGI7KXtpZihlW2ZdPWEuY2hhckNvZGVBdChkKSwrK2YsKytkLGY9PXRoaXMuV2Epe29hKHRoaXMsZSk7Zj0wO2JyZWFrfX1lbHNlIGZvcig7ZDxiOylpZihlW2ZdPWFbZF0sKytmLCsrZCxmPT10aGlzLldhKXtvYSh0aGlzLGUpO2Y9MDticmVha319dGhpcy4kYj1mO3RoaXMuUGQrPWJ9fTtmdW5jdGlvbiByKGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSl9ZnVuY3Rpb24gcGEoYSxiKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpY1tkXT1iLmNhbGwodm9pZCAwLGFbZF0sZCxhKTtyZXR1cm4gY31mdW5jdGlvbiBxYShhLGIpe2Zvcih2YXIgYyBpbiBhKWlmKCFiLmNhbGwodm9pZCAwLGFbY10sYyxhKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiByYShhKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSliKys7cmV0dXJuIGJ9ZnVuY3Rpb24gc2EoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuIGJ9ZnVuY3Rpb24gdGEoYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn1mdW5jdGlvbiB1YShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIHZhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoYVtjXT09YilyZXR1cm4hMDtyZXR1cm4hMX1cbmZ1bmN0aW9uIHdhKGEsYixjKXtmb3IodmFyIGQgaW4gYSlpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGR9ZnVuY3Rpb24geGEoYSxiKXt2YXIgYz13YShhLGIsdm9pZCAwKTtyZXR1cm4gYyYmYVtjXX1mdW5jdGlvbiB5YShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB6YShhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifTtmdW5jdGlvbiBBYShhKXthPVN0cmluZyhhKTtpZigvXlxccyokLy50ZXN0KGEpPzA6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIithKTt9ZnVuY3Rpb24gQmEoKXt0aGlzLkZkPXZvaWQgMH1cbmZ1bmN0aW9uIENhKGEsYixjKXtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjpEYShiLGMpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjpjLnB1c2goaXNGaW5pdGUoYikmJiFpc05hTihiKT9iOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChiKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6Yy5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09Yil7Yy5wdXNoKFwibnVsbFwiKTticmVha31pZihlYShiKSl7dmFyIGQ9Yi5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxkO2YrKyljLnB1c2goZSksZT1iW2ZdLENhKGEsYS5GZD9hLkZkLmNhbGwoYixTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7YnJlYWt9Yy5wdXNoKFwie1wiKTtkPVwiXCI7Zm9yKGYgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixmKSYmKGU9YltmXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoYy5wdXNoKGQpLERhKGYsYyksXG5jLnB1c2goXCI6XCIpLENhKGEsYS5GZD9hLkZkLmNhbGwoYixmLGUpOmUsYyksZD1cIixcIikpO2MucHVzaChcIn1cIik7YnJlYWs7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319dmFyIEVhPXsnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIixcIi9cIjpcIlxcXFwvXCIsXCJcXGJcIjpcIlxcXFxiXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXHJcIjpcIlxcXFxyXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXHgwQlwiOlwiXFxcXHUwMDBiXCJ9LEZhPS9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKT8vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZnVuY3Rpb24gRGEoYSxiKXtiLnB1c2goJ1wiJyxhLnJlcGxhY2UoRmEsZnVuY3Rpb24oYSl7aWYoYSBpbiBFYSlyZXR1cm4gRWFbYV07dmFyIGI9YS5jaGFyQ29kZUF0KDApLGU9XCJcXFxcdVwiOzE2PmI/ZSs9XCIwMDBcIjoyNTY+Yj9lKz1cIjAwXCI6NDA5Nj5iJiYoZSs9XCIwXCIpO3JldHVybiBFYVthXT1lK2IudG9TdHJpbmcoMTYpfSksJ1wiJyl9O3ZhciB0O2E6e3ZhciBHYT1hYS5uYXZpZ2F0b3I7aWYoR2Epe3ZhciBIYT1HYS51c2VyQWdlbnQ7aWYoSGEpe3Q9SGE7YnJlYWsgYX19dD1cIlwifTt2YXIgdj1BcnJheS5wcm90b3R5cGUsSWE9di5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihwKGEpKXJldHVybiBwKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEphPXYuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7di5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cChhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LEthPXYuZmlsdGVyP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5maWx0ZXIuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsaD1wKGEpP1xuYS5zcGxpdChcIlwiKTphLGs9MDtrPGQ7aysrKWlmKGsgaW4gaCl7dmFyIGw9aFtrXTtiLmNhbGwoYyxsLGssYSkmJihlW2YrK109bCl9cmV0dXJuIGV9LExhPXYubWFwP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPXAoYSk/YS5zcGxpdChcIlwiKTphLGg9MDtoPGQ7aCsrKWggaW4gZiYmKGVbaF09Yi5jYWxsKGMsZltoXSxoLGEpKTtyZXR1cm4gZX0sTWE9di5yZWR1Y2U/ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlPVtdLGY9MSxoPWFyZ3VtZW50cy5sZW5ndGg7ZjxoO2YrKyllLnB1c2goYXJndW1lbnRzW2ZdKTtkJiYoZVswXT1xKGIsZCkpO3JldHVybiB2LnJlZHVjZS5hcHBseShhLGUpfTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jO0phKGEsZnVuY3Rpb24oYyxoKXtlPWIuY2FsbChkLGUsYyxoLGEpfSk7cmV0dXJuIGV9LE5hPXYuZXZlcnk/ZnVuY3Rpb24oYSxiLFxuYyl7cmV0dXJuIHYuZXZlcnkuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJiFiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE9hKGEsYil7dmFyIGM9UGEoYSxiLHZvaWQgMCk7cmV0dXJuIDA+Yz9udWxsOnAoYSk/YS5jaGFyQXQoYyk6YVtjXX1mdW5jdGlvbiBQYShhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cChhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspaWYoZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuIGY7cmV0dXJuLTF9ZnVuY3Rpb24gUWEoYSxiKXt2YXIgYz1JYShhLGIpOzA8PWMmJnYuc3BsaWNlLmNhbGwoYSxjLDEpfWZ1bmN0aW9uIFJhKGEsYixjKXtyZXR1cm4gMj49YXJndW1lbnRzLmxlbmd0aD92LnNsaWNlLmNhbGwoYSxiKTp2LnNsaWNlLmNhbGwoYSxiLGMpfVxuZnVuY3Rpb24gU2EoYSxiKXthLnNvcnQoYnx8VGEpfWZ1bmN0aW9uIFRhKGEsYil7cmV0dXJuIGE+Yj8xOmE8Yj8tMTowfTt2YXIgVWE9LTEhPXQuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9dC5pbmRleE9mKFwiT1BSXCIpLFZhPS0xIT10LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9dC5pbmRleE9mKFwiTVNJRVwiKSxXYT0tMSE9dC5pbmRleE9mKFwiR2Vja29cIikmJi0xPT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmISgtMSE9dC5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPXQuaW5kZXhPZihcIk1TSUVcIikpLFhhPS0xIT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKTtcbihmdW5jdGlvbigpe3ZhciBhPVwiXCIsYjtpZihVYSYmYWEub3BlcmEpcmV0dXJuIGE9YWEub3BlcmEudmVyc2lvbixoYShhKT9hKCk6YTtXYT9iPS9ydlxcOihbXlxcKTtdKykoXFwpfDspLzpWYT9iPS9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS86WGEmJihiPS9XZWJLaXRcXC8oXFxTKykvKTtiJiYoYT0oYT1iLmV4ZWModCkpP2FbMV06XCJcIik7cmV0dXJuIFZhJiYoYj0oYj1hYS5kb2N1bWVudCk/Yi5kb2N1bWVudE1vZGU6dm9pZCAwLGI+cGFyc2VGbG9hdChhKSk/U3RyaW5nKGIpOmF9KSgpO3ZhciBZYT1udWxsLFphPW51bGwsJGE9bnVsbDtmdW5jdGlvbiBhYihhLGIpe2lmKCFmYShhKSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtiYigpO2Zvcih2YXIgYz1iP1phOllhLGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSs9Myl7dmFyIGY9YVtlXSxoPWUrMTxhLmxlbmd0aCxrPWg/YVtlKzFdOjAsbD1lKzI8YS5sZW5ndGgsbT1sP2FbZSsyXTowLHU9Zj4+MixmPShmJjMpPDw0fGs+PjQsaz0oayYxNSk8PDJ8bT4+NixtPW0mNjM7bHx8KG09NjQsaHx8KGs9NjQpKTtkLnB1c2goY1t1XSxjW2ZdLGNba10sY1ttXSl9cmV0dXJuIGQuam9pbihcIlwiKX1cbmZ1bmN0aW9uIGJiKCl7aWYoIVlhKXtZYT17fTtaYT17fTskYT17fTtmb3IodmFyIGE9MDs2NT5hO2ErKylZYVthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpLFphW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQoYSksJGFbWmFbYV1dPWEsNjI8PWEmJigkYVtcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpXT1hKX19O2Z1bmN0aW9uIGNiKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIHcoYSxiKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKSlyZXR1cm4gYVtiXX1mdW5jdGlvbiBkYihhLGIpe2Zvcih2YXIgYyBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGMpJiZiKGMsYVtjXSl9O2Z1bmN0aW9uIHgoYSxiLGMsZCl7dmFyIGU7ZDxiP2U9XCJhdCBsZWFzdCBcIitiOmQ+YyYmKGU9MD09PWM/XCJub25lXCI6XCJubyBtb3JlIHRoYW4gXCIrYyk7aWYoZSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoIFwiK2QrKDE9PT1kP1wiIGFyZ3VtZW50LlwiOlwiIGFyZ3VtZW50cy5cIikrXCIgRXhwZWN0cyBcIitlK1wiLlwiKTt9ZnVuY3Rpb24geShhLGIsYyl7dmFyIGQ9XCJcIjtzd2l0Y2goYil7Y2FzZSAxOmQ9Yz9cImZpcnN0XCI6XCJGaXJzdFwiO2JyZWFrO2Nhc2UgMjpkPWM/XCJzZWNvbmRcIjpcIlNlY29uZFwiO2JyZWFrO2Nhc2UgMzpkPWM/XCJ0aGlyZFwiOlwiVGhpcmRcIjticmVhaztjYXNlIDQ6ZD1jP1wiZm91cnRoXCI6XCJGb3VydGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZXJyb3JQcmVmaXggY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpO31yZXR1cm4gYT1hK1wiIGZhaWxlZDogXCIrKGQrXCIgYXJndW1lbnQgXCIpfVxuZnVuY3Rpb24gQShhLGIsYyxkKXtpZigoIWR8fG4oYykpJiYhaGEoYykpdGhyb3cgRXJyb3IoeShhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpO31mdW5jdGlvbiBlYihhLGIsYyl7aWYobihjKSYmKCFpYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKHkoYSxiLCEwKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTtmdW5jdGlvbiBmYihhKXt2YXIgYj1bXTtkYihhLGZ1bmN0aW9uKGEsZCl7ZWEoZCk/SmEoZCxmdW5jdGlvbihkKXtiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTpiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTtyZXR1cm4gYi5sZW5ndGg/XCImXCIrYi5qb2luKFwiJlwiKTpcIlwifTt2YXIgZ2I9ZmlyZWJhc2UuUHJvbWlzZTtmdW5jdGlvbiBoYigpe3ZhciBhPXRoaXM7dGhpcy5yZWplY3Q9dGhpcy5yZXNvbHZlPW51bGw7dGhpcy5yYT1uZXcgZ2IoZnVuY3Rpb24oYixjKXthLnJlc29sdmU9YjthLnJlamVjdD1jfSl9ZnVuY3Rpb24gaWIoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjP2EucmVqZWN0KGMpOmEucmVzb2x2ZShkKTtoYShiKSYmKGpiKGEucmEpLDE9PT1iLmxlbmd0aD9iKGMpOmIoYyxkKSl9fWZ1bmN0aW9uIGpiKGEpe2EudGhlbih2b2lkIDAsYmEpfTtmdW5jdGlvbiBrYihhLGIpe2lmKCFhKXRocm93IGxiKGIpO31mdW5jdGlvbiBsYihhKXtyZXR1cm4gRXJyb3IoXCJGaXJlYmFzZSBEYXRhYmFzZSAoXCIrZmlyZWJhc2UuU0RLX1ZFUlNJT04rXCIpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6IFwiK2EpfTtmdW5jdGlvbiBtYihhKXtmb3IodmFyIGI9W10sYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YS5jaGFyQ29kZUF0KGQpOzU1Mjk2PD1lJiY1NjMxOT49ZSYmKGUtPTU1Mjk2LGQrKyxrYihkPGEubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLGU9NjU1MzYrKGU8PDEwKSsoYS5jaGFyQ29kZUF0KGQpLTU2MzIwKSk7MTI4PmU/YltjKytdPWU6KDIwNDg+ZT9iW2MrK109ZT4+NnwxOTI6KDY1NTM2PmU/YltjKytdPWU+PjEyfDIyNDooYltjKytdPWU+PjE4fDI0MCxiW2MrK109ZT4+MTImNjN8MTI4KSxiW2MrK109ZT4+NiY2M3wxMjgpLGJbYysrXT1lJjYzfDEyOCl9cmV0dXJuIGJ9ZnVuY3Rpb24gbmIoYSl7Zm9yKHZhciBiPTAsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7MTI4PmQ/YisrOjIwNDg+ZD9iKz0yOjU1Mjk2PD1kJiY1NjMxOT49ZD8oYis9NCxjKyspOmIrPTN9cmV0dXJuIGJ9O2Z1bmN0aW9uIG9iKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmbihKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOkFhKGEpfWZ1bmN0aW9uIEIoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZuKEpTT04uc3RyaW5naWZ5KSlhPUpTT04uc3RyaW5naWZ5KGEpO2Vsc2V7dmFyIGI9W107Q2EobmV3IEJhLGEsYik7YT1iLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Z1bmN0aW9uIHBiKGEsYil7dGhpcy5jb21taXR0ZWQ9YTt0aGlzLnNuYXBzaG90PWJ9O2Z1bmN0aW9uIHFiKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJiEhKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZcInN0cmluZ1wiPT09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQ/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKX07ZnVuY3Rpb24gcmIoYSl7dGhpcy5yZT1hO3RoaXMuQmQ9W107dGhpcy5RYj0wO3RoaXMuWGQ9LTE7dGhpcy5GYj1udWxsfWZ1bmN0aW9uIHNiKGEsYixjKXthLlhkPWI7YS5GYj1jO2EuWGQ8YS5RYiYmKGEuRmIoKSxhLkZiPW51bGwpfWZ1bmN0aW9uIHRiKGEsYixjKXtmb3IoYS5CZFtiXT1jO2EuQmRbYS5RYl07KXt2YXIgZD1hLkJkW2EuUWJdO2RlbGV0ZSBhLkJkW2EuUWJdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKWlmKGRbZV0pe3ZhciBmPWE7dWIoZnVuY3Rpb24oKXtmLnJlKGRbZV0pfSl9aWYoYS5RYj09PWEuWGQpe2EuRmImJihjbGVhclRpbWVvdXQoYS5GYiksYS5GYigpLGEuRmI9bnVsbCk7YnJlYWt9YS5RYisrfX07ZnVuY3Rpb24gdmIoKXt0aGlzLnBjPXt9fXZiLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iP2RlbGV0ZSB0aGlzLnBjW2FdOnRoaXMucGNbYV09Yn07dmIucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gY2IodGhpcy5wYyxhKT90aGlzLnBjW2FdOm51bGx9O3ZiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMucGNbYV19O3ZiLnByb3RvdHlwZS5aZT0hMDtmdW5jdGlvbiB3YihhKXt0aGlzLnVjPWE7dGhpcy5DZD1cImZpcmViYXNlOlwifWc9d2IucHJvdG90eXBlO2cuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj90aGlzLnVjLnJlbW92ZUl0ZW0odGhpcy5DZCthKTp0aGlzLnVjLnNldEl0ZW0odGhpcy5DZCthLEIoYikpfTtnLmdldD1mdW5jdGlvbihhKXthPXRoaXMudWMuZ2V0SXRlbSh0aGlzLkNkK2EpO3JldHVybiBudWxsPT1hP251bGw6b2IoYSl9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe3RoaXMudWMucmVtb3ZlSXRlbSh0aGlzLkNkK2EpfTtnLlplPSExO2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51Yy50b1N0cmluZygpfTtmdW5jdGlvbiB4YihhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcgd2IoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IHZifXZhciB5Yj14YihcImxvY2FsU3RvcmFnZVwiKSx6Yj14YihcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIEFiKGEsYixjKXt0aGlzLnR5cGU9QmI7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLkdhPWN9QWIucHJvdG90eXBlLk1jPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBBYih0aGlzLnNvdXJjZSxDLHRoaXMuR2EuUShhKSk6bmV3IEFiKHRoaXMuc291cmNlLEQodGhpcy5wYXRoKSx0aGlzLkdhKX07QWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG92ZXJ3cml0ZTogXCIrdGhpcy5HYS50b1N0cmluZygpK1wiKVwifTtmdW5jdGlvbiBDYihhLGIpe3RoaXMudHlwZT1EYjt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1ifUNiLnByb3RvdHlwZS5NYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBDYih0aGlzLnNvdXJjZSxDKTpuZXcgQ2IodGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpKX07Q2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGxpc3Rlbl9jb21wbGV0ZSlcIn07ZnVuY3Rpb24gRWIoYSl7dGhpcy5vYz1hfUViLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vYy5JTlRFUk5BTC5nZXRUb2tlbihhKS50aGVuKG51bGwsZnVuY3Rpb24oYSl7cmV0dXJuIGEmJlwiYXV0aC90b2tlbi1ub3QtaW5pdGlhbGl6ZWRcIj09PWEuY29kZT8oRShcIkdvdCBhdXRoL3Rva2VuLW5vdC1pbml0aWFsaXplZCBlcnJvci4gIFRyZWF0aW5nIGFzIG51bGwgdG9rZW4uXCIpLG51bGwpOlByb21pc2UucmVqZWN0KGEpfSl9O2Z1bmN0aW9uIEZiKGEsYil7YS5vYy5JTlRFUk5BTC5hZGRBdXRoVG9rZW5MaXN0ZW5lcihiKX07ZnVuY3Rpb24gR2IoKXt0aGlzLkpkPUd9R2IucHJvdG90eXBlLmo9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuSmQuUChhKX07R2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSmQudG9TdHJpbmcoKX07ZnVuY3Rpb24gSGIoYSxiLGMsZCxlKXt0aGlzLmhvc3Q9YS50b0xvd2VyQ2FzZSgpO3RoaXMuZG9tYWluPXRoaXMuaG9zdC5zdWJzdHIodGhpcy5ob3N0LmluZGV4T2YoXCIuXCIpKzEpO3RoaXMuU2M9Yjt0aGlzLm5lPWM7dGhpcy5xZz1kO3RoaXMuZ2Y9ZXx8XCJcIjt0aGlzLiRhPXliLmdldChcImhvc3Q6XCIrYSl8fHRoaXMuaG9zdH1mdW5jdGlvbiBJYihhLGIpe2IhPT1hLiRhJiYoYS4kYT1iLFwicy1cIj09PWEuJGEuc3Vic3RyKDAsMikmJnliLnNldChcImhvc3Q6XCIrYS5ob3N0LGEuJGEpKX1cbmZ1bmN0aW9uIEpiKGEsYixjKXtIKFwic3RyaW5nXCI9PT10eXBlb2YgYixcInR5cGVvZiB0eXBlIG11c3QgPT0gc3RyaW5nXCIpO0goXCJvYmplY3RcIj09PXR5cGVvZiBjLFwidHlwZW9mIHBhcmFtcyBtdXN0ID09IG9iamVjdFwiKTtpZihcIndlYnNvY2tldFwiPT09YiliPShhLlNjP1wid3NzOi8vXCI6XCJ3czovL1wiKSthLiRhK1wiLy53cz9cIjtlbHNlIGlmKFwibG9uZ19wb2xsaW5nXCI9PT1iKWI9KGEuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLiRhK1wiLy5scD9cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHR5cGU6IFwiK2IpO2EuaG9zdCE9PWEuJGEmJihjLm5zPWEubmUpO3ZhciBkPVtdO3IoYyxmdW5jdGlvbihhLGIpe2QucHVzaChiK1wiPVwiK2EpfSk7cmV0dXJuIGIrZC5qb2luKFwiJlwiKX1cbkhiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLlNjP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5ob3N0O3RoaXMuZ2YmJihhKz1cIjxcIit0aGlzLmdmK1wiPlwiKTtyZXR1cm4gYX07ZnVuY3Rpb24gS2IoKXt0aGlzLnRjPXt9fWZ1bmN0aW9uIExiKGEsYixjKXtuKGMpfHwoYz0xKTtjYihhLnRjLGIpfHwoYS50Y1tiXT0wKTthLnRjW2JdKz1jfUtiLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gemEodGhpcy50Yyl9O2Z1bmN0aW9uIE1iKGEpe3RoaXMuRWY9YTt0aGlzLnJkPW51bGx9TWIucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuRWYuZ2V0KCksYj16YShhKTtpZih0aGlzLnJkKWZvcih2YXIgYyBpbiB0aGlzLnJkKWJbY10tPXRoaXMucmRbY107dGhpcy5yZD1hO3JldHVybiBifTtmdW5jdGlvbiBOYigpe3RoaXMudmI9W119ZnVuY3Rpb24gT2IoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLlliKCk7bnVsbD09PWN8fGYuWihjLlliKCkpfHwoYS52Yi5wdXNoKGMpLGM9bnVsbCk7bnVsbD09PWMmJihjPW5ldyBQYihmKSk7Yy5hZGQoZSl9YyYmYS52Yi5wdXNoKGMpfWZ1bmN0aW9uIFFiKGEsYixjKXtPYihhLGMpO1JiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuWihiKX0pfWZ1bmN0aW9uIFNiKGEsYixjKXtPYihhLGMpO1JiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl9KX1cbmZ1bmN0aW9uIFJiKGEsYil7Zm9yKHZhciBjPSEwLGQ9MDtkPGEudmIubGVuZ3RoO2QrKyl7dmFyIGU9YS52YltkXTtpZihlKWlmKGU9ZS5ZYigpLGIoZSkpe2Zvcih2YXIgZT1hLnZiW2RdLGY9MDtmPGUuamQubGVuZ3RoO2YrKyl7dmFyIGg9ZS5qZFtmXTtpZihudWxsIT09aCl7ZS5qZFtmXT1udWxsO3ZhciBrPWguVGIoKTtUYiYmRShcImV2ZW50OiBcIitoLnRvU3RyaW5nKCkpO3ViKGspfX1hLnZiW2RdPW51bGx9ZWxzZSBjPSExfWMmJihhLnZiPVtdKX1mdW5jdGlvbiBQYihhKXt0aGlzLnFhPWE7dGhpcy5qZD1bXX1QYi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMuamQucHVzaChhKX07UGIucHJvdG90eXBlLlliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWF9O2Z1bmN0aW9uIFViKGEsYixjLGQpe3RoaXMuJGQ9Yjt0aGlzLk1kPWM7dGhpcy5EZD1kO3RoaXMuaGQ9YX1VYi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLk1kLndiKCk7cmV0dXJuXCJ2YWx1ZVwiPT09dGhpcy5oZD9hLnBhdGg6YS5nZXRQYXJlbnQoKS5wYXRofTtVYi5wcm90b3R5cGUuZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZH07VWIucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQuVGIodGhpcyl9O1ViLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlliKCkudG9TdHJpbmcoKStcIjpcIit0aGlzLmhkK1wiOlwiK0IodGhpcy5NZC5RZSgpKX07ZnVuY3Rpb24gVmIoYSxiLGMpe3RoaXMuJGQ9YTt0aGlzLmVycm9yPWI7dGhpcy5wYXRoPWN9VmIucHJvdG90eXBlLlliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aH07VmIucHJvdG90eXBlLmVlPWZ1bmN0aW9uKCl7cmV0dXJuXCJjYW5jZWxcIn07XG5WYi5wcm90b3R5cGUuVGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5UYih0aGlzKX07VmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpK1wiOmNhbmNlbFwifTtmdW5jdGlvbiBXYigpe31XYi5wcm90b3R5cGUuVGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07V2IucHJvdG90eXBlLmRlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBYYj1uZXcgV2I7ZnVuY3Rpb24gWWIoYSxiLGMpe3RoaXMueGY9YTt0aGlzLkthPWI7dGhpcy55ZD1jfVliLnByb3RvdHlwZS5UZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLkthLk47aWYoWmIoYixhKSlyZXR1cm4gYi5qKCkuUShhKTtiPW51bGwhPXRoaXMueWQ/bmV3ICRiKHRoaXMueWQsITAsITEpOnRoaXMuS2EudygpO3JldHVybiB0aGlzLnhmLnFjKGEsYil9O1liLnByb3RvdHlwZS5kZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbCE9dGhpcy55ZD90aGlzLnlkOmFjKHRoaXMuS2EpO2E9dGhpcy54Zi5XZChkLGIsMSxjLGEpO3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfTtmdW5jdGlvbiBJKGEsYixjLGQpe3RoaXMudHlwZT1hO3RoaXMuSmE9Yjt0aGlzLlhhPWM7dGhpcy5vZT1kO3RoaXMuRGQ9dm9pZCAwfWZ1bmN0aW9uIGJjKGEpe3JldHVybiBuZXcgSShjYyxhKX12YXIgY2M9XCJ2YWx1ZVwiO2Z1bmN0aW9uICRiKGEsYixjKXt0aGlzLkE9YTt0aGlzLmRhPWI7dGhpcy5TYj1jfWZ1bmN0aW9uIGRjKGEpe3JldHVybiBhLmRhfWZ1bmN0aW9uIGVjKGEpe3JldHVybiBhLlNifWZ1bmN0aW9uIGZjKGEsYil7cmV0dXJuIGIuZSgpP2EuZGEmJiFhLlNiOlpiKGEsSihiKSl9ZnVuY3Rpb24gWmIoYSxiKXtyZXR1cm4gYS5kYSYmIWEuU2J8fGEuQS5EYShiKX0kYi5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O2Z1bmN0aW9uIGdjKGEsYil7cmV0dXJuIGhjKGEubmFtZSxiLm5hbWUpfWZ1bmN0aW9uIGljKGEsYil7cmV0dXJuIGhjKGEsYil9O2Z1bmN0aW9uIEsoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLlI9Yn1mdW5jdGlvbiBqYyhhLGIpe3JldHVybiBuZXcgSyhhLGIpfTtmdW5jdGlvbiBrYyhhLGIpe3JldHVybiBhJiZcIm9iamVjdFwiPT09dHlwZW9mIGE/KEgoXCIuc3ZcImluIGEsXCJVbmV4cGVjdGVkIGxlYWYgbm9kZSBvciBwcmlvcml0eSBjb250ZW50c1wiKSxiW2FbXCIuc3ZcIl1dKTphfWZ1bmN0aW9uIGxjKGEsYil7dmFyIGM9bmV3IG1jO25jKGEsbmV3IEwoXCJcIiksZnVuY3Rpb24oYSxlKXtvYyhjLGEscGMoZSxiKSl9KTtyZXR1cm4gY31mdW5jdGlvbiBwYyhhLGIpe3ZhciBjPWEuQygpLkgoKSxjPWtjKGMsYiksZDtpZihhLkooKSl7dmFyIGU9a2MoYS5DYSgpLGIpO3JldHVybiBlIT09YS5DYSgpfHxjIT09YS5DKCkuSCgpP25ldyBxYyhlLE0oYykpOmF9ZD1hO2MhPT1hLkMoKS5IKCkmJihkPWQuZmEobmV3IHFjKGMpKSk7YS5PKE4sZnVuY3Rpb24oYSxjKXt2YXIgZT1wYyhjLGIpO2UhPT1jJiYoZD1kLlQoYSxlKSl9KTtyZXR1cm4gZH07dmFyIHJjPWZ1bmN0aW9uKCl7dmFyIGE9MTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYSsrfX0oKSxIPWtiLHNjPWxiO1xuZnVuY3Rpb24gdGMoYSl7dHJ5e3ZhciBiO2JiKCk7Zm9yKHZhciBjPSRhLGQ9W10sZT0wO2U8YS5sZW5ndGg7KXt2YXIgZj1jW2EuY2hhckF0KGUrKyldLGg9ZTxhLmxlbmd0aD9jW2EuY2hhckF0KGUpXTowOysrZTt2YXIgaz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjY0OysrZTt2YXIgbD1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjY0OysrZTtpZihudWxsPT1mfHxudWxsPT1ofHxudWxsPT1rfHxudWxsPT1sKXRocm93IEVycm9yKCk7ZC5wdXNoKGY8PDJ8aD4+NCk7NjQhPWsmJihkLnB1c2goaDw8NCYyNDB8az4+MiksNjQhPWwmJmQucHVzaChrPDw2JjE5MnxsKSl9aWYoODE5Mj5kLmxlbmd0aCliPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxkKTtlbHNle2E9XCJcIjtmb3IoYz0wO2M8ZC5sZW5ndGg7Yys9ODE5MilhKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsUmEoZCxjLGMrODE5MikpO2I9YX1yZXR1cm4gYn1jYXRjaChtKXtFKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsXG5tKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB1YyhhKXt2YXIgYj1tYihhKTthPW5ldyBuYTthLnVwZGF0ZShiKTt2YXIgYj1bXSxjPTgqYS5QZDs1Nj5hLiRiP2EudXBkYXRlKGEuemQsNTYtYS4kYik6YS51cGRhdGUoYS56ZCxhLldhLShhLiRiLTU2KSk7Zm9yKHZhciBkPWEuV2EtMTs1Njw9ZDtkLS0pYS5WZFtkXT1jJjI1NSxjLz0yNTY7b2EoYSxhLlZkKTtmb3IoZD1jPTA7NT5kO2QrKylmb3IodmFyIGU9MjQ7MDw9ZTtlLT04KWJbY109YS5NW2RdPj5lJjI1NSwrK2M7cmV0dXJuIGFiKGIpfWZ1bmN0aW9uIHZjKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZmEoYXJndW1lbnRzW2NdKT9iK3ZjLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK0IoYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgVGI9bnVsbCx3Yz0hMDtcbmZ1bmN0aW9uIHhjKGEsYil7a2IoIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP1RiPXEoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKFRiPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJnpiLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6aGEoYSk/VGI9YTooVGI9bnVsbCx6Yi5yZW1vdmUoXCJsb2dnaW5nX2VuYWJsZWRcIikpfWZ1bmN0aW9uIEUoYSl7ITA9PT13YyYmKHdjPSExLG51bGw9PT1UYiYmITA9PT16Yi5nZXQoXCJsb2dnaW5nX2VuYWJsZWRcIikmJnhjKCEwKSk7aWYoVGIpe3ZhciBiPXZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtUYihiKX19XG5mdW5jdGlvbiB5YyhhKXtyZXR1cm4gZnVuY3Rpb24oKXtFKGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gemMoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIElOVEVSTkFMIEVSUk9SOiBcIit2Yy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3IoYik6Y29uc29sZS5sb2coYil9fWZ1bmN0aW9uIEFjKGEpe3ZhciBiPXZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTt0aHJvdyBFcnJvcihcIkZJUkVCQVNFIEZBVEFMIEVSUk9SOiBcIitiKTt9ZnVuY3Rpb24gTyhhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgV0FSTklORzogXCIrdmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS53YXJuP2NvbnNvbGUud2FybihiKTpjb25zb2xlLmxvZyhiKX19XG5mdW5jdGlvbiBCYyhhKXt2YXIgYixjLGQsZSxmLGg9YTtmPWM9YT1iPVwiXCI7ZD0hMDtlPVwiaHR0cHNcIjtpZihwKGgpKXt2YXIgaz1oLmluZGV4T2YoXCIvL1wiKTswPD1rJiYoZT1oLnN1YnN0cmluZygwLGstMSksaD1oLnN1YnN0cmluZyhrKzIpKTtrPWguaW5kZXhPZihcIi9cIik7LTE9PT1rJiYoaz1oLmxlbmd0aCk7Yj1oLnN1YnN0cmluZygwLGspO2Y9XCJcIjtoPWguc3Vic3RyaW5nKGspLnNwbGl0KFwiL1wiKTtmb3Ioaz0wO2s8aC5sZW5ndGg7aysrKWlmKDA8aFtrXS5sZW5ndGgpe3ZhciBsPWhba107dHJ5e2w9ZGVjb2RlVVJJQ29tcG9uZW50KGwucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1jYXRjaChtKXt9Zis9XCIvXCIrbH1oPWIuc3BsaXQoXCIuXCIpOzM9PT1oLmxlbmd0aD8oYT1oWzFdLGM9aFswXS50b0xvd2VyQ2FzZSgpKToyPT09aC5sZW5ndGgmJihhPWhbMF0pO2s9Yi5pbmRleE9mKFwiOlwiKTswPD1rJiYoZD1cImh0dHBzXCI9PT1lfHxcIndzc1wiPT09ZSl9XCJmaXJlYmFzZVwiPT09YSYmQWMoYitcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpO1xuYyYmXCJ1bmRlZmluZWRcIiE9Y3x8QWMoXCJDYW5ub3QgcGFyc2UgRmlyZWJhc2UgdXJsLiBQbGVhc2UgdXNlIGh0dHBzOi8vPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tXCIpO2R8fFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmLTEhPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZihcImh0dHBzOlwiKSYmTyhcIkluc2VjdXJlIEZpcmViYXNlIGFjY2VzcyBmcm9tIGEgc2VjdXJlIHBhZ2UuIFBsZWFzZSB1c2UgaHR0cHMgaW4gY2FsbHMgdG8gbmV3IEZpcmViYXNlKCkuXCIpO3JldHVybntqYzpuZXcgSGIoYixkLGMsXCJ3c1wiPT09ZXx8XCJ3c3NcIj09PWUpLHBhdGg6bmV3IEwoZil9fWZ1bmN0aW9uIENjKGEpe3JldHVybiBnYShhKSYmKGEhPWF8fGE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX1cbmZ1bmN0aW9uIERjKGEpe2lmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9ITEsYz1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHk/Ynx8KGI9ITAsYSgpKTpzZXRUaW1lb3V0KGMsTWF0aC5mbG9vcigxMCkpfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGMsITEpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZjKCl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixjKSl9fVxuZnVuY3Rpb24gaGMoYSxiKXtpZihhPT09YilyZXR1cm4gMDtpZihcIltNSU5fTkFNRV1cIj09PWF8fFwiW01BWF9OQU1FXVwiPT09YilyZXR1cm4tMTtpZihcIltNSU5fTkFNRV1cIj09PWJ8fFwiW01BWF9OQU1FXVwiPT09YSlyZXR1cm4gMTt2YXIgYz1FYyhhKSxkPUVjKGIpO3JldHVybiBudWxsIT09Yz9udWxsIT09ZD8wPT1jLWQ/YS5sZW5ndGgtYi5sZW5ndGg6Yy1kOi0xOm51bGwhPT1kPzE6YTxiPy0xOjF9ZnVuY3Rpb24gRmMoYSxiKXtpZihiJiZhIGluIGIpcmV0dXJuIGJbYV07dGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrYStcIikgaW4gb2JqZWN0OiBcIitCKGIpKTt9XG5mdW5jdGlvbiBHYyhhKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fG51bGw9PT1hKXJldHVybiBCKGEpO3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSliLnB1c2goYyk7Yi5zb3J0KCk7Yz1cIntcIjtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKykwIT09ZCYmKGMrPVwiLFwiKSxjKz1CKGJbZF0pLGMrPVwiOlwiLGMrPUdjKGFbYltkXV0pO3JldHVybiBjK1wifVwifWZ1bmN0aW9uIEhjKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuW2FdO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKz1iKWQrYj5hP2MucHVzaChhLnN1YnN0cmluZyhkLGEubGVuZ3RoKSk6Yy5wdXNoKGEuc3Vic3RyaW5nKGQsZCtiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gSWMoYSxiKXtpZihlYShhKSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyliKGMsYVtjXSk7ZWxzZSByKGEsYil9XG5mdW5jdGlvbiBKYyhhKXtIKCFDYyhhKSxcIkludmFsaWQgSlNPTiBudW1iZXJcIik7dmFyIGIsYyxkLGU7MD09PWE/KGQ9Yz0wLGI9LUluZmluaXR5PT09MS9hPzE6MCk6KGI9MD5hLGE9TWF0aC5hYnMoYSksYT49TWF0aC5wb3coMiwtMTAyMik/KGQ9TWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLkxOMiksMTAyMyksYz1kKzEwMjMsZD1NYXRoLnJvdW5kKGEqTWF0aC5wb3coMiw1Mi1kKS1NYXRoLnBvdygyLDUyKSkpOihjPTAsZD1NYXRoLnJvdW5kKGEvTWF0aC5wb3coMiwtMTA3NCkpKSk7ZT1bXTtmb3IoYT01MjthOy0tYSllLnB1c2goZCUyPzE6MCksZD1NYXRoLmZsb29yKGQvMik7Zm9yKGE9MTE7YTstLWEpZS5wdXNoKGMlMj8xOjApLGM9TWF0aC5mbG9vcihjLzIpO2UucHVzaChiPzE6MCk7ZS5yZXZlcnNlKCk7Yj1lLmpvaW4oXCJcIik7Yz1cIlwiO2ZvcihhPTA7NjQ+YTthKz04KWQ9cGFyc2VJbnQoYi5zdWJzdHIoYSw4KSwyKS50b1N0cmluZygxNiksMT09PWQubGVuZ3RoJiZcbihkPVwiMFwiK2QpLGMrPWQ7cmV0dXJuIGMudG9Mb3dlckNhc2UoKX12YXIgS2M9L14tP1xcZHsxLDEwfSQvO2Z1bmN0aW9uIEVjKGEpe3JldHVybiBLYy50ZXN0KGEpJiYoYT1OdW1iZXIoYSksLTIxNDc0ODM2NDg8PWEmJjIxNDc0ODM2NDc+PWEpP2E6bnVsbH1mdW5jdGlvbiB1YihhKXt0cnl7YSgpfWNhdGNoKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtPKFwiRXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgdXNlciBjYWxsYmFjay5cIixiLnN0YWNrfHxcIlwiKTt0aHJvdyBiO30sTWF0aC5mbG9vcigwKSl9fWZ1bmN0aW9uIExjKGEsYixjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6Y30pfWZ1bmN0aW9uIE1jKGEsYil7dmFyIGM9c2V0VGltZW91dChhLGIpO1wib2JqZWN0XCI9PT10eXBlb2YgYyYmYy51bnJlZiYmYy51bnJlZigpO3JldHVybiBjfTtmdW5jdGlvbiBOYyhhKXt2YXIgYj17fSxjPXt9LGQ9e30sZT1cIlwiO3RyeXt2YXIgZj1hLnNwbGl0KFwiLlwiKSxiPW9iKHRjKGZbMF0pfHxcIlwiKSxjPW9iKHRjKGZbMV0pfHxcIlwiKSxlPWZbMl0sZD1jLmR8fHt9O2RlbGV0ZSBjLmR9Y2F0Y2goaCl7fXJldHVybnt0ZzpiLEllOmMsZGF0YTpkLG1nOmV9fWZ1bmN0aW9uIE9jKGEpe2E9TmMoYSk7dmFyIGI9YS5JZTtyZXR1cm4hIWEubWcmJiEhYiYmXCJvYmplY3RcIj09PXR5cGVvZiBiJiZiLmhhc093blByb3BlcnR5KFwiaWF0XCIpfWZ1bmN0aW9uIFBjKGEpe2E9TmMoYSkuSWU7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiYhMD09PXcoYSxcImFkbWluXCIpfTtmdW5jdGlvbiBRYyhhLGIsYyl7dGhpcy5mPXljKFwicDpyZXN0OlwiKTt0aGlzLkw9YTt0aGlzLkdiPWI7dGhpcy4kYz1jO3RoaXMuJD17fX1mdW5jdGlvbiBSYyhhLGIpe2lmKG4oYikpcmV0dXJuXCJ0YWckXCIrYjtIKFNjKGEubSksXCJzaG91bGQgaGF2ZSBhIHRhZyBpZiBpdCdzIG5vdCBhIGRlZmF1bHQgcXVlcnkuXCIpO3JldHVybiBhLnBhdGgudG9TdHJpbmcoKX1nPVFjLnByb3RvdHlwZTtcbmcuJGU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrZStcIiBcIithLmphKCkpO3ZhciBmPVJjKGEsYyksaD17fTt0aGlzLiRbZl09aDthPVRjKGEubSk7dmFyIGs9dGhpcztVYyh0aGlzLGUrXCIuanNvblwiLGEsZnVuY3Rpb24oYSxiKXt2YXIgdT1iOzQwND09PWEmJihhPXU9bnVsbCk7bnVsbD09PWEmJmsuR2IoZSx1LCExLGMpO3coay4kLGYpPT09aCYmZChhPzQwMT09YT9cInBlcm1pc3Npb25fZGVuaWVkXCI6XCJyZXN0X2Vycm9yOlwiK2E6XCJva1wiLG51bGwpfSl9O2cudWY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1SYyhhLGIpO2RlbGV0ZSB0aGlzLiRbY119O2cua2Y9ZnVuY3Rpb24oKXt9O2cucGU9ZnVuY3Rpb24oKXt9O2cuY2Y9ZnVuY3Rpb24oKXt9O2cueGQ9ZnVuY3Rpb24oKXt9O2cucHV0PWZ1bmN0aW9uKCl7fTtnLmFmPWZ1bmN0aW9uKCl7fTtnLndlPWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIFVjKGEsYixjLGQpe2M9Y3x8e307Yy5mb3JtYXQ9XCJleHBvcnRcIjthLiRjLmdldFRva2VuKCExKS50aGVuKGZ1bmN0aW9uKGUpeyhlPWUmJmUuYWNjZXNzVG9rZW4pJiYoYy5hdXRoPWUpO3ZhciBmPShhLkwuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLkwuaG9zdCtiK1wiP1wiK2ZiKGMpO2EuZihcIlNlbmRpbmcgUkVTVCByZXF1ZXN0IGZvciBcIitmKTt2YXIgaD1uZXcgWE1MSHR0cFJlcXVlc3Q7aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihkJiY0PT09aC5yZWFkeVN0YXRlKXthLmYoXCJSRVNUIFJlc3BvbnNlIGZvciBcIitmK1wiIHJlY2VpdmVkLiBzdGF0dXM6XCIsaC5zdGF0dXMsXCJyZXNwb25zZTpcIixoLnJlc3BvbnNlVGV4dCk7dmFyIGI9bnVsbDtpZigyMDA8PWguc3RhdHVzJiYzMDA+aC5zdGF0dXMpe3RyeXtiPW9iKGgucmVzcG9uc2VUZXh0KX1jYXRjaChjKXtPKFwiRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2UgZm9yIFwiK2YrXCI6IFwiK2gucmVzcG9uc2VUZXh0KX1kKG51bGwsXG5iKX1lbHNlIDQwMSE9PWguc3RhdHVzJiY0MDQhPT1oLnN0YXR1cyYmTyhcIkdvdCB1bnN1Y2Nlc3NmdWwgUkVTVCByZXNwb25zZSBmb3IgXCIrZitcIiBTdGF0dXM6IFwiK2guc3RhdHVzKSxkKGguc3RhdHVzKTtkPW51bGx9fTtoLm9wZW4oXCJHRVRcIixmLCEwKTtoLnNlbmQoKX0pfTtmdW5jdGlvbiBWYyhhLGIsYyl7dGhpcy50eXBlPVdjO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWI7dGhpcy5jaGlsZHJlbj1jfVZjLnByb3RvdHlwZS5NYz1mdW5jdGlvbihhKXtpZih0aGlzLnBhdGguZSgpKXJldHVybiBhPXRoaXMuY2hpbGRyZW4uc3VidHJlZShuZXcgTChhKSksYS5lKCk/bnVsbDphLnZhbHVlP25ldyBBYih0aGlzLnNvdXJjZSxDLGEudmFsdWUpOm5ldyBWYyh0aGlzLnNvdXJjZSxDLGEpO0goSih0aGlzLnBhdGgpPT09YSxcIkNhbid0IGdldCBhIG1lcmdlIGZvciBhIGNoaWxkIG5vdCBvbiB0aGUgcGF0aCBvZiB0aGUgb3BlcmF0aW9uXCIpO3JldHVybiBuZXcgVmModGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpLHRoaXMuY2hpbGRyZW4pfTtWYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbWVyZ2U6IFwiK3RoaXMuY2hpbGRyZW4udG9TdHJpbmcoKStcIilcIn07ZnVuY3Rpb24gWGMoYSxiKXt0aGlzLnJmPXt9O3RoaXMuVmM9bmV3IE1iKGEpO3RoaXMudmE9Yjt2YXIgYz0xRTQrMkU0Kk1hdGgucmFuZG9tKCk7TWMocSh0aGlzLmxmLHRoaXMpLE1hdGguZmxvb3IoYykpfVhjLnByb3RvdHlwZS5sZj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuVmMuZ2V0KCksYj17fSxjPSExLGQ7Zm9yKGQgaW4gYSkwPGFbZF0mJmNiKHRoaXMucmYsZCkmJihiW2RdPWFbZF0sYz0hMCk7YyYmdGhpcy52YS53ZShiKTtNYyhxKHRoaXMubGYsdGhpcyksTWF0aC5mbG9vcig2RTUqTWF0aC5yYW5kb20oKSkpfTt2YXIgWWM9e30sWmM9e307ZnVuY3Rpb24gJGMoYSl7YT1hLnRvU3RyaW5nKCk7WWNbYV18fChZY1thXT1uZXcgS2IpO3JldHVybiBZY1thXX1mdW5jdGlvbiBhZChhLGIpe3ZhciBjPWEudG9TdHJpbmcoKTtaY1tjXXx8KFpjW2NdPWIoKSk7cmV0dXJuIFpjW2NdfTt2YXIgYmQ9bnVsbDtcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1veldlYlNvY2tldD9iZD1Nb3pXZWJTb2NrZXQ6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBXZWJTb2NrZXQmJihiZD1XZWJTb2NrZXQpO2Z1bmN0aW9uIGNkKGEsYixjLGQpe3RoaXMuWWQ9YTt0aGlzLmY9eWModGhpcy5ZZCk7dGhpcy5mcmFtZXM9dGhpcy56Yz1udWxsO3RoaXMucGI9dGhpcy5xYj10aGlzLkRlPTA7dGhpcy5WYT0kYyhiKTthPXt2OlwiNVwifTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYoYS5yPVwiZlwiKTtjJiYoYS5zPWMpO2QmJihhLmxzPWQpO3RoaXMuSmU9SmIoYixcIndlYnNvY2tldFwiLGEpfXZhciBkZDtcbmNkLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5pYj1iO3RoaXMuWGY9YTt0aGlzLmYoXCJXZWJzb2NrZXQgY29ubmVjdGluZyB0byBcIit0aGlzLkplKTt0aGlzLndjPSExO3liLnNldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIsITApO3RyeXt0aGlzLklhPW5ldyBiZCh0aGlzLkplKX1jYXRjaChjKXt0aGlzLmYoXCJFcnJvciBpbnN0YW50aWF0aW5nIFdlYlNvY2tldC5cIik7dmFyIGQ9Yy5tZXNzYWdlfHxjLmRhdGE7ZCYmdGhpcy5mKGQpO3RoaXMuYmIoKTtyZXR1cm59dmFyIGU9dGhpczt0aGlzLklhLm9ub3Blbj1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0ZWQuXCIpO2Uud2M9ITB9O3RoaXMuSWEub25jbG9zZT1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0aW9uIHdhcyBkaXNjb25uZWN0ZWQuXCIpO2UuSWE9bnVsbDtlLmJiKCl9O3RoaXMuSWEub25tZXNzYWdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1lLklhKWlmKGE9YS5kYXRhLGUucGIrPVxuYS5sZW5ndGgsTGIoZS5WYSxcImJ5dGVzX3JlY2VpdmVkXCIsYS5sZW5ndGgpLGVkKGUpLG51bGwhPT1lLmZyYW1lcylmZChlLGEpO2Vsc2V7YTp7SChudWxsPT09ZS5mcmFtZXMsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIik7aWYoNj49YS5sZW5ndGgpe3ZhciBiPU51bWJlcihhKTtpZighaXNOYU4oYikpe2UuRGU9YjtlLmZyYW1lcz1bXTthPW51bGw7YnJlYWsgYX19ZS5EZT0xO2UuZnJhbWVzPVtdfW51bGwhPT1hJiZmZChlLGEpfX07dGhpcy5JYS5vbmVycm9yPWZ1bmN0aW9uKGEpe2UuZihcIldlYlNvY2tldCBlcnJvci4gIENsb3NpbmcgY29ubmVjdGlvbi5cIik7KGE9YS5tZXNzYWdlfHxhLmRhdGEpJiZlLmYoYSk7ZS5iYigpfX07Y2QucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fTtcbmNkLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIGE9ITE7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3ZhciBiPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKFswLTldezAsfVxcLlswLTldezAsfSkvKTtiJiYxPGIubGVuZ3RoJiY0LjQ+cGFyc2VGbG9hdChiWzFdKSYmKGE9ITApfXJldHVybiFhJiZudWxsIT09YmQmJiFkZH07Y2QucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeT0yO2NkLmhlYWx0aHlUaW1lb3V0PTNFNDtnPWNkLnByb3RvdHlwZTtnLnNkPWZ1bmN0aW9uKCl7eWIucmVtb3ZlKFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIil9O2Z1bmN0aW9uIGZkKGEsYil7YS5mcmFtZXMucHVzaChiKTtpZihhLmZyYW1lcy5sZW5ndGg9PWEuRGUpe3ZhciBjPWEuZnJhbWVzLmpvaW4oXCJcIik7YS5mcmFtZXM9bnVsbDtjPW9iKGMpO2EuWGYoYyl9fVxuZy5zZW5kPWZ1bmN0aW9uKGEpe2VkKHRoaXMpO2E9QihhKTt0aGlzLnFiKz1hLmxlbmd0aDtMYih0aGlzLlZhLFwiYnl0ZXNfc2VudFwiLGEubGVuZ3RoKTthPUhjKGEsMTYzODQpOzE8YS5sZW5ndGgmJmdkKHRoaXMsU3RyaW5nKGEubGVuZ3RoKSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZ2QodGhpcyxhW2JdKX07Zy5UYz1mdW5jdGlvbigpe3RoaXMuQWI9ITA7dGhpcy56YyYmKGNsZWFySW50ZXJ2YWwodGhpcy56YyksdGhpcy56Yz1udWxsKTt0aGlzLklhJiYodGhpcy5JYS5jbG9zZSgpLHRoaXMuSWE9bnVsbCl9O2cuYmI9ZnVuY3Rpb24oKXt0aGlzLkFifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuVGMoKSx0aGlzLmliJiYodGhpcy5pYih0aGlzLndjKSx0aGlzLmliPW51bGwpKX07Zy5jbG9zZT1mdW5jdGlvbigpe3RoaXMuQWJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgYmVpbmcgY2xvc2VkXCIpLHRoaXMuVGMoKSl9O1xuZnVuY3Rpb24gZWQoYSl7Y2xlYXJJbnRlcnZhbChhLnpjKTthLnpjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5JYSYmZ2QoYSxcIjBcIik7ZWQoYSl9LE1hdGguZmxvb3IoNDVFMykpfWZ1bmN0aW9uIGdkKGEsYil7dHJ5e2EuSWEuc2VuZChiKX1jYXRjaChjKXthLmYoXCJFeGNlcHRpb24gdGhyb3duIGZyb20gV2ViU29ja2V0LnNlbmQoKTpcIixjLm1lc3NhZ2V8fGMuZGF0YSxcIkNsb3NpbmcgY29ubmVjdGlvbi5cIiksc2V0VGltZW91dChxKGEuYmIsYSksMCl9fTtmdW5jdGlvbiBoZCgpe3RoaXMuZmI9e319XG5mdW5jdGlvbiBqZChhLGIpe3ZhciBjPWIudHlwZSxkPWIuWGE7SChcImNoaWxkX2FkZGVkXCI9PWN8fFwiY2hpbGRfY2hhbmdlZFwiPT1jfHxcImNoaWxkX3JlbW92ZWRcIj09YyxcIk9ubHkgY2hpbGQgY2hhbmdlcyBzdXBwb3J0ZWQgZm9yIHRyYWNraW5nXCIpO0goXCIucHJpb3JpdHlcIiE9PWQsXCJPbmx5IG5vbi1wcmlvcml0eSBjaGlsZCBjaGFuZ2VzIGNhbiBiZSB0cmFja2VkLlwiKTt2YXIgZT13KGEuZmIsZCk7aWYoZSl7dmFyIGY9ZS50eXBlO2lmKFwiY2hpbGRfYWRkZWRcIj09YyYmXCJjaGlsZF9yZW1vdmVkXCI9PWYpYS5mYltkXT1uZXcgSShcImNoaWxkX2NoYW5nZWRcIixiLkphLGQsZS5KYSk7ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9hZGRlZFwiPT1mKWRlbGV0ZSBhLmZiW2RdO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PWMmJlwiY2hpbGRfY2hhbmdlZFwiPT1mKWEuZmJbZF09bmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsZS5vZSxkKTtlbHNlIGlmKFwiY2hpbGRfY2hhbmdlZFwiPT1jJiZcblwiY2hpbGRfYWRkZWRcIj09ZilhLmZiW2RdPW5ldyBJKFwiY2hpbGRfYWRkZWRcIixiLkphLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlwiY2hpbGRfY2hhbmdlZFwiPT1mKWEuZmJbZF09bmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsYi5KYSxkLGUub2UpO2Vsc2UgdGhyb3cgc2MoXCJJbGxlZ2FsIGNvbWJpbmF0aW9uIG9mIGNoYW5nZXM6IFwiK2IrXCIgb2NjdXJyZWQgYWZ0ZXIgXCIrZSk7fWVsc2UgYS5mYltkXT1ifTtmdW5jdGlvbiBrZChhKXt0aGlzLlY9YTt0aGlzLmc9YS5tLmd9ZnVuY3Rpb24gbGQoYSxiLGMsZCl7dmFyIGU9W10sZj1bXTtKYShiLGZ1bmN0aW9uKGIpe1wiY2hpbGRfY2hhbmdlZFwiPT09Yi50eXBlJiZhLmcubmQoYi5vZSxiLkphKSYmZi5wdXNoKG5ldyBJKFwiY2hpbGRfbW92ZWRcIixiLkphLGIuWGEpKX0pO21kKGEsZSxcImNoaWxkX3JlbW92ZWRcIixiLGQsYyk7bWQoYSxlLFwiY2hpbGRfYWRkZWRcIixiLGQsYyk7bWQoYSxlLFwiY2hpbGRfbW92ZWRcIixmLGQsYyk7bWQoYSxlLFwiY2hpbGRfY2hhbmdlZFwiLGIsZCxjKTttZChhLGUsY2MsYixkLGMpO3JldHVybiBlfWZ1bmN0aW9uIG1kKGEsYixjLGQsZSxmKXtkPUthKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PWN9KTtTYShkLHEoYS5GZixhKSk7SmEoZCxmdW5jdGlvbihjKXt2YXIgZD1uZChhLGMsZik7SmEoZSxmdW5jdGlvbihlKXtlLm5mKGMudHlwZSkmJmIucHVzaChlLmNyZWF0ZUV2ZW50KGQsYS5WKSl9KX0pfVxuZnVuY3Rpb24gbmQoYSxiLGMpe1widmFsdWVcIiE9PWIudHlwZSYmXCJjaGlsZF9yZW1vdmVkXCIhPT1iLnR5cGUmJihiLkRkPWMuVmUoYi5YYSxiLkphLGEuZykpO3JldHVybiBifWtkLnByb3RvdHlwZS5GZj1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEuWGF8fG51bGw9PWIuWGEpdGhyb3cgc2MoXCJTaG91bGQgb25seSBjb21wYXJlIGNoaWxkXyBldmVudHMuXCIpO3JldHVybiB0aGlzLmcuY29tcGFyZShuZXcgSyhhLlhhLGEuSmEpLG5ldyBLKGIuWGEsYi5KYSkpfTtmdW5jdGlvbiBvZChhLGIpe3RoaXMuU2Q9YTt0aGlzLkRmPWJ9ZnVuY3Rpb24gcGQoYSl7dGhpcy5VPWF9XG5wZC5wcm90b3R5cGUuZWI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmV3IGhkLGY7aWYoYi50eXBlPT09QmIpYi5zb3VyY2UuY2U/Yz1xZCh0aGlzLGEsYi5wYXRoLGIuR2EsYyxkLGUpOihIKGIuc291cmNlLlNlLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuQ2V8fGVjKGEudygpKSYmIWIucGF0aC5lKCksYz1yZCh0aGlzLGEsYi5wYXRoLGIuR2EsYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09V2MpYi5zb3VyY2UuY2U/Yz1zZCh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGUpOihIKGIuc291cmNlLlNlLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuQ2V8fGVjKGEudygpKSxjPXRkKHRoaXMsYSxiLnBhdGgsYi5jaGlsZHJlbixjLGQsZixlKSk7ZWxzZSBpZihiLnR5cGU9PT11ZClpZihiLklkKWlmKGI9Yi5wYXRoLG51bGwhPWMubGMoYikpYz1hO2Vsc2V7Zj1uZXcgWWIoYyxhLGQpO2Q9YS5OLmooKTtpZihiLmUoKXx8XCIucHJpb3JpdHlcIj09PUooYikpZGMoYS53KCkpP1xuYj1jLkFhKGFjKGEpKTooYj1hLncoKS5qKCksSChiIGluc3RhbmNlb2YgUCxcInNlcnZlckNoaWxkcmVuIHdvdWxkIGJlIGNvbXBsZXRlIGlmIGxlYWYgbm9kZVwiKSxiPWMucmMoYikpLGI9dGhpcy5VLnlhKGQsYixlKTtlbHNle3ZhciBoPUooYiksaz1jLnFjKGgsYS53KCkpO251bGw9PWsmJlpiKGEudygpLGgpJiYoaz1kLlEoaCkpO2I9bnVsbCE9az90aGlzLlUuRihkLGgsayxEKGIpLGYsZSk6YS5OLmooKS5EYShoKT90aGlzLlUuRihkLGgsRyxEKGIpLGYsZSk6ZDtiLmUoKSYmZGMoYS53KCkpJiYoZD1jLkFhKGFjKGEpKSxkLkooKSYmKGI9dGhpcy5VLnlhKGIsZCxlKSkpfWQ9ZGMoYS53KCkpfHxudWxsIT1jLmxjKEMpO2M9dmQoYSxiLGQsdGhpcy5VLk5hKCkpfWVsc2UgYz13ZCh0aGlzLGEsYi5wYXRoLGIuT2IsYyxkLGUpO2Vsc2UgaWYoYi50eXBlPT09RGIpZD1iLnBhdGgsYj1hLncoKSxmPWIuaigpLGg9Yi5kYXx8ZC5lKCksYz14ZCh0aGlzLG5ldyB5ZChhLk4sbmV3ICRiKGYsXG5oLGIuU2IpKSxkLGMsWGIsZSk7ZWxzZSB0aHJvdyBzYyhcIlVua25vd24gb3BlcmF0aW9uIHR5cGU6IFwiK2IudHlwZSk7ZT10YShlLmZiKTtkPWM7Yj1kLk47Yi5kYSYmKGY9Yi5qKCkuSigpfHxiLmooKS5lKCksaD16ZChhKSwoMDxlLmxlbmd0aHx8IWEuTi5kYXx8ZiYmIWIuaigpLlooaCl8fCFiLmooKS5DKCkuWihoLkMoKSkpJiZlLnB1c2goYmMoemQoZCkpKSk7cmV0dXJuIG5ldyBvZChjLGUpfTtcbmZ1bmN0aW9uIHhkKGEsYixjLGQsZSxmKXt2YXIgaD1iLk47aWYobnVsbCE9ZC5sYyhjKSlyZXR1cm4gYjt2YXIgaztpZihjLmUoKSlIKGRjKGIudygpKSxcIklmIGNoYW5nZSBwYXRoIGlzIGVtcHR5LCB3ZSBtdXN0IGhhdmUgY29tcGxldGUgc2VydmVyIGRhdGFcIiksZWMoYi53KCkpPyhlPWFjKGIpLGQ9ZC5yYyhlIGluc3RhbmNlb2YgUD9lOkcpKTpkPWQuQWEoYWMoYikpLGY9YS5VLnlhKGIuTi5qKCksZCxmKTtlbHNle3ZhciBsPUooYyk7aWYoXCIucHJpb3JpdHlcIj09bClIKDE9PUFkKGMpLFwiQ2FuJ3QgaGF2ZSBhIHByaW9yaXR5IHdpdGggYWRkaXRpb25hbCBwYXRoIGNvbXBvbmVudHNcIiksZj1oLmooKSxrPWIudygpLmooKSxkPWQuYWQoYyxmLGspLGY9bnVsbCE9ZD9hLlUuZmEoZixkKTpoLmooKTtlbHNle3ZhciBtPUQoYyk7WmIoaCxsKT8oaz1iLncoKS5qKCksZD1kLmFkKGMsaC5qKCksayksZD1udWxsIT1kP2guaigpLlEobCkuRihtLGQpOmguaigpLlEobCkpOmQ9ZC5xYyhsLFxuYi53KCkpO2Y9bnVsbCE9ZD9hLlUuRihoLmooKSxsLGQsbSxlLGYpOmguaigpfX1yZXR1cm4gdmQoYixmLGguZGF8fGMuZSgpLGEuVS5OYSgpKX1mdW5jdGlvbiByZChhLGIsYyxkLGUsZixoLGspe3ZhciBsPWIudygpO2g9aD9hLlU6YS5VLlViKCk7aWYoYy5lKCkpZD1oLnlhKGwuaigpLGQsbnVsbCk7ZWxzZSBpZihoLk5hKCkmJiFsLlNiKWQ9bC5qKCkuRihjLGQpLGQ9aC55YShsLmooKSxkLG51bGwpO2Vsc2V7dmFyIG09SihjKTtpZighZmMobCxjKSYmMTxBZChjKSlyZXR1cm4gYjt2YXIgdT1EKGMpO2Q9bC5qKCkuUShtKS5GKHUsZCk7ZD1cIi5wcmlvcml0eVwiPT1tP2guZmEobC5qKCksZCk6aC5GKGwuaigpLG0sZCx1LFhiLG51bGwpfWw9bC5kYXx8Yy5lKCk7Yj1uZXcgeWQoYi5OLG5ldyAkYihkLGwsaC5OYSgpKSk7cmV0dXJuIHhkKGEsYixjLGUsbmV3IFliKGUsYixmKSxrKX1cbmZ1bmN0aW9uIHFkKGEsYixjLGQsZSxmLGgpe3ZhciBrPWIuTjtlPW5ldyBZYihlLGIsZik7aWYoYy5lKCkpaD1hLlUueWEoYi5OLmooKSxkLGgpLGE9dmQoYixoLCEwLGEuVS5OYSgpKTtlbHNlIGlmKGY9SihjKSxcIi5wcmlvcml0eVwiPT09ZiloPWEuVS5mYShiLk4uaigpLGQpLGE9dmQoYixoLGsuZGEsay5TYik7ZWxzZXtjPUQoYyk7dmFyIGw9ay5qKCkuUShmKTtpZighYy5lKCkpe3ZhciBtPWUuVGUoZik7ZD1udWxsIT1tP1wiLnByaW9yaXR5XCI9PT1CZChjKSYmbS5QKGMucGFyZW50KCkpLmUoKT9tOm0uRihjLGQpOkd9bC5aKGQpP2E9YjooaD1hLlUuRihrLmooKSxmLGQsYyxlLGgpLGE9dmQoYixoLGsuZGEsYS5VLk5hKCkpKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIHNkKGEsYixjLGQsZSxmLGgpe3ZhciBrPWI7Q2QoZCxmdW5jdGlvbihkLG0pe3ZhciB1PWMubihkKTtaYihiLk4sSih1KSkmJihrPXFkKGEsayx1LG0sZSxmLGgpKX0pO0NkKGQsZnVuY3Rpb24oZCxtKXt2YXIgdT1jLm4oZCk7WmIoYi5OLEoodSkpfHwoaz1xZChhLGssdSxtLGUsZixoKSl9KTtyZXR1cm4ga31mdW5jdGlvbiBEZChhLGIpe0NkKGIsZnVuY3Rpb24oYixkKXthPWEuRihiLGQpfSk7cmV0dXJuIGF9XG5mdW5jdGlvbiB0ZChhLGIsYyxkLGUsZixoLGspe2lmKGIudygpLmooKS5lKCkmJiFkYyhiLncoKSkpcmV0dXJuIGI7dmFyIGw9YjtjPWMuZSgpP2Q6RWQoUSxjLGQpO3ZhciBtPWIudygpLmooKTtjLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGMsZCl7aWYobS5EYShjKSl7dmFyIEY9Yi53KCkuaigpLlEoYyksRj1EZChGLGQpO2w9cmQoYSxsLG5ldyBMKGMpLEYsZSxmLGgsayl9fSk7Yy5jaGlsZHJlbi5oYShmdW5jdGlvbihjLGQpe3ZhciBGPSFaYihiLncoKSxjKSYmbnVsbD09ZC52YWx1ZTttLkRhKGMpfHxGfHwoRj1iLncoKS5qKCkuUShjKSxGPURkKEYsZCksbD1yZChhLGwsbmV3IEwoYyksRixlLGYsaCxrKSl9KTtyZXR1cm4gbH1cbmZ1bmN0aW9uIHdkKGEsYixjLGQsZSxmLGgpe2lmKG51bGwhPWUubGMoYykpcmV0dXJuIGI7dmFyIGs9ZWMoYi53KCkpLGw9Yi53KCk7aWYobnVsbCE9ZC52YWx1ZSl7aWYoYy5lKCkmJmwuZGF8fGZjKGwsYykpcmV0dXJuIHJkKGEsYixjLGwuaigpLlAoYyksZSxmLGssaCk7aWYoYy5lKCkpe3ZhciBtPVE7bC5qKCkuTyhGZCxmdW5jdGlvbihhLGIpe209bS5zZXQobmV3IEwoYSksYil9KTtyZXR1cm4gdGQoYSxiLGMsbSxlLGYsayxoKX1yZXR1cm4gYn1tPVE7Q2QoZCxmdW5jdGlvbihhKXt2YXIgYj1jLm4oYSk7ZmMobCxiKSYmKG09bS5zZXQoYSxsLmooKS5QKGIpKSl9KTtyZXR1cm4gdGQoYSxiLGMsbSxlLGYsayxoKX07ZnVuY3Rpb24gR2QoYSl7dGhpcy5nPWF9Zz1HZC5wcm90b3R5cGU7Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtIKGEueWModGhpcy5nKSxcIkEgbm9kZSBtdXN0IGJlIGluZGV4ZWQgaWYgb25seSBhIGNoaWxkIGlzIHVwZGF0ZWRcIik7ZT1hLlEoYik7aWYoZS5QKGQpLlooYy5QKGQpKSYmZS5lKCk9PWMuZSgpKXJldHVybiBhO251bGwhPWYmJihjLmUoKT9hLkRhKGIpP2pkKGYsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsZSxiKSk6SChhLkooKSxcIkEgY2hpbGQgcmVtb3ZlIHdpdGhvdXQgYW4gb2xkIGNoaWxkIG9ubHkgbWFrZXMgc2Vuc2Ugb24gYSBsZWFmIG5vZGVcIik6ZS5lKCk/amQoZixuZXcgSShcImNoaWxkX2FkZGVkXCIsYyxiKSk6amQoZixuZXcgSShcImNoaWxkX2NoYW5nZWRcIixjLGIsZSkpKTtyZXR1cm4gYS5KKCkmJmMuZSgpP2E6YS5UKGIsYykubmIodGhpcy5nKX07XG5nLnlhPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1jJiYoYS5KKCl8fGEuTyhOLGZ1bmN0aW9uKGEsZSl7Yi5EYShhKXx8amQoYyxuZXcgSShcImNoaWxkX3JlbW92ZWRcIixlLGEpKX0pLGIuSigpfHxiLk8oTixmdW5jdGlvbihiLGUpe2lmKGEuRGEoYikpe3ZhciBmPWEuUShiKTtmLlooZSl8fGpkKGMsbmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsZSxiLGYpKX1lbHNlIGpkKGMsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLGUsYikpfSkpO3JldHVybiBiLm5iKHRoaXMuZyl9O2cuZmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5lKCk/RzphLmZhKGIpfTtnLk5hPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZnVuY3Rpb24gSGQoYSl7dGhpcy5mZT1uZXcgR2QoYS5nKTt0aGlzLmc9YS5nO3ZhciBiO2Eua2E/KGI9SWQoYSksYj1hLmcuRWMoSmQoYSksYikpOmI9YS5nLkhjKCk7dGhpcy5VYz1iO2EubmE/KGI9S2QoYSksYT1hLmcuRWMoTGQoYSksYikpOmE9YS5nLkZjKCk7dGhpcy52Yz1hfWc9SGQucHJvdG90eXBlO2cubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gMD49dGhpcy5nLmNvbXBhcmUodGhpcy5VYyxhKSYmMD49dGhpcy5nLmNvbXBhcmUoYSx0aGlzLnZjKX07Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLm1hdGNoZXMobmV3IEsoYixjKSl8fChjPUcpO3JldHVybiB0aGlzLmZlLkYoYSxiLGMsZCxlLGYpfTtcbmcueWE9ZnVuY3Rpb24oYSxiLGMpe2IuSigpJiYoYj1HKTt2YXIgZD1iLm5iKHRoaXMuZyksZD1kLmZhKEcpLGU9dGhpcztiLk8oTixmdW5jdGlvbihhLGIpe2UubWF0Y2hlcyhuZXcgSyhhLGIpKXx8KGQ9ZC5UKGEsRykpfSk7cmV0dXJuIHRoaXMuZmUueWEoYSxkLGMpfTtnLmZhPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtnLk5hPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZX07ZnVuY3Rpb24gTWQoYSl7dGhpcy5zYT1uZXcgSGQoYSk7dGhpcy5nPWEuZztIKGEueGEsXCJPbmx5IHZhbGlkIGlmIGxpbWl0IGhhcyBiZWVuIHNldFwiKTt0aGlzLm9hPWEub2E7dGhpcy5JYj0hTmQoYSl9Zz1NZC5wcm90b3R5cGU7Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnNhLm1hdGNoZXMobmV3IEsoYixjKSl8fChjPUcpO3JldHVybiBhLlEoYikuWihjKT9hOmEuRWIoKTx0aGlzLm9hP3RoaXMuc2EuVWIoKS5GKGEsYixjLGQsZSxmKTpPZCh0aGlzLGEsYixjLGUsZil9O1xuZy55YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYi5KKCl8fGIuZSgpKWQ9Ry5uYih0aGlzLmcpO2Vsc2UgaWYoMip0aGlzLm9hPGIuRWIoKSYmYi55Yyh0aGlzLmcpKXtkPUcubmIodGhpcy5nKTtiPXRoaXMuSWI/Yi5aYih0aGlzLnNhLnZjLHRoaXMuZyk6Yi5YYih0aGlzLnNhLlVjLHRoaXMuZyk7Zm9yKHZhciBlPTA7MDxiLlBhLmxlbmd0aCYmZTx0aGlzLm9hOyl7dmFyIGY9UihiKSxoO2lmKGg9dGhpcy5JYj8wPj10aGlzLmcuY29tcGFyZSh0aGlzLnNhLlVjLGYpOjA+PXRoaXMuZy5jb21wYXJlKGYsdGhpcy5zYS52YykpZD1kLlQoZi5uYW1lLGYuUiksZSsrO2Vsc2UgYnJlYWt9fWVsc2V7ZD1iLm5iKHRoaXMuZyk7ZD1kLmZhKEcpO3ZhciBrLGwsbTtpZih0aGlzLkliKXtiPWQuV2UodGhpcy5nKTtrPXRoaXMuc2EudmM7bD10aGlzLnNhLlVjO3ZhciB1PVBkKHRoaXMuZyk7bT1mdW5jdGlvbihhLGIpe3JldHVybiB1KGIsYSl9fWVsc2UgYj1kLldiKHRoaXMuZyksaz10aGlzLnNhLlVjLFxubD10aGlzLnNhLnZjLG09UGQodGhpcy5nKTtmb3IodmFyIGU9MCx6PSExOzA8Yi5QYS5sZW5ndGg7KWY9UihiKSwheiYmMD49bShrLGYpJiYoej0hMCksKGg9eiYmZTx0aGlzLm9hJiYwPj1tKGYsbCkpP2UrKzpkPWQuVChmLm5hbWUsRyl9cmV0dXJuIHRoaXMuc2EuVWIoKS55YShhLGQsYyl9O2cuZmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2cuTmE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNhLlViKCl9O1xuZnVuY3Rpb24gT2QoYSxiLGMsZCxlLGYpe3ZhciBoO2lmKGEuSWIpe3ZhciBrPVBkKGEuZyk7aD1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsYSl9fWVsc2UgaD1QZChhLmcpO0goYi5FYigpPT1hLm9hLFwiXCIpO3ZhciBsPW5ldyBLKGMsZCksbT1hLkliP1FkKGIsYS5nKTpSZChiLGEuZyksdT1hLnNhLm1hdGNoZXMobCk7aWYoYi5EYShjKSl7Zm9yKHZhciB6PWIuUShjKSxtPWUuZGUoYS5nLG0sYS5JYik7bnVsbCE9bSYmKG0ubmFtZT09Y3x8Yi5EYShtLm5hbWUpKTspbT1lLmRlKGEuZyxtLGEuSWIpO2U9bnVsbD09bT8xOmgobSxsKTtpZih1JiYhZC5lKCkmJjA8PWUpcmV0dXJuIG51bGwhPWYmJmpkKGYsbmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsZCxjLHopKSxiLlQoYyxkKTtudWxsIT1mJiZqZChmLG5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLHosYykpO2I9Yi5UKGMsRyk7cmV0dXJuIG51bGwhPW0mJmEuc2EubWF0Y2hlcyhtKT8obnVsbCE9ZiYmamQoZixuZXcgSShcImNoaWxkX2FkZGVkXCIsXG5tLlIsbS5uYW1lKSksYi5UKG0ubmFtZSxtLlIpKTpifXJldHVybiBkLmUoKT9iOnUmJjA8PWgobSxsKT8obnVsbCE9ZiYmKGpkKGYsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsbS5SLG0ubmFtZSkpLGpkKGYsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLGQsYykpKSxiLlQoYyxkKS5UKG0ubmFtZSxHKSk6Yn07ZnVuY3Rpb24gcWMoYSxiKXt0aGlzLkI9YTtIKG4odGhpcy5CKSYmbnVsbCE9PXRoaXMuQixcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpO3RoaXMuYWE9Ynx8RztTZCh0aGlzLmFhKTt0aGlzLkRiPW51bGx9dmFyIFRkPVtcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIl07Zz1xYy5wcm90b3R5cGU7Zy5KPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFhfTtnLmZhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgcWModGhpcy5CLGEpfTtnLlE9ZnVuY3Rpb24oYSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5hYTpHfTtnLlA9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZSgpP3RoaXM6XCIucHJpb3JpdHlcIj09PUooYSk/dGhpcy5hYTpHfTtnLkRhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuVmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07XG5nLlQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09YT90aGlzLmZhKGIpOmIuZSgpJiZcIi5wcmlvcml0eVwiIT09YT90aGlzOkcuVChhLGIpLmZhKHRoaXMuYWEpfTtnLkY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1KKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGIuZSgpJiZcIi5wcmlvcml0eVwiIT09YylyZXR1cm4gdGhpcztIKFwiLnByaW9yaXR5XCIhPT1jfHwxPT09QWQoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7cmV0dXJuIHRoaXMuVChjLEcuRihEKGEpLGIpKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuRWI9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Zy5PPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuSD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmIXRoaXMuQygpLmUoKT97XCIudmFsdWVcIjp0aGlzLkNhKCksXCIucHJpb3JpdHlcIjp0aGlzLkMoKS5IKCl9OnRoaXMuQ2EoKX07XG5nLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5EYil7dmFyIGE9XCJcIjt0aGlzLmFhLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrVWQodGhpcy5hYS5IKCkpK1wiOlwiKTt2YXIgYj10eXBlb2YgdGhpcy5CLGE9YSsoYitcIjpcIiksYT1cIm51bWJlclwiPT09Yj9hK0pjKHRoaXMuQik6YSt0aGlzLkI7dGhpcy5EYj11YyhhKX1yZXR1cm4gdGhpcy5EYn07Zy5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O2cuc2M9ZnVuY3Rpb24oYSl7aWYoYT09PUcpcmV0dXJuIDE7aWYoYSBpbnN0YW5jZW9mIFApcmV0dXJuLTE7SChhLkooKSxcIlVua25vd24gbm9kZSB0eXBlXCIpO3ZhciBiPXR5cGVvZiBhLkIsYz10eXBlb2YgdGhpcy5CLGQ9SWEoVGQsYiksZT1JYShUZCxjKTtIKDA8PWQsXCJVbmtub3duIGxlYWYgdHlwZTogXCIrYik7SCgwPD1lLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2MpO3JldHVybiBkPT09ZT9cIm9iamVjdFwiPT09Yz8wOnRoaXMuQjxhLkI/LTE6dGhpcy5CPT09YS5CPzA6MTplLWR9O1xuZy5uYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLnljPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuWj1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/ITA6YS5KKCk/dGhpcy5CPT09YS5CJiZ0aGlzLmFhLlooYS5hYSk6ITF9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLkgoITApKX07ZnVuY3Rpb24gVmQoKXt9dmFyIFdkPXt9O2Z1bmN0aW9uIFBkKGEpe3JldHVybiBxKGEuY29tcGFyZSxhKX1WZC5wcm90b3R5cGUubmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgSyhcIltNSU5fTkFNRV1cIixhKSxuZXcgSyhcIltNSU5fTkFNRV1cIixiKSl9O1ZkLnByb3RvdHlwZS5IYz1mdW5jdGlvbigpe3JldHVybiBYZH07ZnVuY3Rpb24gWWQoYSl7SCghYS5lKCkmJlwiLnByaW9yaXR5XCIhPT1KKGEpLFwiQ2FuJ3QgY3JlYXRlIFBhdGhJbmRleCB3aXRoIGVtcHR5IHBhdGggb3IgLnByaW9yaXR5IGtleVwiKTt0aGlzLmJjPWF9bGEoWWQsVmQpO2c9WWQucHJvdG90eXBlO2cueGM9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuUCh0aGlzLmJjKS5lKCl9O2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuUi5QKHRoaXMuYmMpLGQ9Yi5SLlAodGhpcy5iYyksYz1jLnNjKGQpO3JldHVybiAwPT09Yz9oYyhhLm5hbWUsYi5uYW1lKTpjfTtcbmcuRWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKGEpLGM9Ry5GKHRoaXMuYmMsYyk7cmV0dXJuIG5ldyBLKGIsYyl9O2cuRmM9ZnVuY3Rpb24oKXt2YXIgYT1HLkYodGhpcy5iYyxaZCk7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLGEpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmMuc2xpY2UoKS5qb2luKFwiL1wiKX07ZnVuY3Rpb24gJGQoKXt9bGEoJGQsVmQpO2c9JGQucHJvdG90eXBlO2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuUi5DKCksZD1iLlIuQygpLGM9Yy5zYyhkKTtyZXR1cm4gMD09PWM/aGMoYS5uYW1lLGIubmFtZSk6Y307Zy54Yz1mdW5jdGlvbihhKXtyZXR1cm4hYS5DKCkuZSgpfTtnLm5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuQygpLlooYi5DKCkpfTtnLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIFhkfTtnLkZjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLG5ldyBxYyhcIltQUklPUklUWS1QT1NUXVwiLFpkKSl9O1xuZy5FYz1mdW5jdGlvbihhLGIpe3ZhciBjPU0oYSk7cmV0dXJuIG5ldyBLKGIsbmV3IHFjKFwiW1BSSU9SSVRZLVBPU1RdXCIsYykpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIucHJpb3JpdHlcIn07dmFyIE49bmV3ICRkO2Z1bmN0aW9uIGFlKCl7fWxhKGFlLFZkKTtnPWFlLnByb3RvdHlwZTtnLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaGMoYS5uYW1lLGIubmFtZSl9O2cueGM9ZnVuY3Rpb24oKXt0aHJvdyBzYyhcIktleUluZGV4LmlzRGVmaW5lZE9uIG5vdCBleHBlY3RlZCB0byBiZSBjYWxsZWQuXCIpO307Zy5uZD1mdW5jdGlvbigpe3JldHVybiExfTtnLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIFhkfTtnLkZjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLEcpfTtnLkVjPWZ1bmN0aW9uKGEpe0gocChhKSxcIktleUluZGV4IGluZGV4VmFsdWUgbXVzdCBhbHdheXMgYmUgYSBzdHJpbmcuXCIpO3JldHVybiBuZXcgSyhhLEcpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIua2V5XCJ9O1xudmFyIEZkPW5ldyBhZTtmdW5jdGlvbiBiZSgpe31sYShiZSxWZCk7Zz1iZS5wcm90b3R5cGU7Zy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5SLnNjKGIuUik7cmV0dXJuIDA9PT1jP2hjKGEubmFtZSxiLm5hbWUpOmN9O2cueGM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5uZD1mdW5jdGlvbihhLGIpe3JldHVybiFhLlooYil9O2cuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gWGR9O2cuRmM9ZnVuY3Rpb24oKXtyZXR1cm4gY2V9O2cuRWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKGEpO3JldHVybiBuZXcgSyhiLGMpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIudmFsdWVcIn07dmFyIGRlPW5ldyBiZTtmdW5jdGlvbiBlZSgpe3RoaXMuUmI9dGhpcy5uYT10aGlzLktiPXRoaXMua2E9dGhpcy54YT0hMTt0aGlzLm9hPTA7dGhpcy5tYj1cIlwiO3RoaXMuZGM9bnVsbDt0aGlzLnpiPVwiXCI7dGhpcy5hYz1udWxsO3RoaXMueGI9XCJcIjt0aGlzLmc9Tn12YXIgZmU9bmV3IGVlO2Z1bmN0aW9uIE5kKGEpe3JldHVyblwiXCI9PT1hLm1iP2Eua2E6XCJsXCI9PT1hLm1ifWZ1bmN0aW9uIEpkKGEpe0goYS5rYSxcIk9ubHkgdmFsaWQgaWYgc3RhcnQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLmRjfWZ1bmN0aW9uIElkKGEpe0goYS5rYSxcIk9ubHkgdmFsaWQgaWYgc3RhcnQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLktiP2EuemI6XCJbTUlOX05BTUVdXCJ9ZnVuY3Rpb24gTGQoYSl7SChhLm5hLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLmFjfVxuZnVuY3Rpb24gS2QoYSl7SChhLm5hLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLlJiP2EueGI6XCJbTUFYX05BTUVdXCJ9ZnVuY3Rpb24gZ2UoYSl7dmFyIGI9bmV3IGVlO2IueGE9YS54YTtiLm9hPWEub2E7Yi5rYT1hLmthO2IuZGM9YS5kYztiLktiPWEuS2I7Yi56Yj1hLnpiO2IubmE9YS5uYTtiLmFjPWEuYWM7Yi5SYj1hLlJiO2IueGI9YS54YjtiLmc9YS5nO2IubWI9YS5tYjtyZXR1cm4gYn1nPWVlLnByb3RvdHlwZTtnLmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWdlKHRoaXMpO2IueGE9ITA7Yi5vYT1hO2IubWI9XCJsXCI7cmV0dXJuIGJ9O2cubWU9ZnVuY3Rpb24oYSl7dmFyIGI9Z2UodGhpcyk7Yi54YT0hMDtiLm9hPWE7Yi5tYj1cInJcIjtyZXR1cm4gYn07Zy5OZD1mdW5jdGlvbihhLGIpe3ZhciBjPWdlKHRoaXMpO2Mua2E9ITA7bihhKXx8KGE9bnVsbCk7Yy5kYz1hO251bGwhPWI/KGMuS2I9ITAsYy56Yj1iKTooYy5LYj0hMSxjLnpiPVwiXCIpO3JldHVybiBjfTtcbmcuZ2Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nZSh0aGlzKTtjLm5hPSEwO24oYSl8fChhPW51bGwpO2MuYWM9YTtuKGIpPyhjLlJiPSEwLGMueGI9Yik6KGMudmc9ITEsYy54Yj1cIlwiKTtyZXR1cm4gY307ZnVuY3Rpb24gaGUoYSxiKXt2YXIgYz1nZShhKTtjLmc9YjtyZXR1cm4gY31mdW5jdGlvbiBpZShhKXt2YXIgYj17fTthLmthJiYoYi5zcD1hLmRjLGEuS2ImJihiLnNuPWEuemIpKTthLm5hJiYoYi5lcD1hLmFjLGEuUmImJihiLmVuPWEueGIpKTtpZihhLnhhKXtiLmw9YS5vYTt2YXIgYz1hLm1iO1wiXCI9PT1jJiYoYz1OZChhKT9cImxcIjpcInJcIik7Yi52Zj1jfWEuZyE9PU4mJihiLmk9YS5nLnRvU3RyaW5nKCkpO3JldHVybiBifWZ1bmN0aW9uIFMoYSl7cmV0dXJuIShhLmthfHxhLm5hfHxhLnhhKX1mdW5jdGlvbiBTYyhhKXtyZXR1cm4gUyhhKSYmYS5nPT1OfVxuZnVuY3Rpb24gVGMoYSl7dmFyIGI9e307aWYoU2MoYSkpcmV0dXJuIGI7dmFyIGM7YS5nPT09Tj9jPVwiJHByaW9yaXR5XCI6YS5nPT09ZGU/Yz1cIiR2YWx1ZVwiOmEuZz09PUZkP2M9XCIka2V5XCI6KEgoYS5nIGluc3RhbmNlb2YgWWQsXCJVbnJlY29nbml6ZWQgaW5kZXggdHlwZSFcIiksYz1hLmcudG9TdHJpbmcoKSk7Yi5vcmRlckJ5PUIoYyk7YS5rYSYmKGIuc3RhcnRBdD1CKGEuZGMpLGEuS2ImJihiLnN0YXJ0QXQrPVwiLFwiK0IoYS56YikpKTthLm5hJiYoYi5lbmRBdD1CKGEuYWMpLGEuUmImJihiLmVuZEF0Kz1cIixcIitCKGEueGIpKSk7YS54YSYmKE5kKGEpP2IubGltaXRUb0ZpcnN0PWEub2E6Yi5saW1pdFRvTGFzdD1hLm9hKTtyZXR1cm4gYn1nLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIoaWUodGhpcykpfTtmdW5jdGlvbiBqZShhLGIpe3RoaXMub2Q9YTt0aGlzLmNjPWJ9amUucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXt2YXIgYj13KHRoaXMub2QsYSk7aWYoIWIpdGhyb3cgRXJyb3IoXCJObyBpbmRleCBkZWZpbmVkIGZvciBcIithKTtyZXR1cm4gYj09PVdkP251bGw6Yn07ZnVuY3Rpb24ga2UoYSxiLGMpe3ZhciBkPXBhKGEub2QsZnVuY3Rpb24oZCxmKXt2YXIgaD13KGEuY2MsZik7SChoLFwiTWlzc2luZyBpbmRleCBpbXBsZW1lbnRhdGlvbiBmb3IgXCIrZik7aWYoZD09PVdkKXtpZihoLnhjKGIuUikpe2Zvcih2YXIgaz1bXSxsPWMuV2IoamMpLG09UihsKTttOyltLm5hbWUhPWIubmFtZSYmay5wdXNoKG0pLG09UihsKTtrLnB1c2goYik7cmV0dXJuIGxlKGssUGQoaCkpfXJldHVybiBXZH1oPWMuZ2V0KGIubmFtZSk7az1kO2gmJihrPWsucmVtb3ZlKG5ldyBLKGIubmFtZSxoKSkpO3JldHVybiBrLk9hKGIsYi5SKX0pO3JldHVybiBuZXcgamUoZCxhLmNjKX1cbmZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1wYShhLm9kLGZ1bmN0aW9uKGEpe2lmKGE9PT1XZClyZXR1cm4gYTt2YXIgZD1jLmdldChiLm5hbWUpO3JldHVybiBkP2EucmVtb3ZlKG5ldyBLKGIubmFtZSxkKSk6YX0pO3JldHVybiBuZXcgamUoZCxhLmNjKX12YXIgbmU9bmV3IGplKHtcIi5wcmlvcml0eVwiOldkfSx7XCIucHJpb3JpdHlcIjpOfSk7ZnVuY3Rpb24gb2UoKXt0aGlzLnNldD17fX1nPW9lLnByb3RvdHlwZTtnLmFkZD1mdW5jdGlvbihhLGIpe3RoaXMuc2V0W2FdPW51bGwhPT1iP2I6ITB9O2cuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGNiKHRoaXMuc2V0LGEpfTtnLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb250YWlucyhhKT90aGlzLnNldFthXTp2b2lkIDB9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnNldFthXX07Zy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PXt9fTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4geWEodGhpcy5zZXQpfTtnLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHJhKHRoaXMuc2V0KX07ZnVuY3Rpb24gcGUoYSxiKXtyKGEuc2V0LGZ1bmN0aW9uKGEsZCl7YihkLGEpfSl9Zy5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9W107cih0aGlzLnNldCxmdW5jdGlvbihiLGMpe2EucHVzaChjKX0pO3JldHVybiBhfTtmdW5jdGlvbiBxZShhLGIsYyxkKXt0aGlzLllkPWE7dGhpcy5mPXljKGEpO3RoaXMuamM9Yjt0aGlzLnBiPXRoaXMucWI9MDt0aGlzLlZhPSRjKGIpO3RoaXMudGY9Yzt0aGlzLndjPSExO3RoaXMuQ2I9ZDt0aGlzLlljPWZ1bmN0aW9uKGEpe3JldHVybiBKYihiLFwibG9uZ19wb2xsaW5nXCIsYSl9fXZhciByZSxzZTtcbnFlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5NZT0wO3RoaXMuaWE9Yjt0aGlzLmJmPW5ldyByYihhKTt0aGlzLkFiPSExO3ZhciBjPXRoaXM7dGhpcy5zYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKTtjLmJiKCk7Yy5zYj1udWxsfSxNYXRoLmZsb29yKDNFNCkpO0RjKGZ1bmN0aW9uKCl7aWYoIWMuQWIpe2MuVGE9bmV3IHRlKGZ1bmN0aW9uKGEsYixkLGssbCl7dWUoYyxhcmd1bWVudHMpO2lmKGMuVGEpaWYoYy5zYiYmKGNsZWFyVGltZW91dChjLnNiKSxjLnNiPW51bGwpLGMud2M9ITAsXCJzdGFydFwiPT1hKWMuaWQ9YixjLmZmPWQ7ZWxzZSBpZihcImNsb3NlXCI9PT1hKWI/KGMuVGEuS2Q9ITEsc2IoYy5iZixiLGZ1bmN0aW9uKCl7Yy5iYigpfSkpOmMuYmIoKTtlbHNlIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK2EpO30sZnVuY3Rpb24oYSxiKXt1ZShjLGFyZ3VtZW50cyk7XG50YihjLmJmLGEsYil9LGZ1bmN0aW9uKCl7Yy5iYigpfSxjLlljKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2MuVGEuUWQmJihhLmNiPWMuVGEuUWQpO2Eudj1cIjVcIjtjLnRmJiYoYS5zPWMudGYpO2MuQ2ImJihhLmxzPWMuQ2IpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2E9Yy5ZYyhhKTtjLmYoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7dmUoYy5UYSxhLGZ1bmN0aW9uKCl7fSl9fSl9O1xucWUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5UYSxiPXRoaXMuZmY7YS5WZj10aGlzLmlkO2EuV2Y9Yjtmb3IoYS5VZD0hMDt3ZShhKTspO2E9dGhpcy5pZDtiPXRoaXMuZmY7dGhpcy5mYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBjPXtkZnJhbWU6XCJ0XCJ9O2MuaWQ9YTtjLnB3PWI7dGhpcy5mYy5zcmM9dGhpcy5ZYyhjKTt0aGlzLmZjLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZjKX07XG5xZS5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiByZXx8IXNlJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZudWxsIT1kb2N1bWVudC5jcmVhdGVFbGVtZW50JiYhKFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2hyb21lJiZ3aW5kb3cuY2hyb21lLmV4dGVuc2lvbiYmIS9eY2hyb21lLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSkmJiEoXCJvYmplY3RcIj09PXR5cGVvZiBXaW5kb3dzJiZcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MucmcpJiYhMH07Zz1xZS5wcm90b3R5cGU7Zy5zZD1mdW5jdGlvbigpe307Zy5UYz1mdW5jdGlvbigpe3RoaXMuQWI9ITA7dGhpcy5UYSYmKHRoaXMuVGEuY2xvc2UoKSx0aGlzLlRhPW51bGwpO3RoaXMuZmMmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmMpLHRoaXMuZmM9bnVsbCk7dGhpcy5zYiYmKGNsZWFyVGltZW91dCh0aGlzLnNiKSx0aGlzLnNiPW51bGwpfTtcbmcuYmI9ZnVuY3Rpb24oKXt0aGlzLkFifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5UYygpLHRoaXMuaWEmJih0aGlzLmlhKHRoaXMud2MpLHRoaXMuaWE9bnVsbCkpfTtnLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5BYnx8KHRoaXMuZihcIkxvbmdwb2xsIGlzIGJlaW5nIGNsb3NlZC5cIiksdGhpcy5UYygpKX07Zy5zZW5kPWZ1bmN0aW9uKGEpe2E9QihhKTt0aGlzLnFiKz1hLmxlbmd0aDtMYih0aGlzLlZhLFwiYnl0ZXNfc2VudFwiLGEubGVuZ3RoKTthPW1iKGEpO2E9YWIoYSwhMCk7YT1IYyhhLDE4NDApO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLlRhO2MuUWMucHVzaCh7amc6dGhpcy5NZSxwZzphLmxlbmd0aCxPZTphW2JdfSk7Yy5VZCYmd2UoYyk7dGhpcy5NZSsrfX07ZnVuY3Rpb24gdWUoYSxiKXt2YXIgYz1CKGIpLmxlbmd0aDthLnBiKz1jO0xiKGEuVmEsXCJieXRlc19yZWNlaXZlZFwiLGMpfVxuZnVuY3Rpb24gdGUoYSxiLGMsZCl7dGhpcy5ZYz1kO3RoaXMuaWI9Yzt0aGlzLnRlPW5ldyBvZTt0aGlzLlFjPVtdO3RoaXMuWmQ9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7dGhpcy5LZD0hMDt0aGlzLlFkPXJjKCk7d2luZG93W1wicExQQ29tbWFuZFwiK3RoaXMuUWRdPWE7d2luZG93W1wicFJUTFBDQlwiK3RoaXMuUWRdPWI7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZihkb2N1bWVudC5ib2R5KXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR8fEUoXCJObyBJRSBkb21haW4gc2V0dGluZyByZXF1aXJlZFwiKX1jYXRjaChlKXthLnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIitkb2N1bWVudC5kb21haW4rXCInO2RvY3VtZW50LmNsb3NlKCk7fSkoKSlcIn19ZWxzZSB0aHJvd1wiRG9jdW1lbnQgYm9keSBoYXMgbm90IGluaXRpYWxpemVkLiBXYWl0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGlzIHJlYWR5LlwiO1xuYS5jb250ZW50RG9jdW1lbnQ/YS5nYj1hLmNvbnRlbnREb2N1bWVudDphLmNvbnRlbnRXaW5kb3c/YS5nYj1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6YS5kb2N1bWVudCYmKGEuZ2I9YS5kb2N1bWVudCk7dGhpcy5FYT1hO2E9XCJcIjt0aGlzLkVhLnNyYyYmXCJqYXZhc2NyaXB0OlwiPT09dGhpcy5FYS5zcmMuc3Vic3RyKDAsMTEpJiYoYT0nPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2RvY3VtZW50LmRvbWFpbisnXCI7XFx4M2Mvc2NyaXB0PicpO2E9XCI8aHRtbD48Ym9keT5cIithK1wiPC9ib2R5PjwvaHRtbD5cIjt0cnl7dGhpcy5FYS5nYi5vcGVuKCksdGhpcy5FYS5nYi53cml0ZShhKSx0aGlzLkVhLmdiLmNsb3NlKCl9Y2F0Y2goZil7RShcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJkUoZi5zdGFjayksRShmKX19XG50ZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLlVkPSExO2lmKHRoaXMuRWEpe3RoaXMuRWEuZ2IuYm9keS5pbm5lckhUTUw9XCJcIjt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtudWxsIT09YS5FYSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5FYSksYS5FYT1udWxsKX0sTWF0aC5mbG9vcigwKSl9dmFyIGI9dGhpcy5pYjtiJiYodGhpcy5pYj1udWxsLGIoKSl9O1xuZnVuY3Rpb24gd2UoYSl7aWYoYS5VZCYmYS5LZCYmYS50ZS5jb3VudCgpPCgwPGEuUWMubGVuZ3RoPzI6MSkpe2EuWmQrKzt2YXIgYj17fTtiLmlkPWEuVmY7Yi5wdz1hLldmO2Iuc2VyPWEuWmQ7Zm9yKHZhciBiPWEuWWMoYiksYz1cIlwiLGQ9MDswPGEuUWMubGVuZ3RoOylpZigxODcwPj1hLlFjWzBdLk9lLmxlbmd0aCszMCtjLmxlbmd0aCl7dmFyIGU9YS5RYy5zaGlmdCgpLGM9YytcIiZzZWdcIitkK1wiPVwiK2UuamcrXCImdHNcIitkK1wiPVwiK2UucGcrXCImZFwiK2QrXCI9XCIrZS5PZTtkKyt9ZWxzZSBicmVhazt4ZShhLGIrYyxhLlpkKTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiB4ZShhLGIsYyl7ZnVuY3Rpb24gZCgpe2EudGUucmVtb3ZlKGMpO3dlKGEpfWEudGUuYWRkKGMsMSk7dmFyIGU9c2V0VGltZW91dChkLE1hdGguZmxvb3IoMjVFMykpO3ZlKGEsYixmdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTtkKCl9KX1cbmZ1bmN0aW9uIHZlKGEsYixjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHJ5e2lmKGEuS2Qpe3ZhciBkPWEuRWEuZ2IuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmFzeW5jPSEwO2Quc3JjPWI7ZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT1kLnJlYWR5U3RhdGU7YSYmXCJsb2FkZWRcIiE9PWEmJlwiY29tcGxldGVcIiE9PWF8fChkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGMoKSl9O2Qub25lcnJvcj1mdW5jdGlvbigpe0UoXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitiKTthLktkPSExO2EuY2xvc2UoKX07YS5FYS5nYi5ib2R5LmFwcGVuZENoaWxkKGQpfX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX07ZnVuY3Rpb24geWUoYSl7emUodGhpcyxhKX12YXIgQWU9W3FlLGNkXTtmdW5jdGlvbiB6ZShhLGIpe3ZhciBjPWNkJiZjZC5pc0F2YWlsYWJsZSgpLGQ9YyYmISh5Yi5aZXx8ITA9PT15Yi5nZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKSk7Yi5xZyYmKGN8fE8oXCJ3c3M6Ly8gVVJMIHVzZWQsIGJ1dCBicm93c2VyIGlzbid0IGtub3duIHRvIHN1cHBvcnQgd2Vic29ja2V0cy4gIFRyeWluZyBhbnl3YXkuXCIpLGQ9ITApO2lmKGQpYS5XYz1bY2RdO2Vsc2V7dmFyIGU9YS5XYz1bXTtJYyhBZSxmdW5jdGlvbihhLGIpe2ImJmIuaXNBdmFpbGFibGUoKSYmZS5wdXNoKGIpfSl9fWZ1bmN0aW9uIEJlKGEpe2lmKDA8YS5XYy5sZW5ndGgpcmV0dXJuIGEuV2NbMF07dGhyb3cgRXJyb3IoXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKTt9O2Z1bmN0aW9uIENlKGEsYixjLGQsZSxmLGgpe3RoaXMuaWQ9YTt0aGlzLmY9eWMoXCJjOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMucmU9Yzt0aGlzLkxjPWQ7dGhpcy5pYT1lO3RoaXMucWU9Zjt0aGlzLkw9Yjt0aGlzLkFkPVtdO3RoaXMuS2U9MDt0aGlzLnNmPW5ldyB5ZShiKTt0aGlzLlVhPTA7dGhpcy5DYj1oO3RoaXMuZihcIkNvbm5lY3Rpb24gY3JlYXRlZFwiKTtEZSh0aGlzKX1cbmZ1bmN0aW9uIERlKGEpe3ZhciBiPUJlKGEuc2YpO2EuST1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLktlKyssYS5MLHZvaWQgMCxhLkNiKTthLnZlPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDt2YXIgYz1FZShhLGEuSSksZD1GZShhLGEuSSk7YS5YYz1hLkk7YS5SYz1hLkk7YS5EPW51bGw7YS5CYj0hMTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5JJiZhLkkub3BlbihjLGQpfSxNYXRoLmZsb29yKDApKTtiPWIuaGVhbHRoeVRpbWVvdXR8fDA7MDxiJiYoYS5tZD1NYyhmdW5jdGlvbigpe2EubWQ9bnVsbDthLkJifHwoYS5JJiYxMDI0MDA8YS5JLnBiPyhhLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2EuSS5wYitcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxhLkJiPSEwLGEuSS5zZCgpKTphLkkmJjEwMjQwPGEuSS5xYj9hLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrXG5hLkkucWIrXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOihhLmYoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLGEuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGIpKSl9ZnVuY3Rpb24gRmUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yj09PWEuST8oYS5JPW51bGwsY3x8MCE9PWEuVWE/MT09PWEuVWEmJmEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLkwuJGEuc3Vic3RyKDAsMikmJih5Yi5yZW1vdmUoXCJob3N0OlwiK2EuTC5ob3N0KSxhLkwuJGE9YS5MLmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLkQ/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS5ELGEuRD1udWxsLGEuWGMhPT1jJiZhLlJjIT09Y3x8YS5jbG9zZSgpKTphLmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIEVlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEuVWEpaWYoYj09PWEuUmMpe3ZhciBkPUZjKFwidFwiLGMpO2M9RmMoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9RmMoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLnFmPWMucztJYihhLkwsZik7MD09YS5VYSYmKGEuSS5zdGFydCgpLEdlKGEsYS5JLGQpLFwiNVwiIT09ZSYmTyhcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz1hLnNmLChjPTE8Yy5XYy5sZW5ndGg/Yy5XY1sxXTpudWxsKSYmSGUoYSxjKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZihcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLlJjPWEuRDtmb3IoYz0wO2M8YS5BZC5sZW5ndGg7KytjKWEud2QoYS5BZFtjXSk7YS5BZD1bXTtJZShhKX1lbHNlXCJzXCI9PT1kPyhhLmYoXCJDb25uZWN0aW9uIHNodXRkb3duIGNvbW1hbmQgcmVjZWl2ZWQuIFNodXR0aW5nIGRvd24uLi5cIiksXG5hLnFlJiYoYS5xZShjKSxhLnFlPW51bGwpLGEuaWE9bnVsbCxhLmNsb3NlKCkpOlwiclwiPT09ZD8oYS5mKFwiUmVzZXQgcGFja2V0IHJlY2VpdmVkLiAgTmV3IGhvc3Q6IFwiK2MpLEliKGEuTCxjKSwxPT09YS5VYT9hLmNsb3NlKCk6KEplKGEpLERlKGEpKSk6XCJlXCI9PT1kP3pjKFwiU2VydmVyIEVycm9yOiBcIitjKTpcIm9cIj09PWQ/KGEuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLEtlKGEpLExlKGEpKTp6YyhcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIrZCl9ZWxzZVwiZFwiPT1kJiZhLndkKGMpfWVsc2UgaWYoYj09PWEuRClpZihkPUZjKFwidFwiLGMpLGM9RmMoXCJkXCIsYyksXCJjXCI9PWQpXCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jP01lKGEpOlwiclwiPT09Yz8oYS5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLGEuRC5jbG9zZSgpLGEuWGMhPT1hLkQmJmEuUmMhPT1hLkR8fGEuY2xvc2UoKSk6XCJvXCI9PT1jJiYoYS5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSxcbmEucGYtLSxNZShhKSkpO2Vsc2UgaWYoXCJkXCI9PWQpYS5BZC5wdXNoKGMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitkKTtlbHNlIGEuZihcIm1lc3NhZ2Ugb24gb2xkIGNvbm5lY3Rpb25cIil9fUNlLnByb3RvdHlwZS51YT1mdW5jdGlvbihhKXtOZSh0aGlzLHt0OlwiZFwiLGQ6YX0pfTtmdW5jdGlvbiBJZShhKXthLlhjPT09YS5EJiZhLlJjPT09YS5EJiYoYS5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuRC5ZZCksYS5JPWEuRCxhLkQ9bnVsbCl9XG5mdW5jdGlvbiBNZShhKXswPj1hLnBmPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkJiPSEwLGEuRC5zZCgpLGEuRC5zdGFydCgpLGEuZihcInNlbmRpbmcgY2xpZW50IGFjayBvbiBzZWNvbmRhcnlcIiksYS5ELnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLGEuZihcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLkkuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5YYz1hLkQsSWUoYSkpOihhLmYoXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSxhLkQuc2VuZCh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfUNlLnByb3RvdHlwZS53ZD1mdW5jdGlvbihhKXtLZSh0aGlzKTt0aGlzLnJlKGEpfTtmdW5jdGlvbiBLZShhKXthLkJifHwoYS52ZS0tLDA+PWEudmUmJihhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5CYj0hMCxhLkkuc2QoKSkpfVxuZnVuY3Rpb24gSGUoYSxiKXthLkQ9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5LZSsrLGEuTCxhLnFmKTthLnBmPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDthLkQub3BlbihFZShhLGEuRCksRmUoYSxhLkQpKTtNYyhmdW5jdGlvbigpe2EuRCYmKGEuZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gdXBncmFkZS5cIiksYS5ELmNsb3NlKCkpfSxNYXRoLmZsb29yKDZFNCkpfWZ1bmN0aW9uIEdlKGEsYixjKXthLmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTthLkk9YjthLlVhPTE7YS5MYyYmKGEuTGMoYyxhLnFmKSxhLkxjPW51bGwpOzA9PT1hLnZlPyhhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5CYj0hMCk6TWMoZnVuY3Rpb24oKXtMZShhKX0sTWF0aC5mbG9vcig1RTMpKX1cbmZ1bmN0aW9uIExlKGEpe2EuQmJ8fDEhPT1hLlVhfHwoYS5mKFwic2VuZGluZyBwaW5nIG9uIHByaW1hcnkuXCIpLE5lKGEse3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX1mdW5jdGlvbiBOZShhLGIpe2lmKDEhPT1hLlVhKXRocm93XCJDb25uZWN0aW9uIGlzIG5vdCBjb25uZWN0ZWRcIjthLlhjLnNlbmQoYil9Q2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7MiE9PXRoaXMuVWEmJih0aGlzLmYoXCJDbG9zaW5nIHJlYWx0aW1lIGNvbm5lY3Rpb24uXCIpLHRoaXMuVWE9MixKZSh0aGlzKSx0aGlzLmlhJiYodGhpcy5pYSgpLHRoaXMuaWE9bnVsbCkpfTtmdW5jdGlvbiBKZShhKXthLmYoXCJTaHV0dGluZyBkb3duIGFsbCBjb25uZWN0aW9uc1wiKTthLkkmJihhLkkuY2xvc2UoKSxhLkk9bnVsbCk7YS5EJiYoYS5ELmNsb3NlKCksYS5EPW51bGwpO2EubWQmJihjbGVhclRpbWVvdXQoYS5tZCksYS5tZD1udWxsKX07ZnVuY3Rpb24gTChhLGIpe2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpe3RoaXMubz1hLnNwbGl0KFwiL1wiKTtmb3IodmFyIGM9MCxkPTA7ZDx0aGlzLm8ubGVuZ3RoO2QrKykwPHRoaXMub1tkXS5sZW5ndGgmJih0aGlzLm9bY109dGhpcy5vW2RdLGMrKyk7dGhpcy5vLmxlbmd0aD1jO3RoaXMuWT0wfWVsc2UgdGhpcy5vPWEsdGhpcy5ZPWJ9ZnVuY3Rpb24gVChhLGIpe3ZhciBjPUooYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYz09PUooYikpcmV0dXJuIFQoRChhKSxEKGIpKTt0aHJvdyBFcnJvcihcIklOVEVSTkFMIEVSUk9SOiBpbm5lclBhdGggKFwiK2IrXCIpIGlzIG5vdCB3aXRoaW4gb3V0ZXJQYXRoIChcIithK1wiKVwiKTt9XG5mdW5jdGlvbiBPZShhLGIpe2Zvcih2YXIgYz1hLnNsaWNlKCksZD1iLnNsaWNlKCksZT0wO2U8Yy5sZW5ndGgmJmU8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1oYyhjW2VdLGRbZV0pO2lmKDAhPT1mKXJldHVybiBmfXJldHVybiBjLmxlbmd0aD09PWQubGVuZ3RoPzA6Yy5sZW5ndGg8ZC5sZW5ndGg/LTE6MX1mdW5jdGlvbiBKKGEpe3JldHVybiBhLlk+PWEuby5sZW5ndGg/bnVsbDphLm9bYS5ZXX1mdW5jdGlvbiBBZChhKXtyZXR1cm4gYS5vLmxlbmd0aC1hLll9ZnVuY3Rpb24gRChhKXt2YXIgYj1hLlk7YjxhLm8ubGVuZ3RoJiZiKys7cmV0dXJuIG5ldyBMKGEubyxiKX1mdW5jdGlvbiBCZChhKXtyZXR1cm4gYS5ZPGEuby5sZW5ndGg/YS5vW2Euby5sZW5ndGgtMV06bnVsbH1nPUwucHJvdG90eXBlO1xuZy50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5ZO2I8dGhpcy5vLmxlbmd0aDtiKyspXCJcIiE9PXRoaXMub1tiXSYmKGErPVwiL1wiK3RoaXMub1tiXSk7cmV0dXJuIGF8fFwiL1wifTtnLnNsaWNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm8uc2xpY2UodGhpcy5ZKyhhfHwwKSl9O2cucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5ZPj10aGlzLm8ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYT1bXSxiPXRoaXMuWTtiPHRoaXMuby5sZW5ndGgtMTtiKyspYS5wdXNoKHRoaXMub1tiXSk7cmV0dXJuIG5ldyBMKGEsMCl9O1xuZy5uPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPXRoaXMuWTtjPHRoaXMuby5sZW5ndGg7YysrKWIucHVzaCh0aGlzLm9bY10pO2lmKGEgaW5zdGFuY2VvZiBMKWZvcihjPWEuWTtjPGEuby5sZW5ndGg7YysrKWIucHVzaChhLm9bY10pO2Vsc2UgZm9yKGE9YS5zcGxpdChcIi9cIiksYz0wO2M8YS5sZW5ndGg7YysrKTA8YVtjXS5sZW5ndGgmJmIucHVzaChhW2NdKTtyZXR1cm4gbmV3IEwoYiwwKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWT49dGhpcy5vLmxlbmd0aH07Zy5aPWZ1bmN0aW9uKGEpe2lmKEFkKHRoaXMpIT09QWQoYSkpcmV0dXJuITE7Zm9yKHZhciBiPXRoaXMuWSxjPWEuWTtiPD10aGlzLm8ubGVuZ3RoO2IrKyxjKyspaWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExO3JldHVybiEwfTtcbmcuY29udGFpbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ZLGM9YS5ZO2lmKEFkKHRoaXMpPkFkKGEpKXJldHVybiExO2Zvcig7Yjx0aGlzLm8ubGVuZ3RoOyl7aWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExOysrYjsrK2N9cmV0dXJuITB9O3ZhciBDPW5ldyBMKFwiXCIpO2Z1bmN0aW9uIFBlKGEsYil7dGhpcy5RYT1hLnNsaWNlKCk7dGhpcy5IYT1NYXRoLm1heCgxLHRoaXMuUWEubGVuZ3RoKTt0aGlzLlBlPWI7Zm9yKHZhciBjPTA7Yzx0aGlzLlFhLmxlbmd0aDtjKyspdGhpcy5IYSs9bmIodGhpcy5RYVtjXSk7UWUodGhpcyl9UGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSl7MDx0aGlzLlFhLmxlbmd0aCYmKHRoaXMuSGErPTEpO3RoaXMuUWEucHVzaChhKTt0aGlzLkhhKz1uYihhKTtRZSh0aGlzKX07UGUucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuUWEucG9wKCk7dGhpcy5IYS09bmIoYSk7MDx0aGlzLlFhLmxlbmd0aCYmLS10aGlzLkhhfTtcbmZ1bmN0aW9uIFFlKGEpe2lmKDc2ODxhLkhhKXRocm93IEVycm9yKGEuUGUrXCJoYXMgYSBrZXkgcGF0aCBsb25nZXIgdGhhbiA3NjggYnl0ZXMgKFwiK2EuSGErXCIpLlwiKTtpZigzMjxhLlFhLmxlbmd0aCl0aHJvdyBFcnJvcihhLlBlK1wicGF0aCBzcGVjaWZpZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBkZXB0aCB0aGF0IGNhbiBiZSB3cml0dGVuICgzMikgb3Igb2JqZWN0IGNvbnRhaW5zIGEgY3ljbGUgXCIrUmUoYSkpO31mdW5jdGlvbiBSZShhKXtyZXR1cm4gMD09YS5RYS5sZW5ndGg/XCJcIjpcImluIHByb3BlcnR5ICdcIithLlFhLmpvaW4oXCIuXCIpK1wiJ1wifTtmdW5jdGlvbiBTZShhKXthIGluc3RhbmNlb2YgVGV8fEFjKFwiRG9uJ3QgY2FsbCBuZXcgRGF0YWJhc2UoKSBkaXJlY3RseSAtIHBsZWFzZSB1c2UgZmlyZWJhc2UuZGF0YWJhc2UoKS5cIik7dGhpcy50YT1hO3RoaXMuYmE9bmV3IFUoYSxDKTt0aGlzLklOVEVSTkFMPW5ldyBVZSh0aGlzKX12YXIgVmU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07Zz1TZS5wcm90b3R5cGU7Zy5hcHA9bnVsbDtnLmpmPWZ1bmN0aW9uKGEpe1dlKHRoaXMsXCJyZWZcIik7eChcImRhdGFiYXNlLnJlZlwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gbihhKT90aGlzLmJhLm4oYSk6dGhpcy5iYX07XG5nLmdnPWZ1bmN0aW9uKGEpe1dlKHRoaXMsXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIpO3goXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBiPUJjKGEpO1hlKFwiZGF0YWJhc2UucmVmRnJvbVVSTFwiLGIpO3ZhciBjPWIuamM7Yy5ob3N0IT09dGhpcy50YS5MLmhvc3QmJkFjKFwiZGF0YWJhc2UucmVmRnJvbVVSTDogSG9zdCBuYW1lIGRvZXMgbm90IG1hdGNoIHRoZSBjdXJyZW50IGRhdGFiYXNlOiAoZm91bmQgXCIrYy5ob3N0K1wiIGJ1dCBleHBlY3RlZCBcIit0aGlzLnRhLkwuaG9zdCtcIilcIik7cmV0dXJuIHRoaXMuamYoYi5wYXRoLnRvU3RyaW5nKCkpfTtmdW5jdGlvbiBXZShhLGIpe251bGw9PT1hLnRhJiZBYyhcIkNhbm5vdCBjYWxsIFwiK2IrXCIgb24gYSBkZWxldGVkIGRhdGFiYXNlLlwiKX1nLlBmPWZ1bmN0aW9uKCl7eChcImRhdGFiYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtXZSh0aGlzLFwiZ29PZmZsaW5lXCIpO3RoaXMudGEuYWIoKX07XG5nLlFmPWZ1bmN0aW9uKCl7eChcImRhdGFiYXNlLmdvT25saW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO1dlKHRoaXMsXCJnb09ubGluZVwiKTt0aGlzLnRhLmtjKCl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShTZS5wcm90b3R5cGUsXCJhcHBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGEuYXBwfX0pO2Z1bmN0aW9uIFVlKGEpe3RoaXMuWWE9YX1VZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7V2UodGhpcy5ZYSxcImRlbGV0ZVwiKTt2YXIgYT1ZZS5WYigpLGI9dGhpcy5ZYS50YTt3KGEubGIsYi5hcHAubmFtZSkhPT1iJiZBYyhcIkRhdGFiYXNlIFwiK2IuYXBwLm5hbWUrXCIgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkLlwiKTtiLmFiKCk7ZGVsZXRlIGEubGJbYi5hcHAubmFtZV07dGhpcy5ZYS50YT1udWxsO3RoaXMuWWEuYmE9bnVsbDt0aGlzLllhPXRoaXMuWWEuSU5URVJOQUw9bnVsbDtyZXR1cm4gZmlyZWJhc2UuUHJvbWlzZS5yZXNvbHZlKCl9O1xuU2UucHJvdG90eXBlLnJlZj1TZS5wcm90b3R5cGUuamY7U2UucHJvdG90eXBlLnJlZkZyb21VUkw9U2UucHJvdG90eXBlLmdnO1NlLnByb3RvdHlwZS5nb09ubGluZT1TZS5wcm90b3R5cGUuUWY7U2UucHJvdG90eXBlLmdvT2ZmbGluZT1TZS5wcm90b3R5cGUuUGY7VWUucHJvdG90eXBlW1wiZGVsZXRlXCJdPVVlLnByb3RvdHlwZS5kZWxldGU7ZnVuY3Rpb24gbWMoKXt0aGlzLms9dGhpcy5CPW51bGx9bWMucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5CKXJldHVybiB0aGlzLkIuUChhKTtpZihhLmUoKXx8bnVsbD09dGhpcy5rKXJldHVybiBudWxsO3ZhciBiPUooYSk7YT1EKGEpO3JldHVybiB0aGlzLmsuY29udGFpbnMoYik/dGhpcy5rLmdldChiKS5maW5kKGEpOm51bGx9O2Z1bmN0aW9uIG9jKGEsYixjKXtpZihiLmUoKSlhLkI9YyxhLms9bnVsbDtlbHNlIGlmKG51bGwhPT1hLkIpYS5CPWEuQi5GKGIsYyk7ZWxzZXtudWxsPT1hLmsmJihhLms9bmV3IG9lKTt2YXIgZD1KKGIpO2Euay5jb250YWlucyhkKXx8YS5rLmFkZChkLG5ldyBtYyk7YT1hLmsuZ2V0KGQpO2I9RChiKTtvYyhhLGIsYyl9fVxuZnVuY3Rpb24gWmUoYSxiKXtpZihiLmUoKSlyZXR1cm4gYS5CPW51bGwsYS5rPW51bGwsITA7aWYobnVsbCE9PWEuQil7aWYoYS5CLkooKSlyZXR1cm4hMTt2YXIgYz1hLkI7YS5CPW51bGw7Yy5PKE4sZnVuY3Rpb24oYixjKXtvYyhhLG5ldyBMKGIpLGMpfSk7cmV0dXJuIFplKGEsYil9cmV0dXJuIG51bGwhPT1hLms/KGM9SihiKSxiPUQoYiksYS5rLmNvbnRhaW5zKGMpJiZaZShhLmsuZ2V0KGMpLGIpJiZhLmsucmVtb3ZlKGMpLGEuay5lKCk/KGEuaz1udWxsLCEwKTohMSk6ITB9ZnVuY3Rpb24gbmMoYSxiLGMpe251bGwhPT1hLkI/YyhiLGEuQik6YS5PKGZ1bmN0aW9uKGEsZSl7dmFyIGY9bmV3IEwoYi50b1N0cmluZygpK1wiL1wiK2EpO25jKGUsZixjKX0pfW1jLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGEpe251bGwhPT10aGlzLmsmJnBlKHRoaXMuayxmdW5jdGlvbihiLGMpe2EoYixjKX0pfTt2YXIgJGU9L1tcXFtcXF0uIyRcXC9cXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sYWY9L1tcXFtcXF0uIyRcXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS87ZnVuY3Rpb24gYmYoYSl7cmV0dXJuIHAoYSkmJjAhPT1hLmxlbmd0aCYmISRlLnRlc3QoYSl9ZnVuY3Rpb24gY2YoYSl7cmV0dXJuIG51bGw9PT1hfHxwKGEpfHxnYShhKSYmIUNjKGEpfHxpYShhKSYmY2IoYSxcIi5zdlwiKX1mdW5jdGlvbiBkZihhLGIsYyxkKXtkJiYhbihiKXx8ZWYoeShhLDEsZCksYixjKX1cbmZ1bmN0aW9uIGVmKGEsYixjKXtjIGluc3RhbmNlb2YgTCYmKGM9bmV3IFBlKGMsYSkpO2lmKCFuKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyB1bmRlZmluZWQgXCIrUmUoYykpO2lmKGhhKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK1JlKGMpK1wiIHdpdGggY29udGVudHM6IFwiK2IudG9TdHJpbmcoKSk7aWYoQ2MoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIFwiK2IudG9TdHJpbmcoKStcIiBcIitSZShjKSk7aWYocChiKSYmYi5sZW5ndGg+MTA0ODU3NjAvMyYmMTA0ODU3NjA8bmIoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzIFwiK1JlKGMpK1wiICgnXCIrYi5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihpYShiKSl7dmFyIGQ9ITEsZT0hMTtkYihiLGZ1bmN0aW9uKGIsaCl7aWYoXCIudmFsdWVcIj09PWIpZD0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1iJiZcIi5zdlwiIT09YiYmKGU9XG4hMCwhYmYoYikpKXRocm93IEVycm9yKGErXCIgY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2IrXCIpIFwiK1JlKGMpKycuICBLZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiJyk7Yy5wdXNoKGIpO2VmKGEsaCxjKTtjLnBvcCgpfSk7aWYoZCYmZSl0aHJvdyBFcnJvcihhKycgY29udGFpbnMgXCIudmFsdWVcIiBjaGlsZCAnK1JlKGMpK1wiIGluIGFkZGl0aW9uIHRvIGFjdHVhbCBjaGlsZHJlbi5cIik7fX1cbmZ1bmN0aW9uIGZmKGEsYil7dmFyIGMsZDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWJbY107Zm9yKHZhciBlPWQuc2xpY2UoKSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoKFwiLnByaW9yaXR5XCIhPT1lW2ZdfHxmIT09ZS5sZW5ndGgtMSkmJiFiZihlW2ZdKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2VbZl0rXCIpIGluIHBhdGggXCIrZC50b1N0cmluZygpKycuIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTt9Yi5zb3J0KE9lKTtlPW51bGw7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO2lmKG51bGwhPT1lJiZlLmNvbnRhaW5zKGQpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIHBhdGggXCIrZS50b1N0cmluZygpK1wiIHRoYXQgaXMgYW5jZXN0b3Igb2YgYW5vdGhlciBwYXRoIFwiK2QudG9TdHJpbmcoKSk7ZT1kfX1cbmZ1bmN0aW9uIGdmKGEsYixjKXt2YXIgZD15KGEsMSwhMSk7aWYoIWlhKGIpfHxlYShiKSl0aHJvdyBFcnJvcihkK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO3ZhciBlPVtdO2RiKGIsZnVuY3Rpb24oYSxiKXt2YXIgaz1uZXcgTChhKTtlZihkLGIsYy5uKGspKTtpZihcIi5wcmlvcml0eVwiPT09QmQoaykmJiFjZihiKSl0aHJvdyBFcnJvcihkK1wiY29udGFpbnMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgJ1wiK2sudG9TdHJpbmcoKStcIicsIHdoaWNoIG11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO2UucHVzaChrKX0pO2ZmKGQsZSl9XG5mdW5jdGlvbiBoZihhLGIsYyl7aWYoQ2MoYykpdGhyb3cgRXJyb3IoeShhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIWNmKGMpKXRocm93IEVycm9yKHkoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO31cbmZ1bmN0aW9uIGpmKGEsYixjKXtpZighY3x8bihiKSlzd2l0Y2goYil7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcImNoaWxkX2FkZGVkXCI6Y2FzZSBcImNoaWxkX3JlbW92ZWRcIjpjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOmNhc2UgXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoeShhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBrZihhLGIpe2lmKG4oYikmJiFiZihiKSl0aHJvdyBFcnJvcih5KGEsMiwhMCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2IrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gbGYoYSxiKXtpZighcChiKXx8MD09PWIubGVuZ3RofHxhZi50ZXN0KGIpKXRocm93IEVycm9yKHkoYSwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWZ1bmN0aW9uIG1mKGEsYil7aWYoXCIuaW5mb1wiPT09SihiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9XG5mdW5jdGlvbiBYZShhLGIpe3ZhciBjPWIucGF0aC50b1N0cmluZygpLGQ7IShkPSFwKGIuamMuaG9zdCl8fDA9PT1iLmpjLmhvc3QubGVuZ3RofHwhYmYoYi5qYy5uZSkpJiYoZD0wIT09Yy5sZW5ndGgpJiYoYyYmKGM9Yy5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpLGQ9IShwKGMpJiYwIT09Yy5sZW5ndGgmJiFhZi50ZXN0KGMpKSk7aWYoZCl0aHJvdyBFcnJvcih5KGEsMSwhMSkrJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBVUkwgYW5kIHRoZSBwYXRoIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCIuJyk7fTtmdW5jdGlvbiBWKGEsYil7dGhpcy50YT1hO3RoaXMucWE9Yn1WLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMSxhLCEwKTt2YXIgYj1uZXcgaGI7dGhpcy50YS54ZCh0aGlzLnFhLGliKGIsYSkpO3JldHVybiBiLnJhfTtWLnByb3RvdHlwZS5jYW5jZWw9Vi5wcm90b3R5cGUuY2FuY2VsO1YucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO21mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsdGhpcy5xYSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDEsYSwhMCk7dmFyIGI9bmV3IGhiO25mKHRoaXMudGEsdGhpcy5xYSxudWxsLGliKGIsYSkpO3JldHVybiBiLnJhfTtcblYucHJvdG90eXBlLnJlbW92ZT1WLnByb3RvdHlwZS5yZW1vdmU7Vi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLHRoaXMucWEpO2RmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsYSx0aGlzLnFhLCExKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMixiLCEwKTt2YXIgYz1uZXcgaGI7bmYodGhpcy50YSx0aGlzLnFhLGEsaWIoYyxiKSk7cmV0dXJuIGMucmF9O1YucHJvdG90eXBlLnNldD1WLnByb3RvdHlwZS5zZXQ7XG5WLnByb3RvdHlwZS5KYj1mdW5jdGlvbihhLGIsYyl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucWEpO2RmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnFhLCExKTtoZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsYik7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7dmFyIGQ9bmV3IGhiO29mKHRoaXMudGEsdGhpcy5xYSxhLGIsaWIoZCxjKSk7cmV0dXJuIGQucmF9O1YucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1WLnByb3RvdHlwZS5KYjtcblYucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIix0aGlzLnFhKTtpZihlYShhKSl7Zm9yKHZhciBjPXt9LGQ9MDtkPGEubGVuZ3RoOysrZCljW1wiXCIrZF09YVtkXTthPWM7TyhcIlBhc3NpbmcgYW4gQXJyYXkgdG8gRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlKCkgaXMgZGVwcmVjYXRlZC4gVXNlIHNldCgpIGlmIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgZGF0YSwgb3IgYW4gT2JqZWN0IHdpdGggaW50ZWdlciBrZXlzIGlmIHlvdSByZWFsbHkgZG8gd2FudCB0byBvbmx5IHVwZGF0ZSBzb21lIG9mIHRoZSBjaGlsZHJlbi5cIil9Z2YoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIixhLHRoaXMucWEpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwyLGIsITApO1xuYz1uZXcgaGI7cGYodGhpcy50YSx0aGlzLnFhLGEsaWIoYyxiKSk7cmV0dXJuIGMucmF9O1YucHJvdG90eXBlLnVwZGF0ZT1WLnByb3RvdHlwZS51cGRhdGU7ZnVuY3Rpb24gcWYoYSl7SChlYShhKSYmMDxhLmxlbmd0aCxcIlJlcXVpcmVzIGEgbm9uLWVtcHR5IGFycmF5XCIpO3RoaXMuQmY9YTt0aGlzLkRjPXt9fXFmLnByb3RvdHlwZS5FZT1mdW5jdGlvbihhLGIpe3ZhciBjO2M9dGhpcy5EY1thXXx8W107dmFyIGQ9Yy5sZW5ndGg7aWYoMDxkKXtmb3IodmFyIGU9QXJyYXkoZCksZj0wO2Y8ZDtmKyspZVtmXT1jW2ZdO2M9ZX1lbHNlIGM9W107Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLkhlLmFwcGx5KGNbZF0uTWEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX07cWYucHJvdG90eXBlLmdjPWZ1bmN0aW9uKGEsYixjKXtyZih0aGlzLGEpO3RoaXMuRGNbYV09dGhpcy5EY1thXXx8W107dGhpcy5EY1thXS5wdXNoKHtIZTpiLE1hOmN9KTsoYT10aGlzLlVlKGEpKSYmYi5hcHBseShjLGEpfTtcbnFmLnByb3RvdHlwZS5JYz1mdW5jdGlvbihhLGIsYyl7cmYodGhpcyxhKTthPXRoaXMuRGNbYV18fFtdO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0uSGU9PT1iJiYoIWN8fGM9PT1hW2RdLk1hKSl7YS5zcGxpY2UoZCwxKTticmVha319O2Z1bmN0aW9uIHJmKGEsYil7SChPYShhLkJmLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0pLFwiVW5rbm93biBldmVudDogXCIrYil9O2Z1bmN0aW9uIHNmKCl7cWYuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSk7dGhpcy5oYz0hMDtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmIXFiKCkpe3ZhciBhPXRoaXM7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIixmdW5jdGlvbigpe2EuaGN8fChhLmhjPSEwLGEuRWUoXCJvbmxpbmVcIiwhMCkpfSwhMSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsZnVuY3Rpb24oKXthLmhjJiYoYS5oYz0hMSxhLkVlKFwib25saW5lXCIsITEpKX0sITEpfX1sYShzZixxZik7c2YucHJvdG90eXBlLlVlPWZ1bmN0aW9uKGEpe0goXCJvbmxpbmVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLmhjXX07Y2Eoc2YpO2Z1bmN0aW9uIHRmKCl7cWYuY2FsbCh0aGlzLFtcInZpc2libGVcIl0pO3ZhciBhLGI7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/KGI9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cImhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8oYj1cIm1venZpc2liaWxpdHljaGFuZ2VcIixhPVwibW96SGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4/KGI9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIixhPVwibXNIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihiPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJ3ZWJraXRIaWRkZW5cIikpO3RoaXMuTWI9ITA7aWYoYil7dmFyIGM9dGhpcztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGIsXG5mdW5jdGlvbigpe3ZhciBiPSFkb2N1bWVudFthXTtiIT09Yy5NYiYmKGMuTWI9YixjLkVlKFwidmlzaWJsZVwiLGIpKX0sITEpfX1sYSh0ZixxZik7dGYucHJvdG90eXBlLlVlPWZ1bmN0aW9uKGEpe0goXCJ2aXNpYmxlXCI9PT1hLFwiVW5rbm93biBldmVudCB0eXBlOiBcIithKTtyZXR1cm5bdGhpcy5NYl19O2NhKHRmKTt2YXIgdWY9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTtIKDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO0goMjA9PT1jLmxlbmd0aCxcIm5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIHZmKGEsYil7dGhpcy5MYT1hO3RoaXMuYmE9Yj9iOndmfWc9dmYucHJvdG90eXBlO2cuT2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHZmKHRoaXMuTGEsdGhpcy5iYS5PYShhLGIsdGhpcy5MYSkuWChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgdmYodGhpcy5MYSx0aGlzLmJhLnJlbW92ZShhLHRoaXMuTGEpLlgobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfTtnLmdldD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmJhOyFjLmUoKTspe2I9dGhpcy5MYShhLGMua2V5KTtpZigwPT09YilyZXR1cm4gYy52YWx1ZTswPmI/Yz1jLmxlZnQ6MDxiJiYoYz1jLnJpZ2h0KX1yZXR1cm4gbnVsbH07XG5mdW5jdGlvbiB4ZihhLGIpe2Zvcih2YXIgYyxkPWEuYmEsZT1udWxsOyFkLmUoKTspe2M9YS5MYShiLGQua2V5KTtpZigwPT09Yyl7aWYoZC5sZWZ0LmUoKSlyZXR1cm4gZT9lLmtleTpudWxsO2ZvcihkPWQubGVmdDshZC5yaWdodC5lKCk7KWQ9ZC5yaWdodDtyZXR1cm4gZC5rZXl9MD5jP2Q9ZC5sZWZ0OjA8YyYmKGU9ZCxkPWQucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpO31nLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYS5lKCl9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYS5jb3VudCgpfTtnLkdjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmEuR2MoKX07Zy5lYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhLmVjKCl9O2cuaGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmEuaGEoYSl9O1xuZy5XYj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IHlmKHRoaXMuYmEsbnVsbCx0aGlzLkxhLCExLGEpfTtnLlhiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyB5Zih0aGlzLmJhLGEsdGhpcy5MYSwhMSxiKX07Zy5aYj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgeWYodGhpcy5iYSxhLHRoaXMuTGEsITAsYil9O2cuV2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyB5Zih0aGlzLmJhLG51bGwsdGhpcy5MYSwhMCxhKX07ZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt0aGlzLkhkPWV8fG51bGw7dGhpcy5qZT1kO3RoaXMuUGE9W107Zm9yKGU9MTshYS5lKCk7KWlmKGU9Yj9jKGEua2V5LGIpOjEsZCYmKGUqPS0xKSwwPmUpYT10aGlzLmplP2EubGVmdDphLnJpZ2h0O2Vsc2UgaWYoMD09PWUpe3RoaXMuUGEucHVzaChhKTticmVha31lbHNlIHRoaXMuUGEucHVzaChhKSxhPXRoaXMuamU/YS5yaWdodDphLmxlZnR9XG5mdW5jdGlvbiBSKGEpe2lmKDA9PT1hLlBhLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYj1hLlBhLnBvcCgpLGM7Yz1hLkhkP2EuSGQoYi5rZXksYi52YWx1ZSk6e2tleTpiLmtleSx2YWx1ZTpiLnZhbHVlfTtpZihhLmplKWZvcihiPWIubGVmdDshYi5lKCk7KWEuUGEucHVzaChiKSxiPWIucmlnaHQ7ZWxzZSBmb3IoYj1iLnJpZ2h0OyFiLmUoKTspYS5QYS5wdXNoKGIpLGI9Yi5sZWZ0O3JldHVybiBjfWZ1bmN0aW9uIHpmKGEpe2lmKDA9PT1hLlBhLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYjtiPWEuUGE7Yj1iW2IubGVuZ3RoLTFdO3JldHVybiBhLkhkP2EuSGQoYi5rZXksYi52YWx1ZSk6e2tleTpiLmtleSx2YWx1ZTpiLnZhbHVlfX1mdW5jdGlvbiBBZihhLGIsYyxkLGUpe3RoaXMua2V5PWE7dGhpcy52YWx1ZT1iO3RoaXMuY29sb3I9bnVsbCE9Yz9jOiEwO3RoaXMubGVmdD1udWxsIT1kP2Q6d2Y7dGhpcy5yaWdodD1udWxsIT1lP2U6d2Z9Zz1BZi5wcm90b3R5cGU7XG5nLlg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbmV3IEFmKG51bGwhPWE/YTp0aGlzLmtleSxudWxsIT1iP2I6dGhpcy52YWx1ZSxudWxsIT1jP2M6dGhpcy5jb2xvcixudWxsIT1kP2Q6dGhpcy5sZWZ0LG51bGwhPWU/ZTp0aGlzLnJpZ2h0KX07Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlZnQuY291bnQoKSsxK3RoaXMucmlnaHQuY291bnQoKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuaGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubGVmdC5oYShhKXx8YSh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5yaWdodC5oYShhKX07ZnVuY3Rpb24gQmYoYSl7cmV0dXJuIGEubGVmdC5lKCk/YTpCZihhLmxlZnQpfWcuR2M9ZnVuY3Rpb24oKXtyZXR1cm4gQmYodGhpcykua2V5fTtnLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuZSgpP3RoaXMua2V5OnRoaXMucmlnaHQuZWMoKX07XG5nLk9hPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2U9dGhpcztkPWMoYSxlLmtleSk7ZT0wPmQ/ZS5YKG51bGwsbnVsbCxudWxsLGUubGVmdC5PYShhLGIsYyksbnVsbCk6MD09PWQ/ZS5YKG51bGwsYixudWxsLG51bGwsbnVsbCk6ZS5YKG51bGwsbnVsbCxudWxsLG51bGwsZS5yaWdodC5PYShhLGIsYykpO3JldHVybiBDZihlKX07ZnVuY3Rpb24gRGYoYSl7aWYoYS5sZWZ0LmUoKSlyZXR1cm4gd2Y7YS5sZWZ0LmVhKCl8fGEubGVmdC5sZWZ0LmVhKCl8fChhPUVmKGEpKTthPWEuWChudWxsLG51bGwsbnVsbCxEZihhLmxlZnQpLG51bGwpO3JldHVybiBDZihhKX1cbmcucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtjPXRoaXM7aWYoMD5iKGEsYy5rZXkpKWMubGVmdC5lKCl8fGMubGVmdC5lYSgpfHxjLmxlZnQubGVmdC5lYSgpfHwoYz1FZihjKSksYz1jLlgobnVsbCxudWxsLG51bGwsYy5sZWZ0LnJlbW92ZShhLGIpLG51bGwpO2Vsc2V7Yy5sZWZ0LmVhKCkmJihjPUZmKGMpKTtjLnJpZ2h0LmUoKXx8Yy5yaWdodC5lYSgpfHxjLnJpZ2h0LmxlZnQuZWEoKXx8KGM9R2YoYyksYy5sZWZ0LmxlZnQuZWEoKSYmKGM9RmYoYyksYz1HZihjKSkpO2lmKDA9PT1iKGEsYy5rZXkpKXtpZihjLnJpZ2h0LmUoKSlyZXR1cm4gd2Y7ZD1CZihjLnJpZ2h0KTtjPWMuWChkLmtleSxkLnZhbHVlLG51bGwsbnVsbCxEZihjLnJpZ2h0KSl9Yz1jLlgobnVsbCxudWxsLG51bGwsbnVsbCxjLnJpZ2h0LnJlbW92ZShhLGIpKX1yZXR1cm4gQ2YoYyl9O2cuZWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvcn07XG5mdW5jdGlvbiBDZihhKXthLnJpZ2h0LmVhKCkmJiFhLmxlZnQuZWEoKSYmKGE9SGYoYSkpO2EubGVmdC5lYSgpJiZhLmxlZnQubGVmdC5lYSgpJiYoYT1GZihhKSk7YS5sZWZ0LmVhKCkmJmEucmlnaHQuZWEoKSYmKGE9R2YoYSkpO3JldHVybiBhfWZ1bmN0aW9uIEVmKGEpe2E9R2YoYSk7YS5yaWdodC5sZWZ0LmVhKCkmJihhPWEuWChudWxsLG51bGwsbnVsbCxudWxsLEZmKGEucmlnaHQpKSxhPUhmKGEpLGE9R2YoYSkpO3JldHVybiBhfWZ1bmN0aW9uIEhmKGEpe3JldHVybiBhLnJpZ2h0LlgobnVsbCxudWxsLGEuY29sb3IsYS5YKG51bGwsbnVsbCwhMCxudWxsLGEucmlnaHQubGVmdCksbnVsbCl9ZnVuY3Rpb24gRmYoYSl7cmV0dXJuIGEubGVmdC5YKG51bGwsbnVsbCxhLmNvbG9yLG51bGwsYS5YKG51bGwsbnVsbCwhMCxhLmxlZnQucmlnaHQsbnVsbCkpfVxuZnVuY3Rpb24gR2YoYSl7cmV0dXJuIGEuWChudWxsLG51bGwsIWEuY29sb3IsYS5sZWZ0LlgobnVsbCxudWxsLCFhLmxlZnQuY29sb3IsbnVsbCxudWxsKSxhLnJpZ2h0LlgobnVsbCxudWxsLCFhLnJpZ2h0LmNvbG9yLG51bGwsbnVsbCkpfWZ1bmN0aW9uIElmKCl7fWc9SWYucHJvdG90eXBlO2cuWD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLk9hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBBZihhLGIsbnVsbCl9O2cucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuaGE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5HYz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtnLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2cuZWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHdmPW5ldyBJZjtmdW5jdGlvbiBQKGEsYixjKXt0aGlzLms9YTsodGhpcy5hYT1iKSYmU2QodGhpcy5hYSk7YS5lKCkmJkgoIXRoaXMuYWF8fHRoaXMuYWEuZSgpLFwiQW4gZW1wdHkgbm9kZSBjYW5ub3QgaGF2ZSBhIHByaW9yaXR5XCIpO3RoaXMueWI9Yzt0aGlzLkRiPW51bGx9Zz1QLnByb3RvdHlwZTtnLko9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWF8fEd9O2cuZmE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuay5lKCk/dGhpczpuZXcgUCh0aGlzLmssYSx0aGlzLnliKX07Zy5RPWZ1bmN0aW9uKGEpe2lmKFwiLnByaW9yaXR5XCI9PT1hKXJldHVybiB0aGlzLkMoKTthPXRoaXMuay5nZXQoYSk7cmV0dXJuIG51bGw9PT1hP0c6YX07Zy5QPWZ1bmN0aW9uKGEpe3ZhciBiPUooYSk7cmV0dXJuIG51bGw9PT1iP3RoaXM6dGhpcy5RKGIpLlAoRChhKSl9O2cuRGE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT10aGlzLmsuZ2V0KGEpfTtcbmcuVD1mdW5jdGlvbihhLGIpe0goYixcIldlIHNob3VsZCBhbHdheXMgYmUgcGFzc2luZyBzbmFwc2hvdCBub2Rlc1wiKTtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5mYShiKTt2YXIgYz1uZXcgSyhhLGIpLGQsZTtiLmUoKT8oZD10aGlzLmsucmVtb3ZlKGEpLGM9bWUodGhpcy55YixjLHRoaXMuaykpOihkPXRoaXMuay5PYShhLGIpLGM9a2UodGhpcy55YixjLHRoaXMuaykpO2U9ZC5lKCk/Rzp0aGlzLmFhO3JldHVybiBuZXcgUChkLGUsYyl9O2cuRj1mdW5jdGlvbihhLGIpe3ZhciBjPUooYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7SChcIi5wcmlvcml0eVwiIT09SihhKXx8MT09PUFkKGEpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3ZhciBkPXRoaXMuUShjKS5GKEQoYSksYik7cmV0dXJuIHRoaXMuVChjLGQpfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rLmUoKX07Zy5FYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmsuY291bnQoKX07XG52YXIgSmY9L14oMHxbMS05XVxcZCopJC87Zz1QLnByb3RvdHlwZTtnLkg9ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuTyhOLGZ1bmN0aW9uKGYsaCl7YltmXT1oLkgoYSk7YysrO2UmJkpmLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10saDtmb3IoaCBpbiBiKWZbaF09YltoXTtyZXR1cm4gZn1hJiYhdGhpcy5DKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLkMoKS5IKCkpO3JldHVybiBifTtnLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5EYil7dmFyIGE9XCJcIjt0aGlzLkMoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK1VkKHRoaXMuQygpLkgoKSkrXCI6XCIpO3RoaXMuTyhOLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5EYj1cIlwiPT09YT9cIlwiOnVjKGEpfXJldHVybiB0aGlzLkRifTtcbmcuVmU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPUtmKHRoaXMsYykpPyhhPXhmKGMsbmV3IEsoYSxiKSkpP2EubmFtZTpudWxsOnhmKHRoaXMuayxhKX07ZnVuY3Rpb24gUWQoYSxiKXt2YXIgYztjPShjPUtmKGEsYikpPyhjPWMuR2MoKSkmJmMubmFtZTphLmsuR2MoKTtyZXR1cm4gYz9uZXcgSyhjLGEuay5nZXQoYykpOm51bGx9ZnVuY3Rpb24gUmQoYSxiKXt2YXIgYztjPShjPUtmKGEsYikpPyhjPWMuZWMoKSkmJmMubmFtZTphLmsuZWMoKTtyZXR1cm4gYz9uZXcgSyhjLGEuay5nZXQoYykpOm51bGx9Zy5PPWZ1bmN0aW9uKGEsYil7dmFyIGM9S2YodGhpcyxhKTtyZXR1cm4gYz9jLmhhKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlIpfSk6dGhpcy5rLmhhKGIpfTtnLldiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlhiKGEuSGMoKSxhKX07XG5nLlhiPWZ1bmN0aW9uKGEsYil7dmFyIGM9S2YodGhpcyxiKTtpZihjKXJldHVybiBjLlhiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5rLlhiKGEubmFtZSxqYyksZD16ZihjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylSKGMpLGQ9emYoYyk7cmV0dXJuIGN9O2cuV2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWmIoYS5GYygpLGEpfTtnLlpiPWZ1bmN0aW9uKGEsYil7dmFyIGM9S2YodGhpcyxiKTtpZihjKXJldHVybiBjLlpiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5rLlpiKGEubmFtZSxqYyksZD16ZihjKTtudWxsIT1kJiYwPGIuY29tcGFyZShkLGEpOylSKGMpLGQ9emYoYyk7cmV0dXJuIGN9O2cuc2M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZSgpP2EuZSgpPzA6LTE6YS5KKCl8fGEuZSgpPzE6YT09PVpkPy0xOjB9O1xuZy5uYj1mdW5jdGlvbihhKXtpZihhPT09RmR8fHZhKHRoaXMueWIuY2MsYS50b1N0cmluZygpKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLnliLGM9dGhpcy5rO0goYSE9PUZkLFwiS2V5SW5kZXggYWx3YXlzIGV4aXN0cyBhbmQgaXNuJ3QgbWVhbnQgdG8gYmUgYWRkZWQgdG8gdGhlIEluZGV4TWFwLlwiKTtmb3IodmFyIGQ9W10sZT0hMSxjPWMuV2IoamMpLGY9UihjKTtmOyllPWV8fGEueGMoZi5SKSxkLnB1c2goZiksZj1SKGMpO2Q9ZT9sZShkLFBkKGEpKTpXZDtlPWEudG9TdHJpbmcoKTtjPXphKGIuY2MpO2NbZV09YTthPXphKGIub2QpO2FbZV09ZDtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMuYWEsbmV3IGplKGEsYykpfTtnLnljPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09RmR8fHZhKHRoaXMueWIuY2MsYS50b1N0cmluZygpKX07XG5nLlo9ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMpcmV0dXJuITA7aWYoYS5KKCkpcmV0dXJuITE7aWYodGhpcy5DKCkuWihhLkMoKSkmJnRoaXMuay5jb3VudCgpPT09YS5rLmNvdW50KCkpe3ZhciBiPXRoaXMuV2IoTik7YT1hLldiKE4pO2Zvcih2YXIgYz1SKGIpLGQ9UihhKTtjJiZkOyl7aWYoYy5uYW1lIT09ZC5uYW1lfHwhYy5SLlooZC5SKSlyZXR1cm4hMTtjPVIoYik7ZD1SKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIEtmKGEsYil7cmV0dXJuIGI9PT1GZD9udWxsOmEueWIuZ2V0KGIudG9TdHJpbmcoKSl9Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuSCghMCkpfTtmdW5jdGlvbiBNKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIEc7dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO0gobnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBxYyhhLE0oYykpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9RyxlPWE7cihlLGZ1bmN0aW9uKGEsYil7aWYoY2IoZSxiKSYmXCIuXCIhPT1iLnN1YnN0cmluZygwLDEpKXt2YXIgYz1NKGEpO2lmKGMuSigpfHwhYy5lKCkpZD1cbmQuVChiLGMpfX0pO3JldHVybiBkLmZhKE0oYykpfXZhciBmPVtdLGg9ITEsaz1hO2RiKGssZnVuY3Rpb24oYSl7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBhfHxcIi5cIiE9PWEuc3Vic3RyaW5nKDAsMSkpe3ZhciBiPU0oa1thXSk7Yi5lKCl8fChoPWh8fCFiLkMoKS5lKCksZi5wdXNoKG5ldyBLKGEsYikpKX19KTtpZigwPT1mLmxlbmd0aClyZXR1cm4gRzt2YXIgbD1sZShmLGdjLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWV9LGljKTtpZihoKXt2YXIgbT1sZShmLFBkKE4pKTtyZXR1cm4gbmV3IFAobCxNKGMpLG5ldyBqZSh7XCIucHJpb3JpdHlcIjptfSx7XCIucHJpb3JpdHlcIjpOfSkpfXJldHVybiBuZXcgUChsLE0oYyksbmUpfXZhciBMZj1NYXRoLmxvZygyKTtcbmZ1bmN0aW9uIE1mKGEpe3RoaXMuY291bnQ9cGFyc2VJbnQoTWF0aC5sb2coYSsxKS9MZiwxMCk7dGhpcy5OZT10aGlzLmNvdW50LTE7dGhpcy5DZj1hKzEmcGFyc2VJbnQoQXJyYXkodGhpcy5jb3VudCsxKS5qb2luKFwiMVwiKSwyKX1mdW5jdGlvbiBOZihhKXt2YXIgYj0hKGEuQ2YmMTw8YS5OZSk7YS5OZS0tO3JldHVybiBifVxuZnVuY3Rpb24gbGUoYSxiLGMsZCl7ZnVuY3Rpb24gZShiLGQpe3ZhciBmPWQtYjtpZigwPT1mKXJldHVybiBudWxsO2lmKDE9PWYpe3ZhciBtPWFbYl0sdT1jP2MobSk6bTtyZXR1cm4gbmV3IEFmKHUsbS5SLCExLG51bGwsbnVsbCl9dmFyIG09cGFyc2VJbnQoZi8yLDEwKStiLGY9ZShiLG0pLHo9ZShtKzEsZCksbT1hW21dLHU9Yz9jKG0pOm07cmV0dXJuIG5ldyBBZih1LG0uUiwhMSxmLHopfWEuc29ydChiKTt2YXIgZj1mdW5jdGlvbihiKXtmdW5jdGlvbiBkKGIsaCl7dmFyIGs9dS1iLHo9dTt1LT1iO3ZhciB6PWUoaysxLHopLGs9YVtrXSxGPWM/YyhrKTprLHo9bmV3IEFmKEYsay5SLGgsbnVsbCx6KTtmP2YubGVmdD16Om09ejtmPXp9Zm9yKHZhciBmPW51bGwsbT1udWxsLHU9YS5sZW5ndGgsej0wO3o8Yi5jb3VudDsrK3ope3ZhciBGPU5mKGIpLGlkPU1hdGgucG93KDIsYi5jb3VudC0oeisxKSk7Rj9kKGlkLCExKTooZChpZCwhMSksZChpZCwhMCkpfXJldHVybiBtfShuZXcgTWYoYS5sZW5ndGgpKTtcbnJldHVybiBudWxsIT09Zj9uZXcgdmYoZHx8YixmKTpuZXcgdmYoZHx8Yil9ZnVuY3Rpb24gVWQoYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhP1wibnVtYmVyOlwiK0pjKGEpOlwic3RyaW5nOlwiK2F9ZnVuY3Rpb24gU2QoYSl7aWYoYS5KKCkpe3ZhciBiPWEuSCgpO0goXCJzdHJpbmdcIj09PXR5cGVvZiBifHxcIm51bWJlclwiPT09dHlwZW9mIGJ8fFwib2JqZWN0XCI9PT10eXBlb2YgYiYmY2IoYixcIi5zdlwiKSxcIlByaW9yaXR5IG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyLlwiKX1lbHNlIEgoYT09PVpkfHxhLmUoKSxcInByaW9yaXR5IG9mIHVuZXhwZWN0ZWQgdHlwZS5cIik7SChhPT09WmR8fGEuQygpLmUoKSxcIlByaW9yaXR5IG5vZGVzIGNhbid0IGhhdmUgYSBwcmlvcml0eSBvZiB0aGVpciBvd24uXCIpfXZhciBHPW5ldyBQKG5ldyB2ZihpYyksbnVsbCxuZSk7ZnVuY3Rpb24gT2YoKXtQLmNhbGwodGhpcyxuZXcgdmYoaWMpLEcsbmUpfWxhKE9mLFApO2c9T2YucHJvdG90eXBlO1xuZy5zYz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/MDoxfTtnLlo9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfTtnLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Zy5RPWZ1bmN0aW9uKCl7cmV0dXJuIEd9O2cuZT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgWmQ9bmV3IE9mLFhkPW5ldyBLKFwiW01JTl9OQU1FXVwiLEcpLGNlPW5ldyBLKFwiW01BWF9OQU1FXVwiLFpkKTtmdW5jdGlvbiBXKGEsYixjKXt0aGlzLkE9YTt0aGlzLlY9Yjt0aGlzLmc9Y31XLnByb3RvdHlwZS5IPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC52YWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5IKCl9O1cucHJvdG90eXBlLnZhbD1XLnByb3RvdHlwZS5IO1cucHJvdG90eXBlLlFlPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leHBvcnRWYWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5IKCEwKX07Vy5wcm90b3R5cGUuZXhwb3J0VmFsPVcucHJvdG90eXBlLlFlO1cucHJvdG90eXBlLkxmPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leGlzdHNcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIXRoaXMuQS5lKCl9O1cucHJvdG90eXBlLmV4aXN0cz1XLnByb3RvdHlwZS5MZjtcblcucHJvdG90eXBlLm49ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtnYShhKSYmKGE9U3RyaW5nKGEpKTtsZihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLGEpO3ZhciBiPW5ldyBMKGEpLGM9dGhpcy5WLm4oYik7cmV0dXJuIG5ldyBXKHRoaXMuQS5QKGIpLGMsTil9O1cucHJvdG90eXBlLmNoaWxkPVcucHJvdG90eXBlLm47Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtsZihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZFwiLGEpO3ZhciBiPW5ldyBMKGEpO3JldHVybiF0aGlzLkEuUChiKS5lKCl9O1cucHJvdG90eXBlLmhhc0NoaWxkPVcucHJvdG90eXBlLkRhO1xuVy5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5DKCkuSCgpfTtXLnByb3RvdHlwZS5nZXRQcmlvcml0eT1XLnByb3RvdHlwZS5DO1cucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsYSwhMSk7aWYodGhpcy5BLkooKSlyZXR1cm4hMTt2YXIgYj10aGlzO3JldHVybiEhdGhpcy5BLk8odGhpcy5nLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEobmV3IFcoZCxiLlYubihjKSxOKSl9KX07Vy5wcm90b3R5cGUuZm9yRWFjaD1XLnByb3RvdHlwZS5mb3JFYWNoO1xuVy5wcm90b3R5cGUua2Q9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuSigpPyExOiF0aGlzLkEuZSgpfTtXLnByb3RvdHlwZS5oYXNDaGlsZHJlbj1XLnByb3RvdHlwZS5rZDtXLnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5WLmdldEtleSgpfTtMYyhXLnByb3RvdHlwZSxcImtleVwiLFcucHJvdG90eXBlLmdldEtleSk7Vy5wcm90b3R5cGUuRWI9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm51bUNoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuRWIoKX07Vy5wcm90b3R5cGUubnVtQ2hpbGRyZW49Vy5wcm90b3R5cGUuRWI7XG5XLnByb3RvdHlwZS53Yj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLlZ9O0xjKFcucHJvdG90eXBlLFwicmVmXCIsVy5wcm90b3R5cGUud2IpO2Z1bmN0aW9uIHlkKGEsYil7dGhpcy5OPWE7dGhpcy5MZD1ifWZ1bmN0aW9uIHZkKGEsYixjLGQpe3JldHVybiBuZXcgeWQobmV3ICRiKGIsYyxkKSxhLkxkKX1mdW5jdGlvbiB6ZChhKXtyZXR1cm4gYS5OLmRhP2EuTi5qKCk6bnVsbH15ZC5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxkfTtmdW5jdGlvbiBhYyhhKXtyZXR1cm4gYS5MZC5kYT9hLkxkLmooKTpudWxsfTtmdW5jdGlvbiBQZihhLGIpe3RoaXMuVj1hO3ZhciBjPWEubSxkPW5ldyBHZChjLmcpLGM9UyhjKT9uZXcgR2QoYy5nKTpjLnhhP25ldyBNZChjKTpuZXcgSGQoYyk7dGhpcy5oZj1uZXcgcGQoYyk7dmFyIGU9Yi53KCksZj1iLk4saD1kLnlhKEcsZS5qKCksbnVsbCksaz1jLnlhKEcsZi5qKCksbnVsbCk7dGhpcy5LYT1uZXcgeWQobmV3ICRiKGssZi5kYSxjLk5hKCkpLG5ldyAkYihoLGUuZGEsZC5OYSgpKSk7dGhpcy5aYT1bXTt0aGlzLkpmPW5ldyBrZChhKX1mdW5jdGlvbiBRZihhKXtyZXR1cm4gYS5WfWc9UGYucHJvdG90eXBlO2cudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkthLncoKS5qKCl9O2cuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YWModGhpcy5LYSk7cmV0dXJuIGImJihTKHRoaXMuVi5tKXx8IWEuZSgpJiYhYi5RKEooYSkpLmUoKSk/Yi5QKGEpOm51bGx9O2cuZT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5aYS5sZW5ndGh9O2cuTmI9ZnVuY3Rpb24oYSl7dGhpcy5aYS5wdXNoKGEpfTtcbmcua2I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihiKXtIKG51bGw9PWEsXCJBIGNhbmNlbCBzaG91bGQgY2FuY2VsIGFsbCBldmVudCByZWdpc3RyYXRpb25zLlwiKTt2YXIgZD10aGlzLlYucGF0aDtKYSh0aGlzLlphLGZ1bmN0aW9uKGEpeyhhPWEuTGUoYixkKSkmJmMucHVzaChhKX0pfWlmKGEpe2Zvcih2YXIgZT1bXSxmPTA7Zjx0aGlzLlphLmxlbmd0aDsrK2Ype3ZhciBoPXRoaXMuWmFbZl07aWYoIWgubWF0Y2hlcyhhKSllLnB1c2goaCk7ZWxzZSBpZihhLlhlKCkpe2U9ZS5jb25jYXQodGhpcy5aYS5zbGljZShmKzEpKTticmVha319dGhpcy5aYT1lfWVsc2UgdGhpcy5aYT1bXTtyZXR1cm4gY307XG5nLmViPWZ1bmN0aW9uKGEsYixjKXthLnR5cGU9PT1XYyYmbnVsbCE9PWEuc291cmNlLkhiJiYoSChhYyh0aGlzLkthKSxcIldlIHNob3VsZCBhbHdheXMgaGF2ZSBhIGZ1bGwgY2FjaGUgYmVmb3JlIGhhbmRsaW5nIG1lcmdlc1wiKSxIKHpkKHRoaXMuS2EpLFwiTWlzc2luZyBldmVudCBjYWNoZSwgZXZlbiB0aG91Z2ggd2UgaGF2ZSBhIHNlcnZlciBjYWNoZVwiKSk7dmFyIGQ9dGhpcy5LYTthPXRoaXMuaGYuZWIoZCxhLGIsYyk7Yj10aGlzLmhmO2M9YS5TZDtIKGMuTi5qKCkueWMoYi5VLmcpLFwiRXZlbnQgc25hcCBub3QgaW5kZXhlZFwiKTtIKGMudygpLmooKS55YyhiLlUuZyksXCJTZXJ2ZXIgc25hcCBub3QgaW5kZXhlZFwiKTtIKGRjKGEuU2QudygpKXx8IWRjKGQudygpKSxcIk9uY2UgYSBzZXJ2ZXIgc25hcCBpcyBjb21wbGV0ZSwgaXQgc2hvdWxkIG5ldmVyIGdvIGJhY2tcIik7dGhpcy5LYT1hLlNkO3JldHVybiBSZih0aGlzLGEuRGYsYS5TZC5OLmooKSxudWxsKX07XG5mdW5jdGlvbiBTZihhLGIpe3ZhciBjPWEuS2EuTixkPVtdO2MuaigpLkooKXx8Yy5qKCkuTyhOLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKG5ldyBJKFwiY2hpbGRfYWRkZWRcIixiLGEpKX0pO2MuZGEmJmQucHVzaChiYyhjLmooKSkpO3JldHVybiBSZihhLGQsYy5qKCksYil9ZnVuY3Rpb24gUmYoYSxiLGMsZCl7cmV0dXJuIGxkKGEuSmYsYixjLGQ/W2RdOmEuWmEpfTtmdW5jdGlvbiBUZihhLGIsYyl7dGhpcy5QYj1hO3RoaXMucmI9Yjt0aGlzLnRiPWN8fG51bGx9Zz1UZi5wcm90b3R5cGU7Zy5uZj1mdW5jdGlvbihhKXtyZXR1cm5cInZhbHVlXCI9PT1hfTtnLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5tLmc7cmV0dXJuIG5ldyBVYihcInZhbHVlXCIsdGhpcyxuZXcgVyhhLkphLGIud2IoKSxjKSl9O2cuVGI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YjtpZihcImNhbmNlbFwiPT09YS5lZSgpKXtIKHRoaXMucmIsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy5yYjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5QYjtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLk1kKX19O2cuTGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5yYj9uZXcgVmIodGhpcyxhLGIpOm51bGx9O1xuZy5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgVGY/YS5QYiYmdGhpcy5QYj9hLlBiPT09dGhpcy5QYiYmYS50Yj09PXRoaXMudGI6ITA6ITF9O2cuWGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuUGJ9O2Z1bmN0aW9uIFVmKGEsYixjKXt0aGlzLmdhPWE7dGhpcy5yYj1iO3RoaXMudGI9Y31nPVVmLnByb3RvdHlwZTtnLm5mPWZ1bmN0aW9uKGEpe2E9XCJjaGlsZHJlbl9hZGRlZFwiPT09YT9cImNoaWxkX2FkZGVkXCI6YTtyZXR1cm4oXCJjaGlsZHJlbl9yZW1vdmVkXCI9PT1hP1wiY2hpbGRfcmVtb3ZlZFwiOmEpaW4gdGhpcy5nYX07Zy5MZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnJiP25ldyBWYih0aGlzLGEsYik6bnVsbH07XG5nLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7SChudWxsIT1hLlhhLFwiQ2hpbGQgZXZlbnRzIHNob3VsZCBoYXZlIGEgY2hpbGROYW1lLlwiKTt2YXIgYz1iLndiKCkubihhLlhhKTtyZXR1cm4gbmV3IFViKGEudHlwZSx0aGlzLG5ldyBXKGEuSmEsYyxiLm0uZyksYS5EZCl9O2cuVGI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YjtpZihcImNhbmNlbFwiPT09YS5lZSgpKXtIKHRoaXMucmIsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy5yYjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5nYVthLmhkXTtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLk1kLGEuRGQpfX07XG5nLm1hdGNoZXM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIFVmKXtpZighdGhpcy5nYXx8IWEuZ2EpcmV0dXJuITA7aWYodGhpcy50Yj09PWEudGIpe3ZhciBiPXJhKGEuZ2EpO2lmKGI9PT1yYSh0aGlzLmdhKSl7aWYoMT09PWIpe3ZhciBiPXNhKGEuZ2EpLGM9c2EodGhpcy5nYSk7cmV0dXJuIGM9PT1iJiYoIWEuZ2FbYl18fCF0aGlzLmdhW2NdfHxhLmdhW2JdPT09dGhpcy5nYVtjXSl9cmV0dXJuIHFhKHRoaXMuZ2EsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5nYVtjXT09PWJ9KX19fXJldHVybiExfTtnLlhlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmdhfTtmdW5jdGlvbiBYKGEsYixjLGQpe3RoaXMudT1hO3RoaXMucGF0aD1iO3RoaXMubT1jO3RoaXMuTmM9ZH1cbmZ1bmN0aW9uIFZmKGEpe3ZhciBiPW51bGwsYz1udWxsO2Eua2EmJihiPUpkKGEpKTthLm5hJiYoYz1MZChhKSk7aWYoYS5nPT09RmQpe2lmKGEua2Epe2lmKFwiW01JTl9OQU1FXVwiIT1JZChhKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoYS5uYSl7aWYoXCJbTUFYX05BTUVdXCIhPUtkKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIik7fX1lbHNlIGlmKGEuZz09PU4pe2lmKG51bGwhPWImJiFjZihiKXx8bnVsbCE9YyYmIWNmKGMpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKTt9ZWxzZSBpZihIKGEuZyBpbnN0YW5jZW9mIFlkfHxhLmc9PT1kZSxcInVua25vd24gaW5kZXggdHlwZS5cIiksbnVsbCE9YiYmXCJvYmplY3RcIj09PXR5cGVvZiBifHxudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpO1xufWZ1bmN0aW9uIFdmKGEpe2lmKGEua2EmJmEubmEmJmEueGEmJighYS54YXx8XCJcIj09PWEubWIpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIFhmKGEsYil7aWYoITA9PT1hLk5jKXRocm93IEVycm9yKGIrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpO31nPVgucHJvdG90eXBlO2cud2I9ZnVuY3Rpb24oKXt4KFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuZXcgVSh0aGlzLnUsdGhpcy5wYXRoKX07XG5nLmdjPWZ1bmN0aW9uKGEsYixjLGQpe3goXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtqZihcIlF1ZXJ5Lm9uXCIsYSwhMSk7QShcIlF1ZXJ5Lm9uXCIsMixiLCExKTt2YXIgZT1ZZihcIlF1ZXJ5Lm9uXCIsYyxkKTtpZihcInZhbHVlXCI9PT1hKVpmKHRoaXMudSx0aGlzLG5ldyBUZihiLGUuY2FuY2VsfHxudWxsLGUuTWF8fG51bGwpKTtlbHNle3ZhciBmPXt9O2ZbYV09YjtaZih0aGlzLnUsdGhpcyxuZXcgVWYoZixlLmNhbmNlbCxlLk1hKSl9cmV0dXJuIGJ9O1xuZy5JYz1mdW5jdGlvbihhLGIsYyl7eChcIlF1ZXJ5Lm9mZlwiLDAsMyxhcmd1bWVudHMubGVuZ3RoKTtqZihcIlF1ZXJ5Lm9mZlwiLGEsITApO0EoXCJRdWVyeS5vZmZcIiwyLGIsITApO2ViKFwiUXVlcnkub2ZmXCIsMyxjKTt2YXIgZD1udWxsLGU9bnVsbDtcInZhbHVlXCI9PT1hP2Q9bmV3IFRmKGJ8fG51bGwsbnVsbCxjfHxudWxsKTphJiYoYiYmKGU9e30sZVthXT1iKSxkPW5ldyBVZihlLG51bGwsY3x8bnVsbCkpO2U9dGhpcy51O2Q9XCIuaW5mb1wiPT09Sih0aGlzLnBhdGgpP2UucGQua2IodGhpcyxkKTplLksua2IodGhpcyxkKTtRYihlLmNhLHRoaXMucGF0aCxkKX07XG5nLiRmPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhrKXtmJiYoZj0hMSxlLkljKGEsYyksYiYmYi5jYWxsKGQuTWEsayksaC5yZXNvbHZlKGspKX14KFwiUXVlcnkub25jZVwiLDEsNCxhcmd1bWVudHMubGVuZ3RoKTtqZihcIlF1ZXJ5Lm9uY2VcIixhLCExKTtBKFwiUXVlcnkub25jZVwiLDIsYiwhMCk7dmFyIGQ9WWYoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITAsaD1uZXcgaGI7amIoaC5yYSk7dGhpcy5nYyhhLGMsZnVuY3Rpb24oYil7ZS5JYyhhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuTWEsYik7aC5yZWplY3QoYil9KTtyZXR1cm4gaC5yYX07XG5nLmxlPWZ1bmN0aW9uKGEpe3goXCJRdWVyeS5saW1pdFRvRmlyc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMubS54YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCx0aGlzLm0ubGUoYSksdGhpcy5OYyl9O1xuZy5tZT1mdW5jdGlvbihhKXt4KFwiUXVlcnkubGltaXRUb0xhc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9MYXN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5tLnhhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9yIGxpbWl0VG9MYXN0KS5cIik7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsdGhpcy5tLm1lKGEpLHRoaXMuTmMpfTtcbmcuYWc9ZnVuY3Rpb24oYSl7eChcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihcIiRrZXlcIj09PWEpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIka2V5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5S2V5KCkgaW5zdGVhZC4nKTtpZihcIiRwcmlvcml0eVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRwcmlvcml0eVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVByaW9yaXR5KCkgaW5zdGVhZC4nKTtpZihcIiR2YWx1ZVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiR2YWx1ZVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVZhbHVlKCkgaW5zdGVhZC4nKTtsZihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLGEpO1hmKHRoaXMsXCJRdWVyeS5vcmRlckJ5Q2hpbGRcIik7dmFyIGI9bmV3IEwoYSk7aWYoYi5lKCkpdGhyb3cgRXJyb3IoXCJRdWVyeS5vcmRlckJ5Q2hpbGQ6IGNhbm5vdCBwYXNzIGluIGVtcHR5IHBhdGguICBVc2UgUXVlcnkub3JkZXJCeVZhbHVlKCkgaW5zdGVhZC5cIik7XG5iPW5ldyBZZChiKTtiPWhlKHRoaXMubSxiKTtWZihiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxiLCEwKX07Zy5iZz1mdW5jdGlvbigpe3goXCJRdWVyeS5vcmRlckJ5S2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO1hmKHRoaXMsXCJRdWVyeS5vcmRlckJ5S2V5XCIpO3ZhciBhPWhlKHRoaXMubSxGZCk7VmYoYSk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYSwhMCl9O2cuY2c9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO1hmKHRoaXMsXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIik7dmFyIGE9aGUodGhpcy5tLE4pO1ZmKGEpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGEsITApfTtcbmcuZGc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeVZhbHVlXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO1hmKHRoaXMsXCJRdWVyeS5vcmRlckJ5VmFsdWVcIik7dmFyIGE9aGUodGhpcy5tLGRlKTtWZihhKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxhLCEwKX07Zy5OZD1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5zdGFydEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO2RmKFwiUXVlcnkuc3RhcnRBdFwiLGEsdGhpcy5wYXRoLCEwKTtrZihcIlF1ZXJ5LnN0YXJ0QXRcIixiKTt2YXIgYz10aGlzLm0uTmQoYSxiKTtXZihjKTtWZihjKTtpZih0aGlzLm0ua2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5zdGFydEF0OiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBzdGFydEF0IG9yIGVxdWFsVG8pLlwiKTtuKGEpfHwoYj1hPW51bGwpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGMsdGhpcy5OYyl9O1xuZy5nZD1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5lbmRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtkZihcIlF1ZXJ5LmVuZEF0XCIsYSx0aGlzLnBhdGgsITApO2tmKFwiUXVlcnkuZW5kQXRcIixiKTt2YXIgYz10aGlzLm0uZ2QoYSxiKTtXZihjKTtWZihjKTtpZih0aGlzLm0ubmEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lbmRBdDogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxjLHRoaXMuTmMpfTtcbmcuSWY9ZnVuY3Rpb24oYSxiKXt4KFwiUXVlcnkuZXF1YWxUb1wiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtkZihcIlF1ZXJ5LmVxdWFsVG9cIixhLHRoaXMucGF0aCwhMSk7a2YoXCJRdWVyeS5lcXVhbFRvXCIsYik7aWYodGhpcy5tLmthKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogU3RhcnRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO2lmKHRoaXMubS5uYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVxdWFsVG86IEVuZGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7cmV0dXJuIHRoaXMuTmQoYSxiKS5nZChhLGIpfTtcbmcudG9TdHJpbmc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkudG9TdHJpbmdcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBhPXRoaXMucGF0aCxiPVwiXCIsYz1hLlk7YzxhLm8ubGVuZ3RoO2MrKylcIlwiIT09YS5vW2NdJiYoYis9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhLm9bY10pKSk7cmV0dXJuIHRoaXMudS50b1N0cmluZygpKyhifHxcIi9cIil9O2cuamE9ZnVuY3Rpb24oKXt2YXIgYT1HYyhpZSh0aGlzLm0pKTtyZXR1cm5cInt9XCI9PT1hP1wiZGVmYXVsdFwiOmF9O1xuZy5pc0VxdWFsPWZ1bmN0aW9uKGEpe3goXCJRdWVyeS5pc0VxdWFsXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKCEoYSBpbnN0YW5jZW9mIFgpKXRocm93IEVycm9yKFwiUXVlcnkuaXNFcXVhbCBmYWlsZWQ6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgZmlyZWJhc2UuZGF0YWJhc2UuUXVlcnkuXCIpO3ZhciBiPXRoaXMudT09PWEudSxjPXRoaXMucGF0aC5aKGEucGF0aCksZD10aGlzLmphKCk9PT1hLmphKCk7cmV0dXJuIGImJmMmJmR9O1xuZnVuY3Rpb24gWWYoYSxiLGMpe3ZhciBkPXtjYW5jZWw6bnVsbCxNYTpudWxsfTtpZihiJiZjKWQuY2FuY2VsPWIsQShhLDMsZC5jYW5jZWwsITApLGQuTWE9YyxlYihhLDQsZC5NYSk7ZWxzZSBpZihiKWlmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmbnVsbCE9PWIpZC5NYT1iO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpZC5jYW5jZWw9YjtlbHNlIHRocm93IEVycm9yKHkoYSwzLCEwKStcIiBtdXN0IGVpdGhlciBiZSBhIGNhbmNlbCBjYWxsYmFjayBvciBhIGNvbnRleHQgb2JqZWN0LlwiKTtyZXR1cm4gZH1YLnByb3RvdHlwZS5vbj1YLnByb3RvdHlwZS5nYztYLnByb3RvdHlwZS5vZmY9WC5wcm90b3R5cGUuSWM7WC5wcm90b3R5cGUub25jZT1YLnByb3RvdHlwZS4kZjtYLnByb3RvdHlwZS5saW1pdFRvRmlyc3Q9WC5wcm90b3R5cGUubGU7WC5wcm90b3R5cGUubGltaXRUb0xhc3Q9WC5wcm90b3R5cGUubWU7WC5wcm90b3R5cGUub3JkZXJCeUNoaWxkPVgucHJvdG90eXBlLmFnO1xuWC5wcm90b3R5cGUub3JkZXJCeUtleT1YLnByb3RvdHlwZS5iZztYLnByb3RvdHlwZS5vcmRlckJ5UHJpb3JpdHk9WC5wcm90b3R5cGUuY2c7WC5wcm90b3R5cGUub3JkZXJCeVZhbHVlPVgucHJvdG90eXBlLmRnO1gucHJvdG90eXBlLnN0YXJ0QXQ9WC5wcm90b3R5cGUuTmQ7WC5wcm90b3R5cGUuZW5kQXQ9WC5wcm90b3R5cGUuZ2Q7WC5wcm90b3R5cGUuZXF1YWxUbz1YLnByb3RvdHlwZS5JZjtYLnByb3RvdHlwZS50b1N0cmluZz1YLnByb3RvdHlwZS50b1N0cmluZztYLnByb3RvdHlwZS5pc0VxdWFsPVgucHJvdG90eXBlLmlzRXF1YWw7TGMoWC5wcm90b3R5cGUsXCJyZWZcIixYLnByb3RvdHlwZS53Yik7ZnVuY3Rpb24gJGYoYSxiKXt0aGlzLnZhbHVlPWE7dGhpcy5jaGlsZHJlbj1ifHxhZ312YXIgYWc9bmV3IHZmKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOjF9KTtmdW5jdGlvbiBiZyhhKXt2YXIgYj1RO3IoYSxmdW5jdGlvbihhLGQpe2I9Yi5zZXQobmV3IEwoZCksYSl9KTtyZXR1cm4gYn1nPSRmLnByb3RvdHlwZTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMudmFsdWUmJnRoaXMuY2hpbGRyZW4uZSgpfTtmdW5jdGlvbiBjZyhhLGIsYyl7aWYobnVsbCE9YS52YWx1ZSYmYyhhLnZhbHVlKSlyZXR1cm57cGF0aDpDLHZhbHVlOmEudmFsdWV9O2lmKGIuZSgpKXJldHVybiBudWxsO3ZhciBkPUooYik7YT1hLmNoaWxkcmVuLmdldChkKTtyZXR1cm4gbnVsbCE9PWE/KGI9Y2coYSxEKGIpLGMpLG51bGwhPWI/e3BhdGg6KG5ldyBMKGQpKS5uKGIucGF0aCksdmFsdWU6Yi52YWx1ZX06bnVsbCk6bnVsbH1cbmZ1bmN0aW9uIGRnKGEsYil7cmV0dXJuIGNnKGEsYixmdW5jdGlvbigpe3JldHVybiEwfSl9Zy5zdWJ0cmVlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMuY2hpbGRyZW4uZ2V0KEooYSkpO3JldHVybiBudWxsIT09Yj9iLnN1YnRyZWUoRChhKSk6UX07Zy5zZXQ9ZnVuY3Rpb24oYSxiKXtpZihhLmUoKSlyZXR1cm4gbmV3ICRmKGIsdGhpcy5jaGlsZHJlbik7dmFyIGM9SihhKSxkPSh0aGlzLmNoaWxkcmVuLmdldChjKXx8USkuc2V0KEQoYSksYiksYz10aGlzLmNoaWxkcmVuLk9hKGMsZCk7cmV0dXJuIG5ldyAkZih0aGlzLnZhbHVlLGMpfTtcbmcucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9ROm5ldyAkZihudWxsLHRoaXMuY2hpbGRyZW4pO3ZhciBiPUooYSksYz10aGlzLmNoaWxkcmVuLmdldChiKTtyZXR1cm4gYz8oYT1jLnJlbW92ZShEKGEpKSxiPWEuZSgpP3RoaXMuY2hpbGRyZW4ucmVtb3ZlKGIpOnRoaXMuY2hpbGRyZW4uT2EoYixhKSxudWxsPT09dGhpcy52YWx1ZSYmYi5lKCk/UTpuZXcgJGYodGhpcy52YWx1ZSxiKSk6dGhpc307Zy5nZXQ9ZnVuY3Rpb24oYSl7aWYoYS5lKCkpcmV0dXJuIHRoaXMudmFsdWU7dmFyIGI9dGhpcy5jaGlsZHJlbi5nZXQoSihhKSk7cmV0dXJuIGI/Yi5nZXQoRChhKSk6bnVsbH07XG5mdW5jdGlvbiBFZChhLGIsYyl7aWYoYi5lKCkpcmV0dXJuIGM7dmFyIGQ9SihiKTtiPUVkKGEuY2hpbGRyZW4uZ2V0KGQpfHxRLEQoYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLk9hKGQsYik7cmV0dXJuIG5ldyAkZihhLnZhbHVlLGQpfWZ1bmN0aW9uIGVnKGEsYil7cmV0dXJuIGZnKGEsQyxiKX1mdW5jdGlvbiBmZyhhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGYpe2RbYV09ZmcoZixiLm4oYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24gZ2coYSxiLGMpe3JldHVybiBoZyhhLGIsQyxjKX1mdW5jdGlvbiBoZyhhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9SihiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/aGcoYSxEKGIpLGMubihlKSxkKTpudWxsfVxuZnVuY3Rpb24gaWcoYSxiLGMpe2pnKGEsYixDLGMpfWZ1bmN0aW9uIGpnKGEsYixjLGQpe2lmKGIuZSgpKXJldHVybiBhO2EudmFsdWUmJmQoYyxhLnZhbHVlKTt2YXIgZT1KKGIpO3JldHVybihhPWEuY2hpbGRyZW4uZ2V0KGUpKT9qZyhhLEQoYiksYy5uKGUpLGQpOlF9ZnVuY3Rpb24gQ2QoYSxiKXtrZyhhLEMsYil9ZnVuY3Rpb24ga2coYSxiLGMpe2EuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYSxlKXtrZyhlLGIubihhKSxjKX0pO2EudmFsdWUmJmMoYixhLnZhbHVlKX1mdW5jdGlvbiBsZyhhLGIpe2EuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYSxkKXtkLnZhbHVlJiZiKGEsZC52YWx1ZSl9KX12YXIgUT1uZXcgJGYobnVsbCk7JGYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9e307Q2QodGhpcyxmdW5jdGlvbihiLGMpe2FbYi50b1N0cmluZygpXT1jLnRvU3RyaW5nKCl9KTtyZXR1cm4gQihhKX07ZnVuY3Rpb24gbWcoYSxiLGMpe3RoaXMudHlwZT11ZDt0aGlzLnNvdXJjZT1uZzt0aGlzLnBhdGg9YTt0aGlzLk9iPWI7dGhpcy5JZD1jfW1nLnByb3RvdHlwZS5NYz1mdW5jdGlvbihhKXtpZih0aGlzLnBhdGguZSgpKXtpZihudWxsIT10aGlzLk9iLnZhbHVlKXJldHVybiBIKHRoaXMuT2IuY2hpbGRyZW4uZSgpLFwiYWZmZWN0ZWRUcmVlIHNob3VsZCBub3QgaGF2ZSBvdmVybGFwcGluZyBhZmZlY3RlZCBwYXRocy5cIiksdGhpczthPXRoaXMuT2Iuc3VidHJlZShuZXcgTChhKSk7cmV0dXJuIG5ldyBtZyhDLGEsdGhpcy5JZCl9SChKKHRoaXMucGF0aCk9PT1hLFwib3BlcmF0aW9uRm9yQ2hpbGQgY2FsbGVkIGZvciB1bnJlbGF0ZWQgY2hpbGQuXCIpO3JldHVybiBuZXcgbWcoRCh0aGlzLnBhdGgpLHRoaXMuT2IsdGhpcy5JZCl9O1xubWcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGFjayB3cml0ZSByZXZlcnQ9XCIrdGhpcy5JZCtcIiBhZmZlY3RlZFRyZWU9XCIrdGhpcy5PYitcIilcIn07dmFyIEJiPTAsV2M9MSx1ZD0yLERiPTM7ZnVuY3Rpb24gb2coYSxiLGMsZCl7dGhpcy5jZT1hO3RoaXMuU2U9Yjt0aGlzLkhiPWM7dGhpcy5DZT1kO0goIWR8fGIsXCJUYWdnZWQgcXVlcmllcyBtdXN0IGJlIGZyb20gc2VydmVyLlwiKX12YXIgbmc9bmV3IG9nKCEwLCExLG51bGwsITEpLHBnPW5ldyBvZyghMSwhMCxudWxsLCExKTtvZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZT9cInVzZXJcIjp0aGlzLkNlP1wic2VydmVyKHF1ZXJ5SUQ9XCIrdGhpcy5IYitcIilcIjpcInNlcnZlclwifTtmdW5jdGlvbiBxZyhhKXt0aGlzLlc9YX12YXIgcmc9bmV3IHFnKG5ldyAkZihudWxsKSk7ZnVuY3Rpb24gc2coYSxiLGMpe2lmKGIuZSgpKXJldHVybiBuZXcgcWcobmV3ICRmKGMpKTt2YXIgZD1kZyhhLlcsYik7aWYobnVsbCE9ZCl7dmFyIGU9ZC5wYXRoLGQ9ZC52YWx1ZTtiPVQoZSxiKTtkPWQuRihiLGMpO3JldHVybiBuZXcgcWcoYS5XLnNldChlLGQpKX1hPUVkKGEuVyxiLG5ldyAkZihjKSk7cmV0dXJuIG5ldyBxZyhhKX1mdW5jdGlvbiB0ZyhhLGIsYyl7dmFyIGQ9YTtkYihjLGZ1bmN0aW9uKGEsYyl7ZD1zZyhkLGIubihhKSxjKX0pO3JldHVybiBkfXFnLnByb3RvdHlwZS5FZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gcmc7YT1FZCh0aGlzLlcsYSxRKTtyZXR1cm4gbmV3IHFnKGEpfTtmdW5jdGlvbiB1ZyhhLGIpe3ZhciBjPWRnKGEuVyxiKTtyZXR1cm4gbnVsbCE9Yz9hLlcuZ2V0KGMucGF0aCkuUChUKGMucGF0aCxiKSk6bnVsbH1cbmZ1bmN0aW9uIHZnKGEpe3ZhciBiPVtdLGM9YS5XLnZhbHVlO251bGwhPWM/Yy5KKCl8fGMuTyhOLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKG5ldyBLKGEsYykpfSk6YS5XLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGEsYyl7bnVsbCE9Yy52YWx1ZSYmYi5wdXNoKG5ldyBLKGEsYy52YWx1ZSkpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gd2coYSxiKXtpZihiLmUoKSlyZXR1cm4gYTt2YXIgYz11ZyhhLGIpO3JldHVybiBudWxsIT1jP25ldyBxZyhuZXcgJGYoYykpOm5ldyBxZyhhLlcuc3VidHJlZShiKSl9cWcucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5XLmUoKX07cWcucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe3JldHVybiB4ZyhDLHRoaXMuVyxhKX07XG5mdW5jdGlvbiB4ZyhhLGIsYyl7aWYobnVsbCE9Yi52YWx1ZSlyZXR1cm4gYy5GKGEsYi52YWx1ZSk7dmFyIGQ9bnVsbDtiLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGIsZil7XCIucHJpb3JpdHlcIj09PWI/KEgobnVsbCE9PWYudmFsdWUsXCJQcmlvcml0eSB3cml0ZXMgbXVzdCBhbHdheXMgYmUgbGVhZiBub2Rlc1wiKSxkPWYudmFsdWUpOmM9eGcoYS5uKGIpLGYsYyl9KTtjLlAoYSkuZSgpfHxudWxsPT09ZHx8KGM9Yy5GKGEubihcIi5wcmlvcml0eVwiKSxkKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIHlnKCl7dGhpcy56YT17fX1nPXlnLnByb3RvdHlwZTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4geWEodGhpcy56YSl9O2cuZWI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuc291cmNlLkhiO2lmKG51bGwhPT1kKXJldHVybiBkPXcodGhpcy56YSxkKSxIKG51bGwhPWQsXCJTeW5jVHJlZSBnYXZlIHVzIGFuIG9wIGZvciBhbiBpbnZhbGlkIHF1ZXJ5LlwiKSxkLmViKGEsYixjKTt2YXIgZT1bXTtyKHRoaXMuemEsZnVuY3Rpb24oZCl7ZT1lLmNvbmNhdChkLmViKGEsYixjKSl9KTtyZXR1cm4gZX07Zy5OYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuamEoKSxoPXcodGhpcy56YSxmKTtpZighaCl7dmFyIGg9Yy5BYShlP2Q6bnVsbCksaz0hMTtoP2s9ITA6KGg9ZCBpbnN0YW5jZW9mIFA/Yy5yYyhkKTpHLGs9ITEpO2g9bmV3IFBmKGEsbmV3IHlkKG5ldyAkYihoLGssITEpLG5ldyAkYihkLGUsITEpKSk7dGhpcy56YVtmXT1ofWguTmIoYik7cmV0dXJuIFNmKGgsYil9O1xuZy5rYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5qYSgpLGU9W10sZj1bXSxoPW51bGwhPXpnKHRoaXMpO2lmKFwiZGVmYXVsdFwiPT09ZCl7dmFyIGs9dGhpcztyKHRoaXMuemEsZnVuY3Rpb24oYSxkKXtmPWYuY29uY2F0KGEua2IoYixjKSk7YS5lKCkmJihkZWxldGUgay56YVtkXSxTKGEuVi5tKXx8ZS5wdXNoKGEuVikpfSl9ZWxzZXt2YXIgbD13KHRoaXMuemEsZCk7bCYmKGY9Zi5jb25jYXQobC5rYihiLGMpKSxsLmUoKSYmKGRlbGV0ZSB0aGlzLnphW2RdLFMobC5WLm0pfHxlLnB1c2gobC5WKSkpfWgmJm51bGw9PXpnKHRoaXMpJiZlLnB1c2gobmV3IFUoYS51LGEucGF0aCkpO3JldHVybntoZzplLEtmOmZ9fTtmdW5jdGlvbiBBZyhhKXtyZXR1cm4gS2EodGEoYS56YSksZnVuY3Rpb24oYSl7cmV0dXJuIVMoYS5WLm0pfSl9Zy5oYj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3IodGhpcy56YSxmdW5jdGlvbihjKXtiPWJ8fGMuaGIoYSl9KTtyZXR1cm4gYn07XG5mdW5jdGlvbiBCZyhhLGIpe2lmKFMoYi5tKSlyZXR1cm4gemcoYSk7dmFyIGM9Yi5qYSgpO3JldHVybiB3KGEuemEsYyl9ZnVuY3Rpb24gemcoYSl7cmV0dXJuIHhhKGEuemEsZnVuY3Rpb24oYSl7cmV0dXJuIFMoYS5WLm0pfSl8fG51bGx9O2Z1bmN0aW9uIENnKCl7dGhpcy5TPXJnO3RoaXMubGE9W107dGhpcy5CYz0tMX1mdW5jdGlvbiBEZyhhLGIpe2Zvcih2YXIgYz0wO2M8YS5sYS5sZW5ndGg7YysrKXt2YXIgZD1hLmxhW2NdO2lmKGQuWmM9PT1iKXJldHVybiBkfXJldHVybiBudWxsfWc9Q2cucHJvdG90eXBlO1xuZy5FZD1mdW5jdGlvbihhKXt2YXIgYj1QYSh0aGlzLmxhLGZ1bmN0aW9uKGIpe3JldHVybiBiLlpjPT09YX0pO0goMDw9YixcInJlbW92ZVdyaXRlIGNhbGxlZCB3aXRoIG5vbmV4aXN0ZW50IHdyaXRlSWQuXCIpO3ZhciBjPXRoaXMubGFbYl07dGhpcy5sYS5zcGxpY2UoYiwxKTtmb3IodmFyIGQ9Yy52aXNpYmxlLGU9ITEsZj10aGlzLmxhLmxlbmd0aC0xO2QmJjA8PWY7KXt2YXIgaD10aGlzLmxhW2ZdO2gudmlzaWJsZSYmKGY+PWImJkVnKGgsYy5wYXRoKT9kPSExOmMucGF0aC5jb250YWlucyhoLnBhdGgpJiYoZT0hMCkpO2YtLX1pZihkKXtpZihlKXRoaXMuUz1GZyh0aGlzLmxhLEdnLEMpLHRoaXMuQmM9MDx0aGlzLmxhLmxlbmd0aD90aGlzLmxhW3RoaXMubGEubGVuZ3RoLTFdLlpjOi0xO2Vsc2UgaWYoYy5HYSl0aGlzLlM9dGhpcy5TLkVkKGMucGF0aCk7ZWxzZXt2YXIgaz10aGlzO3IoYy5jaGlsZHJlbixmdW5jdGlvbihhLGIpe2suUz1rLlMuRWQoYy5wYXRoLm4oYikpfSl9cmV0dXJuITB9cmV0dXJuITF9O1xuZy5BYT1mdW5jdGlvbihhLGIsYyxkKXtpZihjfHxkKXt2YXIgZT13Zyh0aGlzLlMsYSk7cmV0dXJuIWQmJmUuZSgpP2I6ZHx8bnVsbCE9Ynx8bnVsbCE9dWcoZSxDKT8oZT1GZyh0aGlzLmxhLGZ1bmN0aW9uKGIpe3JldHVybihiLnZpc2libGV8fGQpJiYoIWN8fCEoMDw9SWEoYyxiLlpjKSkpJiYoYi5wYXRoLmNvbnRhaW5zKGEpfHxhLmNvbnRhaW5zKGIucGF0aCkpfSxhKSxiPWJ8fEcsZS5hcHBseShiKSk6bnVsbH1lPXVnKHRoaXMuUyxhKTtpZihudWxsIT1lKXJldHVybiBlO2U9d2codGhpcy5TLGEpO3JldHVybiBlLmUoKT9iOm51bGwhPWJ8fG51bGwhPXVnKGUsQyk/KGI9Ynx8RyxlLmFwcGx5KGIpKTpudWxsfTtcbmcucmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1HLGQ9dWcodGhpcy5TLGEpO2lmKGQpZC5KKCl8fGQuTyhOLGZ1bmN0aW9uKGEsYil7Yz1jLlQoYSxiKX0pO2Vsc2UgaWYoYil7dmFyIGU9d2codGhpcy5TLGEpO2IuTyhOLGZ1bmN0aW9uKGEsYil7dmFyIGQ9d2coZSxuZXcgTChhKSkuYXBwbHkoYik7Yz1jLlQoYSxkKX0pO0phKHZnKGUpLGZ1bmN0aW9uKGEpe2M9Yy5UKGEubmFtZSxhLlIpfSl9ZWxzZSBlPXdnKHRoaXMuUyxhKSxKYSh2ZyhlKSxmdW5jdGlvbihhKXtjPWMuVChhLm5hbWUsYS5SKX0pO3JldHVybiBjfTtnLmFkPWZ1bmN0aW9uKGEsYixjLGQpe0goY3x8ZCxcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKTthPWEubihiKTtpZihudWxsIT11Zyh0aGlzLlMsYSkpcmV0dXJuIG51bGw7YT13Zyh0aGlzLlMsYSk7cmV0dXJuIGEuZSgpP2QuUChiKTphLmFwcGx5KGQuUChiKSl9O1xuZy5xYz1mdW5jdGlvbihhLGIsYyl7YT1hLm4oYik7dmFyIGQ9dWcodGhpcy5TLGEpO3JldHVybiBudWxsIT1kP2Q6WmIoYyxiKT93Zyh0aGlzLlMsYSkuYXBwbHkoYy5qKCkuUShiKSk6bnVsbH07Zy5sYz1mdW5jdGlvbihhKXtyZXR1cm4gdWcodGhpcy5TLGEpfTtnLldkPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgaDthPXdnKHRoaXMuUyxhKTtoPXVnKGEsQyk7aWYobnVsbD09aClpZihudWxsIT1iKWg9YS5hcHBseShiKTtlbHNlIHJldHVybltdO2g9aC5uYihmKTtpZihoLmUoKXx8aC5KKCkpcmV0dXJuW107Yj1bXTthPVBkKGYpO2U9ZT9oLlpiKGMsZik6aC5YYihjLGYpO2ZvcihmPVIoZSk7ZiYmYi5sZW5ndGg8ZDspMCE9PWEoZixjKSYmYi5wdXNoKGYpLGY9UihlKTtyZXR1cm4gYn07XG5mdW5jdGlvbiBFZyhhLGIpe3JldHVybiBhLkdhP2EucGF0aC5jb250YWlucyhiKTohIXdhKGEuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5wYXRoLm4oZCkuY29udGFpbnMoYil9KX1mdW5jdGlvbiBHZyhhKXtyZXR1cm4gYS52aXNpYmxlfVxuZnVuY3Rpb24gRmcoYSxiLGMpe2Zvcih2YXIgZD1yZyxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWFbZV07aWYoYihmKSl7dmFyIGg9Zi5wYXRoO2lmKGYuR2EpYy5jb250YWlucyhoKT8oaD1UKGMsaCksZD1zZyhkLGgsZi5HYSkpOmguY29udGFpbnMoYykmJihoPVQoaCxjKSxkPXNnKGQsQyxmLkdhLlAoaCkpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhoKSloPVQoYyxoKSxkPXRnKGQsaCxmLmNoaWxkcmVuKTtlbHNle2lmKGguY29udGFpbnMoYykpaWYoaD1UKGgsYyksaC5lKCkpZD10ZyhkLEMsZi5jaGlsZHJlbik7ZWxzZSBpZihmPXcoZi5jaGlsZHJlbixKKGgpKSlmPWYuUChEKGgpKSxkPXNnKGQsQyxmKX1lbHNlIHRocm93IHNjKFwiV3JpdGVSZWNvcmQgc2hvdWxkIGhhdmUgLnNuYXAgb3IgLmNoaWxkcmVuXCIpO319cmV0dXJuIGR9ZnVuY3Rpb24gSGcoYSxiKXt0aGlzLkxiPWE7dGhpcy5XPWJ9Zz1IZy5wcm90b3R5cGU7XG5nLkFhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5XLkFhKHRoaXMuTGIsYSxiLGMpfTtnLnJjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlcucmModGhpcy5MYixhKX07Zy5hZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuVy5hZCh0aGlzLkxiLGEsYixjKX07Zy5sYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5XLmxjKHRoaXMuTGIubihhKSl9O2cuV2Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5XLldkKHRoaXMuTGIsYSxiLGMsZCxlKX07Zy5xYz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLlcucWModGhpcy5MYixhLGIpfTtnLm49ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBIZyh0aGlzLkxiLm4oYSksdGhpcy5XKX07ZnVuY3Rpb24gSWcoKXt0aGlzLmNoaWxkcmVuPXt9O3RoaXMuYmQ9MDt0aGlzLnZhbHVlPW51bGx9ZnVuY3Rpb24gSmcoYSxiLGMpe3RoaXMudWQ9YT9hOlwiXCI7dGhpcy5QYz1iP2I6bnVsbDt0aGlzLkE9Yz9jOm5ldyBJZ31mdW5jdGlvbiBLZyhhLGIpe2Zvcih2YXIgYz1iIGluc3RhbmNlb2YgTD9iOm5ldyBMKGIpLGQ9YSxlO251bGwhPT0oZT1KKGMpKTspZD1uZXcgSmcoZSxkLHcoZC5BLmNoaWxkcmVuLGUpfHxuZXcgSWcpLGM9RChjKTtyZXR1cm4gZH1nPUpnLnByb3RvdHlwZTtnLkNhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQS52YWx1ZX07ZnVuY3Rpb24gTGcoYSxiKXtIKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYixcIkNhbm5vdCBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkXCIpO2EuQS52YWx1ZT1iO01nKGEpfWcuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLkEudmFsdWU9bnVsbDt0aGlzLkEuY2hpbGRyZW49e307dGhpcy5BLmJkPTA7TWcodGhpcyl9O1xuZy5rZD1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuQS5iZH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLkNhKCkmJiF0aGlzLmtkKCl9O2cuTz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3IodGhpcy5BLmNoaWxkcmVuLGZ1bmN0aW9uKGMsZCl7YShuZXcgSmcoZCxiLGMpKX0pfTtmdW5jdGlvbiBOZyhhLGIsYyxkKXtjJiYhZCYmYihhKTthLk8oZnVuY3Rpb24oYSl7TmcoYSxiLCEwLGQpfSk7YyYmZCYmYihhKX1mdW5jdGlvbiBPZyhhLGIpe2Zvcih2YXIgYz1hLnBhcmVudCgpO251bGwhPT1jJiYhYihjKTspYz1jLnBhcmVudCgpfWcucGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgTChudWxsPT09dGhpcy5QYz90aGlzLnVkOnRoaXMuUGMucGF0aCgpK1wiL1wiK3RoaXMudWQpfTtnLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51ZH07Zy5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QY307XG5mdW5jdGlvbiBNZyhhKXtpZihudWxsIT09YS5QYyl7dmFyIGI9YS5QYyxjPWEudWQsZD1hLmUoKSxlPWNiKGIuQS5jaGlsZHJlbixjKTtkJiZlPyhkZWxldGUgYi5BLmNoaWxkcmVuW2NdLGIuQS5iZC0tLE1nKGIpKTpkfHxlfHwoYi5BLmNoaWxkcmVuW2NdPWEuQSxiLkEuYmQrKyxNZyhiKSl9fTtmdW5jdGlvbiBQZyhhLGIsYyxkLGUsZil7dGhpcy5pZD1RZysrO3RoaXMuZj15YyhcInA6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5xZD17fTt0aGlzLiQ9e307dGhpcy5wYT1bXTt0aGlzLk9jPTA7dGhpcy5LYz1bXTt0aGlzLm1hPSExO3RoaXMuU2E9MUUzO3RoaXMudGQ9M0U1O3RoaXMuR2I9Yjt0aGlzLkpjPWM7dGhpcy5zZT1kO3RoaXMuTD1hO3RoaXMub2I9dGhpcy5GYT10aGlzLkNiPXRoaXMueGU9bnVsbDt0aGlzLiRjPWU7dGhpcy5iZT0hMTt0aGlzLmllPTA7aWYoZil0aHJvdyBFcnJvcihcIkF1dGggb3ZlcnJpZGUgc3BlY2lmaWVkIGluIG9wdGlvbnMsIGJ1dCBub3Qgc3VwcG9ydGVkIG9uIG5vbiBOb2RlLmpzIHBsYXRmb3Jtc1wiKTt0aGlzLkdlPWZ8fG51bGw7dGhpcy51Yj1udWxsO3RoaXMuTWI9ITE7dGhpcy5HZD17fTt0aGlzLmlnPTA7dGhpcy5SZT0hMDt0aGlzLkFjPXRoaXMua2U9bnVsbDtSZyh0aGlzLDApO3RmLlZiKCkuZ2MoXCJ2aXNpYmxlXCIsdGhpcy5aZix0aGlzKTstMT09PVxuYS5ob3N0LmluZGV4T2YoXCJmYmxvY2FsXCIpJiZzZi5WYigpLmdjKFwib25saW5lXCIsdGhpcy5ZZix0aGlzKX12YXIgUWc9MCxTZz0wO2c9UGcucHJvdG90eXBlO2cudWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSsrdGhpcy5pZzthPXtyOmQsYTphLGI6Yn07dGhpcy5mKEIoYSkpO0godGhpcy5tYSxcInNlbmRSZXF1ZXN0IGNhbGwgd2hlbiB3ZSdyZSBub3QgY29ubmVjdGVkIG5vdCBhbGxvd2VkLlwiKTt0aGlzLkZhLnVhKGEpO2MmJih0aGlzLkdkW2RdPWMpfTtcbmcuJGU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5qYSgpLGY9YS5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrZitcIiBcIitlKTt0aGlzLiRbZl09dGhpcy4kW2ZdfHx7fTtIKFNjKGEubSl8fCFTKGEubSksXCJsaXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtIKCF0aGlzLiRbZl1bZV0sXCJsaXN0ZW4oKSBjYWxsZWQgdHdpY2UgZm9yIHNhbWUgcGF0aC9xdWVyeUlkLlwiKTthPXtHOmQsbGQ6YixlZzphLHRhZzpjfTt0aGlzLiRbZl1bZV09YTt0aGlzLm1hJiZUZyh0aGlzLGEpfTtcbmZ1bmN0aW9uIFRnKGEsYil7dmFyIGM9Yi5lZyxkPWMucGF0aC50b1N0cmluZygpLGU9Yy5qYSgpO2EuZihcIkxpc3RlbiBvbiBcIitkK1wiIGZvciBcIitlKTt2YXIgZj17cDpkfTtiLnRhZyYmKGYucT1pZShjLm0pLGYudD1iLnRhZyk7Zi5oPWIubGQoKTthLnVhKFwicVwiLGYsZnVuY3Rpb24oZil7dmFyIGs9Zi5kLGw9Zi5zO2lmKGsmJlwib2JqZWN0XCI9PT10eXBlb2YgayYmY2IoayxcIndcIikpe3ZhciBtPXcoayxcIndcIik7ZWEobSkmJjA8PUlhKG0sXCJub19pbmRleFwiKSYmTyhcIlVzaW5nIGFuIHVuc3BlY2lmaWVkIGluZGV4LiBDb25zaWRlciBhZGRpbmcgXCIrKCdcIi5pbmRleE9uXCI6IFwiJytjLm0uZy50b1N0cmluZygpKydcIicpK1wiIGF0IFwiK2MucGF0aC50b1N0cmluZygpK1wiIHRvIHlvdXIgc2VjdXJpdHkgcnVsZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVwiKX0oYS4kW2RdJiZhLiRbZF1bZV0pPT09YiYmKGEuZihcImxpc3RlbiByZXNwb25zZVwiLGYpLFwib2tcIiE9PWwmJlVnKGEsZCxlKSxiLkcmJmIuRyhsLFxuaykpfSl9Zy5rZj1mdW5jdGlvbihhKXt0aGlzLm9iPWE7dGhpcy5mKFwiQXV0aCB0b2tlbiByZWZyZXNoZWRcIik7dGhpcy5vYj9WZyh0aGlzKTp0aGlzLm1hJiZ0aGlzLnVhKFwidW5hdXRoXCIse30sZnVuY3Rpb24oKXt9KTtpZihhJiY0MD09PWEubGVuZ3RofHxQYyhhKSl0aGlzLmYoXCJBZG1pbiBhdXRoIGNyZWRlbnRpYWwgZGV0ZWN0ZWQuICBSZWR1Y2luZyBtYXggcmVjb25uZWN0IHRpbWUuXCIpLHRoaXMudGQ9M0U0fTtmdW5jdGlvbiBWZyhhKXtpZihhLm1hJiZhLm9iKXt2YXIgYj1hLm9iLGM9T2MoYik/XCJhdXRoXCI6XCJnYXV0aFwiLGQ9e2NyZWQ6Yn07YS5HZSYmKGQuYXV0aHZhcj1hLkdlKTthLnVhKGMsZCxmdW5jdGlvbihjKXt2YXIgZD1jLnM7Yz1jLmR8fFwiZXJyb3JcIjthLm9iPT09YiYmKFwib2tcIj09PWQ/YS5pZT0wOldnKGEsZCxjKSl9KX19XG5nLnVmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLnRvU3RyaW5nKCksZD1hLmphKCk7dGhpcy5mKFwiVW5saXN0ZW4gY2FsbGVkIGZvciBcIitjK1wiIFwiK2QpO0goU2MoYS5tKXx8IVMoYS5tKSxcInVubGlzdGVuKCkgY2FsbGVkIGZvciBub24tZGVmYXVsdCBidXQgY29tcGxldGUgcXVlcnlcIik7aWYoVWcodGhpcyxjLGQpJiZ0aGlzLm1hKXt2YXIgZT1pZShhLm0pO3RoaXMuZihcIlVubGlzdGVuIG9uIFwiK2MrXCIgZm9yIFwiK2QpO2M9e3A6Y307YiYmKGMucT1lLGMudD1iKTt0aGlzLnVhKFwiblwiLGMpfX07Zy5wZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5tYT9YZyh0aGlzLFwib1wiLGEsYixjKTp0aGlzLktjLnB1c2goe3VlOmEsYWN0aW9uOlwib1wiLGRhdGE6YixHOmN9KX07Zy5jZj1mdW5jdGlvbihhLGIsYyl7dGhpcy5tYT9YZyh0aGlzLFwib21cIixhLGIsYyk6dGhpcy5LYy5wdXNoKHt1ZTphLGFjdGlvbjpcIm9tXCIsZGF0YTpiLEc6Y30pfTtcbmcueGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLm1hP1hnKHRoaXMsXCJvY1wiLGEsbnVsbCxiKTp0aGlzLktjLnB1c2goe3VlOmEsYWN0aW9uOlwib2NcIixkYXRhOm51bGwsRzpifSl9O2Z1bmN0aW9uIFhnKGEsYixjLGQsZSl7Yz17cDpjLGQ6ZH07YS5mKFwib25EaXNjb25uZWN0IFwiK2IsYyk7YS51YShiLGMsZnVuY3Rpb24oYSl7ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UoYS5zLGEuZCl9LE1hdGguZmxvb3IoMCkpfSl9Zy5wdXQ9ZnVuY3Rpb24oYSxiLGMsZCl7WWcodGhpcyxcInBcIixhLGIsYyxkKX07Zy5hZj1mdW5jdGlvbihhLGIsYyxkKXtZZyh0aGlzLFwibVwiLGEsYixjLGQpfTtmdW5jdGlvbiBZZyhhLGIsYyxkLGUsZil7ZD17cDpjLGQ6ZH07bihmKSYmKGQuaD1mKTthLnBhLnB1c2goe2FjdGlvbjpiLG1mOmQsRzplfSk7YS5PYysrO2I9YS5wYS5sZW5ndGgtMTthLm1hP1pnKGEsYik6YS5mKFwiQnVmZmVyaW5nIHB1dDogXCIrYyl9XG5mdW5jdGlvbiBaZyhhLGIpe3ZhciBjPWEucGFbYl0uYWN0aW9uLGQ9YS5wYVtiXS5tZixlPWEucGFbYl0uRzthLnBhW2JdLmZnPWEubWE7YS51YShjLGQsZnVuY3Rpb24oZCl7YS5mKGMrXCIgcmVzcG9uc2VcIixkKTtkZWxldGUgYS5wYVtiXTthLk9jLS07MD09PWEuT2MmJihhLnBhPVtdKTtlJiZlKGQucyxkLmQpfSl9Zy53ZT1mdW5jdGlvbihhKXt0aGlzLm1hJiYoYT17YzphfSx0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLGEpLHRoaXMudWEoXCJzXCIsYSxmdW5jdGlvbihhKXtcIm9rXCIhPT1hLnMmJnRoaXMuZihcInJlcG9ydFN0YXRzXCIsXCJFcnJvciBzZW5kaW5nIHN0YXRzOiBcIithLmQpfSkpfTtcbmcud2Q9ZnVuY3Rpb24oYSl7aWYoXCJyXCJpbiBhKXt0aGlzLmYoXCJmcm9tIHNlcnZlcjogXCIrQihhKSk7dmFyIGI9YS5yLGM9dGhpcy5HZFtiXTtjJiYoZGVsZXRlIHRoaXMuR2RbYl0sYyhhLmIpKX1lbHNle2lmKFwiZXJyb3JcImluIGEpdGhyb3dcIkEgc2VydmVyLXNpZGUgZXJyb3IgaGFzIG9jY3VycmVkOiBcIithLmVycm9yO1wiYVwiaW4gYSYmKGI9YS5hLGE9YS5iLHRoaXMuZihcImhhbmRsZVNlcnZlck1lc3NhZ2VcIixiLGEpLFwiZFwiPT09Yj90aGlzLkdiKGEucCxhLmQsITEsYS50KTpcIm1cIj09PWI/dGhpcy5HYihhLnAsYS5kLCEwLGEudCk6XCJjXCI9PT1iPyRnKHRoaXMsYS5wLGEucSk6XCJhY1wiPT09Yj9XZyh0aGlzLGEucyxhLmQpOlwic2RcIj09PWI/dGhpcy54ZT90aGlzLnhlKGEpOlwibXNnXCJpbiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiRklSRUJBU0U6IFwiK2EubXNnLnJlcGxhY2UoXCJcXG5cIixcIlxcbkZJUkVCQVNFOiBcIikpOnpjKFwiVW5yZWNvZ25pemVkIGFjdGlvbiByZWNlaXZlZCBmcm9tIHNlcnZlcjogXCIrXG5CKGIpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIikpfX07Zy5MYz1mdW5jdGlvbihhLGIpe3RoaXMuZihcImNvbm5lY3Rpb24gcmVhZHlcIik7dGhpcy5tYT0hMDt0aGlzLkFjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuc2Uoe3NlcnZlclRpbWVPZmZzZXQ6YS0obmV3IERhdGUpLmdldFRpbWUoKX0pO3RoaXMuQ2I9YjtpZih0aGlzLlJlKXt2YXIgYz17fTtjW1wic2RrLmpzLlwiK2ZpcmViYXNlLlNES19WRVJTSU9OLnJlcGxhY2UoL1xcLi9nLFwiLVwiKV09MTtxYigpP2NbXCJmcmFtZXdvcmsuY29yZG92YVwiXT0xOlwib2JqZWN0XCI9PT10eXBlb2YgbmF2aWdhdG9yJiZcIlJlYWN0TmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdCYmKGNbXCJmcmFtZXdvcmsucmVhY3RuYXRpdmVcIl09MSk7dGhpcy53ZShjKX1haCh0aGlzKTt0aGlzLlJlPSExO3RoaXMuSmMoITApfTtcbmZ1bmN0aW9uIFJnKGEsYil7SCghYS5GYSxcIlNjaGVkdWxpbmcgYSBjb25uZWN0IHdoZW4gd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvaW5nP1wiKTthLnViJiZjbGVhclRpbWVvdXQoYS51Yik7YS51Yj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS51Yj1udWxsO2JoKGEpfSxNYXRoLmZsb29yKGIpKX1nLlpmPWZ1bmN0aW9uKGEpe2EmJiF0aGlzLk1iJiZ0aGlzLlNhPT09dGhpcy50ZCYmKHRoaXMuZihcIldpbmRvdyBiZWNhbWUgdmlzaWJsZS4gIFJlZHVjaW5nIGRlbGF5LlwiKSx0aGlzLlNhPTFFMyx0aGlzLkZhfHxSZyh0aGlzLDApKTt0aGlzLk1iPWF9O2cuWWY9ZnVuY3Rpb24oYSl7YT8odGhpcy5mKFwiQnJvd3NlciB3ZW50IG9ubGluZS5cIiksdGhpcy5TYT0xRTMsdGhpcy5GYXx8UmcodGhpcywwKSk6KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvZmZsaW5lLiAgS2lsbGluZyBjb25uZWN0aW9uLlwiKSx0aGlzLkZhJiZ0aGlzLkZhLmNsb3NlKCkpfTtcbmcuZGY9ZnVuY3Rpb24oKXt0aGlzLmYoXCJkYXRhIGNsaWVudCBkaXNjb25uZWN0ZWRcIik7dGhpcy5tYT0hMTt0aGlzLkZhPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLnBhLmxlbmd0aDthKyspe3ZhciBiPXRoaXMucGFbYV07YiYmXCJoXCJpbiBiLm1mJiZiLmZnJiYoYi5HJiZiLkcoXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLnBhW2FdLHRoaXMuT2MtLSl9MD09PXRoaXMuT2MmJih0aGlzLnBhPVtdKTt0aGlzLkdkPXt9O2NoKHRoaXMpJiYodGhpcy5NYj90aGlzLkFjJiYoM0U0PChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuQWMmJih0aGlzLlNhPTFFMyksdGhpcy5BYz1udWxsKToodGhpcy5mKFwiV2luZG93IGlzbid0IHZpc2libGUuICBEZWxheWluZyByZWNvbm5lY3QuXCIpLHRoaXMuU2E9dGhpcy50ZCx0aGlzLmtlPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSxhPU1hdGgubWF4KDAsdGhpcy5TYS0oKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5rZSkpLGEqPU1hdGgucmFuZG9tKCksdGhpcy5mKFwiVHJ5aW5nIHRvIHJlY29ubmVjdCBpbiBcIitcbmErXCJtc1wiKSxSZyh0aGlzLGEpLHRoaXMuU2E9TWF0aC5taW4odGhpcy50ZCwxLjMqdGhpcy5TYSkpO3RoaXMuSmMoITEpfTtcbmZ1bmN0aW9uIGJoKGEpe2lmKGNoKGEpKXthLmYoXCJNYWtpbmcgYSBjb25uZWN0aW9uIGF0dGVtcHRcIik7YS5rZT0obmV3IERhdGUpLmdldFRpbWUoKTthLkFjPW51bGw7dmFyIGI9cShhLndkLGEpLGM9cShhLkxjLGEpLGQ9cShhLmRmLGEpLGU9YS5pZCtcIjpcIitTZysrLGY9YS5DYixoPSExLGs9bnVsbCxsPWZ1bmN0aW9uKCl7az9rLmNsb3NlKCk6KGg9ITAsZCgpKX07YS5GYT17Y2xvc2U6bCx1YTpmdW5jdGlvbihhKXtIKGssXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIik7ay51YShhKX19O3ZhciBtPWEuYmU7YS5iZT0hMTthLiRjLmdldFRva2VuKG0pLnRoZW4oZnVuY3Rpb24obCl7aD9FKFwiZ2V0VG9rZW4oKSBjb21wbGV0ZWQgYnV0IHdhcyBjYW5jZWxlZFwiKTooRShcImdldFRva2VuKCkgY29tcGxldGVkLiBDcmVhdGluZyBjb25uZWN0aW9uLlwiKSxhLm9iPWwmJmwuYWNjZXNzVG9rZW4saz1uZXcgQ2UoZSxhLkwsYixjLGQsZnVuY3Rpb24oYil7TyhiK1xuXCIgKFwiK2EuTC50b1N0cmluZygpK1wiKVwiKTthLmFiKFwic2VydmVyX2tpbGxcIil9LGYpKX0pLnRoZW4obnVsbCxmdW5jdGlvbihiKXthLmYoXCJGYWlsZWQgdG8gZ2V0IHRva2VuOiBcIitiKTtofHxsKCl9KX19Zy5hYj1mdW5jdGlvbihhKXtFKFwiSW50ZXJydXB0aW5nIGNvbm5lY3Rpb24gZm9yIHJlYXNvbjogXCIrYSk7dGhpcy5xZFthXT0hMDt0aGlzLkZhP3RoaXMuRmEuY2xvc2UoKToodGhpcy51YiYmKGNsZWFyVGltZW91dCh0aGlzLnViKSx0aGlzLnViPW51bGwpLHRoaXMubWEmJnRoaXMuZGYoKSl9O2cua2M9ZnVuY3Rpb24oYSl7RShcIlJlc3VtaW5nIGNvbm5lY3Rpb24gZm9yIHJlYXNvbjogXCIrYSk7ZGVsZXRlIHRoaXMucWRbYV07eWEodGhpcy5xZCkmJih0aGlzLlNhPTFFMyx0aGlzLkZhfHxSZyh0aGlzLDApKX07XG5mdW5jdGlvbiAkZyhhLGIsYyl7Yz1jP0xhKGMsZnVuY3Rpb24oYSl7cmV0dXJuIEdjKGEpfSkuam9pbihcIiRcIik6XCJkZWZhdWx0XCI7KGE9VWcoYSxiLGMpKSYmYS5HJiZhLkcoXCJwZXJtaXNzaW9uX2RlbmllZFwiKX1mdW5jdGlvbiBVZyhhLGIsYyl7Yj0obmV3IEwoYikpLnRvU3RyaW5nKCk7dmFyIGQ7bihhLiRbYl0pPyhkPWEuJFtiXVtjXSxkZWxldGUgYS4kW2JdW2NdLDA9PT1yYShhLiRbYl0pJiZkZWxldGUgYS4kW2JdKTpkPXZvaWQgMDtyZXR1cm4gZH1cbmZ1bmN0aW9uIFdnKGEsYixjKXtFKFwiQXV0aCB0b2tlbiByZXZva2VkOiBcIitiK1wiL1wiK2MpO2Eub2I9bnVsbDthLmJlPSEwO2EuRmEuY2xvc2UoKTtcImludmFsaWRfdG9rZW5cIj09PWImJihhLmllKyssMzw9YS5pZSYmKGEuU2E9M0U0LGE9YS4kYyxiPSdQcm92aWRlZCBhdXRoZW50aWNhdGlvbiBjcmVkZW50aWFscyBmb3IgdGhlIGFwcCBuYW1lZCBcIicrYS5vYy5uYW1lKydcIiBhcmUgaW52YWxpZC4gVGhpcyB1c3VhbGx5IGluZGljYXRlcyB5b3VyIGFwcCB3YXMgbm90IGluaXRpYWxpemVkIGNvcnJlY3RseS4gJyxiPVwiY3JlZGVudGlhbFwiaW4gYS5vYy5vcHRpb25zP2IrJ01ha2Ugc3VyZSB0aGUgXCJjcmVkZW50aWFsXCIgcHJvcGVydHkgcHJvdmlkZWQgdG8gaW5pdGlhbGl6ZUFwcCgpIGlzIGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoZSBzcGVjaWZpZWQgXCJkYXRhYmFzZVVSTFwiIGFuZCBpcyBmcm9tIHRoZSBjb3JyZWN0IHByb2plY3QuJzpcInNlcnZpY2VBY2NvdW50XCJpbiBhLm9jLm9wdGlvbnM/XG5iKydNYWtlIHN1cmUgdGhlIFwic2VydmljZUFjY291bnRcIiBwcm9wZXJ0eSBwcm92aWRlZCB0byBpbml0aWFsaXplQXBwKCkgaXMgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhlIHNwZWNpZmllZCBcImRhdGFiYXNlVVJMXCIgYW5kIGlzIGZyb20gdGhlIGNvcnJlY3QgcHJvamVjdC4nOmIrJ01ha2Ugc3VyZSB0aGUgXCJhcGlLZXlcIiBhbmQgXCJkYXRhYmFzZVVSTFwiIHByb3BlcnRpZXMgcHJvdmlkZWQgdG8gaW5pdGlhbGl6ZUFwcCgpIG1hdGNoIHRoZSB2YWx1ZXMgcHJvdmlkZWQgZm9yIHlvdXIgYXBwIGF0IGh0dHBzOi8vY29uc29sZS5maXJlYmFzZS5nb29nbGUuY29tLy4nLE8oYikpKX1cbmZ1bmN0aW9uIGFoKGEpe1ZnKGEpO3IoYS4kLGZ1bmN0aW9uKGIpe3IoYixmdW5jdGlvbihiKXtUZyhhLGIpfSl9KTtmb3IodmFyIGI9MDtiPGEucGEubGVuZ3RoO2IrKylhLnBhW2JdJiZaZyhhLGIpO2Zvcig7YS5LYy5sZW5ndGg7KWI9YS5LYy5zaGlmdCgpLFhnKGEsYi5hY3Rpb24sYi51ZSxiLmRhdGEsYi5HKX1mdW5jdGlvbiBjaChhKXt2YXIgYjtiPXNmLlZiKCkuaGM7cmV0dXJuIHlhKGEucWQpJiZifTt2YXIgWT17TWY6ZnVuY3Rpb24oKXtyZT1kZD0hMH19O1kuZm9yY2VMb25nUG9sbGluZz1ZLk1mO1kuTmY9ZnVuY3Rpb24oKXtzZT0hMH07WS5mb3JjZVdlYlNvY2tldHM9WS5OZjtZLlRmPWZ1bmN0aW9uKCl7cmV0dXJuIGNkLmlzQXZhaWxhYmxlKCl9O1kuaXNXZWJTb2NrZXRzQXZhaWxhYmxlPVkuVGY7WS5sZz1mdW5jdGlvbihhLGIpe2EudS5SYS54ZT1ifTtZLnNldFNlY3VyaXR5RGVidWdDYWxsYmFjaz1ZLmxnO1kuemU9ZnVuY3Rpb24oYSxiKXthLnUuemUoYil9O1kuc3RhdHM9WS56ZTtZLkFlPWZ1bmN0aW9uKGEsYil7YS51LkFlKGIpfTtZLnN0YXRzSW5jcmVtZW50Q291bnRlcj1ZLkFlO1kuZmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudS5mZH07WS5kYXRhVXBkYXRlQ291bnQ9WS5mZDtZLlNmPWZ1bmN0aW9uKGEsYil7YS51LmhlPWJ9O1kuaW50ZXJjZXB0U2VydmVyRGF0YT1ZLlNmO2Z1bmN0aW9uIGRoKGEpe3RoaXMud2E9UTt0aGlzLmpiPW5ldyBDZzt0aGlzLkJlPXt9O3RoaXMuaWM9e307dGhpcy5DYz1hfWZ1bmN0aW9uIGVoKGEsYixjLGQsZSl7dmFyIGY9YS5qYixoPWU7SChkPmYuQmMsXCJTdGFja2luZyBhbiBvbGRlciB3cml0ZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtuKGgpfHwoaD0hMCk7Zi5sYS5wdXNoKHtwYXRoOmIsR2E6YyxaYzpkLHZpc2libGU6aH0pO2gmJihmLlM9c2coZi5TLGIsYykpO2YuQmM9ZDtyZXR1cm4gZT9maChhLG5ldyBBYihuZyxiLGMpKTpbXX1mdW5jdGlvbiBnaChhLGIsYyxkKXt2YXIgZT1hLmpiO0goZD5lLkJjLFwiU3RhY2tpbmcgYW4gb2xkZXIgbWVyZ2Ugb24gdG9wIG9mIG5ld2VyIG9uZXNcIik7ZS5sYS5wdXNoKHtwYXRoOmIsY2hpbGRyZW46YyxaYzpkLHZpc2libGU6ITB9KTtlLlM9dGcoZS5TLGIsYyk7ZS5CYz1kO2M9YmcoYyk7cmV0dXJuIGZoKGEsbmV3IFZjKG5nLGIsYykpfVxuZnVuY3Rpb24gaGgoYSxiLGMpe2M9Y3x8ITE7dmFyIGQ9RGcoYS5qYixiKTtpZihhLmpiLkVkKGIpKXt2YXIgZT1RO251bGwhPWQuR2E/ZT1lLnNldChDLCEwKTpkYihkLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ZT1lLnNldChuZXcgTChhKSxiKX0pO3JldHVybiBmaChhLG5ldyBtZyhkLnBhdGgsZSxjKSl9cmV0dXJuW119ZnVuY3Rpb24gaWgoYSxiLGMpe2M9YmcoYyk7cmV0dXJuIGZoKGEsbmV3IFZjKHBnLGIsYykpfWZ1bmN0aW9uIGpoKGEsYixjLGQpe2Q9a2goYSxkKTtpZihudWxsIT1kKXt2YXIgZT1saChkKTtkPWUucGF0aDtlPWUuSGI7Yj1UKGQsYik7Yz1uZXcgQWIobmV3IG9nKCExLCEwLGUsITApLGIsYyk7cmV0dXJuIG1oKGEsZCxjKX1yZXR1cm5bXX1cbmZ1bmN0aW9uIG5oKGEsYixjLGQpe2lmKGQ9a2goYSxkKSl7dmFyIGU9bGgoZCk7ZD1lLnBhdGg7ZT1lLkhiO2I9VChkLGIpO2M9YmcoYyk7Yz1uZXcgVmMobmV3IG9nKCExLCEwLGUsITApLGIsYyk7cmV0dXJuIG1oKGEsZCxjKX1yZXR1cm5bXX1cbmRoLnByb3RvdHlwZS5OYj1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGF0aCxkPW51bGwsZT0hMTtpZyh0aGlzLndhLGMsZnVuY3Rpb24oYSxiKXt2YXIgZj1UKGEsYyk7ZD1kfHxiLmhiKGYpO2U9ZXx8bnVsbCE9emcoYil9KTt2YXIgZj10aGlzLndhLmdldChjKTtmPyhlPWV8fG51bGwhPXpnKGYpLGQ9ZHx8Zi5oYihDKSk6KGY9bmV3IHlnLHRoaXMud2E9dGhpcy53YS5zZXQoYyxmKSk7dmFyIGg7bnVsbCE9ZD9oPSEwOihoPSExLGQ9RyxsZyh0aGlzLndhLnN1YnRyZWUoYyksZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmhiKEMpO2MmJihkPWQuVChhLGMpKX0pKTt2YXIgaz1udWxsIT1CZyhmLGEpO2lmKCFrJiYhUyhhLm0pKXt2YXIgbD1vaChhKTtIKCEobCBpbiB0aGlzLmljKSxcIlZpZXcgZG9lcyBub3QgZXhpc3QsIGJ1dCB3ZSBoYXZlIGEgdGFnXCIpO3ZhciBtPXBoKys7dGhpcy5pY1tsXT1tO3RoaXMuQmVbXCJfXCIrbV09bH1oPWYuTmIoYSxiLG5ldyBIZyhjLHRoaXMuamIpLGQsaCk7a3x8XG5lfHwoZj1CZyhmLGEpLGg9aC5jb25jYXQocWgodGhpcyxhLGYpKSk7cmV0dXJuIGh9O1xuZGgucHJvdG90eXBlLmtiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnBhdGgsZT10aGlzLndhLmdldChkKSxmPVtdO2lmKGUmJihcImRlZmF1bHRcIj09PWEuamEoKXx8bnVsbCE9QmcoZSxhKSkpe2Y9ZS5rYihhLGIsYyk7ZS5lKCkmJih0aGlzLndhPXRoaXMud2EucmVtb3ZlKGQpKTtlPWYuaGc7Zj1mLktmO2I9LTEhPT1QYShlLGZ1bmN0aW9uKGEpe3JldHVybiBTKGEubSl9KTt2YXIgaD1nZyh0aGlzLndhLGQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9emcoYil9KTtpZihiJiYhaCYmKGQ9dGhpcy53YS5zdWJ0cmVlKGQpLCFkLmUoKSkpZm9yKHZhciBkPXJoKGQpLGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9ZFtrXSxtPWwuVixsPXNoKHRoaXMsbCk7dGhpcy5DYy55ZSh0aChtKSx1aCh0aGlzLG0pLGwubGQsbC5HKX1pZighaCYmMDxlLmxlbmd0aCYmIWMpaWYoYil0aGlzLkNjLk9kKHRoKGEpLG51bGwpO2Vsc2V7dmFyIHU9dGhpcztKYShlLGZ1bmN0aW9uKGEpe2EuamEoKTtcbnZhciBiPXUuaWNbb2goYSldO3UuQ2MuT2QodGgoYSksYil9KX12aCh0aGlzLGUpfXJldHVybiBmfTtkaC5wcm90b3R5cGUuQWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmpiLGQ9Z2codGhpcy53YSxhLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9VChiLGEpO2lmKGQ9Yy5oYihkKSlyZXR1cm4gZH0pO3JldHVybiBjLkFhKGEsZCxiLCEwKX07ZnVuY3Rpb24gcmgoYSl7cmV0dXJuIGVnKGEsZnVuY3Rpb24oYSxjLGQpe2lmKGMmJm51bGwhPXpnKGMpKXJldHVyblt6ZyhjKV07dmFyIGU9W107YyYmKGU9QWcoYykpO3IoZCxmdW5jdGlvbihhKXtlPWUuY29uY2F0KGEpfSk7cmV0dXJuIGV9KX1mdW5jdGlvbiB2aChhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1iW2NdO2lmKCFTKGQubSkpe3ZhciBkPW9oKGQpLGU9YS5pY1tkXTtkZWxldGUgYS5pY1tkXTtkZWxldGUgYS5CZVtcIl9cIitlXX19fVxuZnVuY3Rpb24gdGgoYSl7cmV0dXJuIFMoYS5tKSYmIVNjKGEubSk/YS53YigpOmF9ZnVuY3Rpb24gcWgoYSxiLGMpe3ZhciBkPWIucGF0aCxlPXVoKGEsYik7Yz1zaChhLGMpO2I9YS5DYy55ZSh0aChiKSxlLGMubGQsYy5HKTtkPWEud2Euc3VidHJlZShkKTtpZihlKUgobnVsbD09emcoZC52YWx1ZSksXCJJZiB3ZSdyZSBhZGRpbmcgYSBxdWVyeSwgaXQgc2hvdWxkbid0IGJlIHNoYWRvd2VkXCIpO2Vsc2UgZm9yKGU9ZWcoZCxmdW5jdGlvbihhLGIsYyl7aWYoIWEuZSgpJiZiJiZudWxsIT16ZyhiKSlyZXR1cm5bUWYoemcoYikpXTt2YXIgZD1bXTtiJiYoZD1kLmNvbmNhdChMYShBZyhiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5WfSkpKTtyKGMsZnVuY3Rpb24oYSl7ZD1kLmNvbmNhdChhKX0pO3JldHVybiBkfSksZD0wO2Q8ZS5sZW5ndGg7KytkKWM9ZVtkXSxhLkNjLk9kKHRoKGMpLHVoKGEsYykpO3JldHVybiBifVxuZnVuY3Rpb24gc2goYSxiKXt2YXIgYz1iLlYsZD11aChhLGMpO3JldHVybntsZDpmdW5jdGlvbigpe3JldHVybihiLncoKXx8RykuaGFzaCgpfSxHOmZ1bmN0aW9uKGIpe2lmKFwib2tcIj09PWIpe2lmKGQpe3ZhciBmPWMucGF0aDtpZihiPWtoKGEsZCkpe3ZhciBoPWxoKGIpO2I9aC5wYXRoO2g9aC5IYjtmPVQoYixmKTtmPW5ldyBDYihuZXcgb2coITEsITAsaCwhMCksZik7Yj1taChhLGIsZil9ZWxzZSBiPVtdfWVsc2UgYj1maChhLG5ldyBDYihwZyxjLnBhdGgpKTtyZXR1cm4gYn1mPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yj9mPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1iP2Y9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1iJiZcbihmPVwiVGhlIHNlcnZpY2UgaXMgdW5hdmFpbGFibGVcIik7Zj1FcnJvcihiK1wiIGF0IFwiK2MucGF0aC50b1N0cmluZygpK1wiOiBcIitmKTtmLmNvZGU9Yi50b1VwcGVyQ2FzZSgpO3JldHVybiBhLmtiKGMsbnVsbCxmKX19fWZ1bmN0aW9uIG9oKGEpe3JldHVybiBhLnBhdGgudG9TdHJpbmcoKStcIiRcIithLmphKCl9ZnVuY3Rpb24gbGgoYSl7dmFyIGI9YS5pbmRleE9mKFwiJFwiKTtIKC0xIT09YiYmYjxhLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKTtyZXR1cm57SGI6YS5zdWJzdHIoYisxKSxwYXRoOm5ldyBMKGEuc3Vic3RyKDAsYikpfX1mdW5jdGlvbiBraChhLGIpe3ZhciBjPWEuQmUsZD1cIl9cIitiO3JldHVybiBkIGluIGM/Y1tkXTp2b2lkIDB9ZnVuY3Rpb24gdWgoYSxiKXt2YXIgYz1vaChiKTtyZXR1cm4gdyhhLmljLGMpfXZhciBwaD0xO1xuZnVuY3Rpb24gbWgoYSxiLGMpe3ZhciBkPWEud2EuZ2V0KGIpO0goZCxcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIik7cmV0dXJuIGQuZWIoYyxuZXcgSGcoYixhLmpiKSxudWxsKX1mdW5jdGlvbiBmaChhLGIpe3JldHVybiB3aChhLGIsYS53YSxudWxsLG5ldyBIZyhDLGEuamIpKX1mdW5jdGlvbiB3aChhLGIsYyxkLGUpe2lmKGIucGF0aC5lKCkpcmV0dXJuIHhoKGEsYixjLGQsZSk7dmFyIGY9Yy5nZXQoQyk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5oYihDKSk7dmFyIGg9W10saz1KKGIucGF0aCksbD1iLk1jKGspO2lmKChjPWMuY2hpbGRyZW4uZ2V0KGspKSYmbCl2YXIgbT1kP2QuUShrKTpudWxsLGs9ZS5uKGspLGg9aC5jb25jYXQod2goYSxsLGMsbSxrKSk7ZiYmKGg9aC5jb25jYXQoZi5lYihiLGUsZCkpKTtyZXR1cm4gaH1cbmZ1bmN0aW9uIHhoKGEsYixjLGQsZSl7dmFyIGY9Yy5nZXQoQyk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5oYihDKSk7dmFyIGg9W107Yy5jaGlsZHJlbi5oYShmdW5jdGlvbihjLGYpe3ZhciBtPWQ/ZC5RKGMpOm51bGwsdT1lLm4oYyksej1iLk1jKGMpO3omJihoPWguY29uY2F0KHhoKGEseixmLG0sdSkpKX0pO2YmJihoPWguY29uY2F0KGYuZWIoYixlLGQpKSk7cmV0dXJuIGh9O2Z1bmN0aW9uIFRlKGEsYixjKXt0aGlzLmFwcD1jO3ZhciBkPW5ldyBFYihjKTt0aGlzLkw9YTt0aGlzLlZhPSRjKGEpO3RoaXMuVmM9bnVsbDt0aGlzLmNhPW5ldyBOYjt0aGlzLnZkPTE7dGhpcy5SYT1udWxsO2lmKGJ8fDA8PShcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIpLnNlYXJjaCgvZ29vZ2xlYm90fGdvb2dsZSB3ZWJtYXN0ZXIgdG9vbHN8YmluZ2JvdHx5YWhvbyEgc2x1cnB8YmFpZHVzcGlkZXJ8eWFuZGV4Ym90fGR1Y2tkdWNrYm90L2kpKXRoaXMudmE9bmV3IFFjKHRoaXMuTCxxKHRoaXMuR2IsdGhpcyksZCksc2V0VGltZW91dChxKHRoaXMuSmMsdGhpcywhMCksMCk7ZWxzZXtiPWMub3B0aW9ucy5kYXRhYmFzZUF1dGhWYXJpYWJsZU92ZXJyaWRlfHxudWxsO2lmKG51bGwhPT1iKXtpZihcIm9iamVjdFwiIT09ZGEoYikpdGhyb3cgRXJyb3IoXCJPbmx5IG9iamVjdHMgYXJlIHN1cHBvcnRlZCBmb3Igb3B0aW9uIGRhdGFiYXNlQXV0aFZhcmlhYmxlT3ZlcnJpZGVcIik7XG50cnl7QihiKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIkludmFsaWQgYXV0aE92ZXJyaWRlIHByb3ZpZGVkOiBcIitlKTt9fXRoaXMudmE9dGhpcy5SYT1uZXcgUGcodGhpcy5MLHEodGhpcy5HYix0aGlzKSxxKHRoaXMuSmMsdGhpcykscSh0aGlzLnNlLHRoaXMpLGQsYil9dmFyIGY9dGhpcztGYihkLGZ1bmN0aW9uKGEpe2YudmEua2YoYSl9KTt0aGlzLm9nPWFkKGEscShmdW5jdGlvbigpe3JldHVybiBuZXcgWGModGhpcy5WYSx0aGlzLnZhKX0sdGhpcykpO3RoaXMubWM9bmV3IEpnO3RoaXMuZ2U9bmV3IEdiO3RoaXMucGQ9bmV3IGRoKHt5ZTpmdW5jdGlvbihhLGIsYyxkKXtiPVtdO2M9Zi5nZS5qKGEucGF0aCk7Yy5lKCl8fChiPWZoKGYucGQsbmV3IEFiKHBnLGEucGF0aCxjKSksc2V0VGltZW91dChmdW5jdGlvbigpe2QoXCJva1wiKX0sMCkpO3JldHVybiBifSxPZDpiYX0pO3loKHRoaXMsXCJjb25uZWN0ZWRcIiwhMSk7dGhpcy5pYT1uZXcgbWM7dGhpcy5ZYT1uZXcgU2UodGhpcyk7dGhpcy5mZD1cbjA7dGhpcy5oZT1udWxsO3RoaXMuSz1uZXcgZGgoe3llOmZ1bmN0aW9uKGEsYixjLGQpe2YudmEuJGUoYSxjLGIsZnVuY3Rpb24oYixjKXt2YXIgZT1kKGIsYyk7U2IoZi5jYSxhLnBhdGgsZSl9KTtyZXR1cm5bXX0sT2Q6ZnVuY3Rpb24oYSxiKXtmLnZhLnVmKGEsYil9fSl9Zz1UZS5wcm90b3R5cGU7Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLkwuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLkwuaG9zdH07Zy5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTC5uZX07ZnVuY3Rpb24gemgoYSl7YT1hLmdlLmoobmV3IEwoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5IKCl8fDA7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCkrYX1mdW5jdGlvbiBBaChhKXthPWE9e3RpbWVzdGFtcDp6aChhKX07YS50aW1lc3RhbXA9YS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBhfVxuZy5HYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmZkKys7dmFyIGU9bmV3IEwoYSk7Yj10aGlzLmhlP3RoaXMuaGUoYSxiKTpiO2E9W107ZD9jPyhiPXBhKGIsZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSl9KSxhPW5oKHRoaXMuSyxlLGIsZCkpOihiPU0oYiksYT1qaCh0aGlzLkssZSxiLGQpKTpjPyhkPXBhKGIsZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSl9KSxhPWloKHRoaXMuSyxlLGQpKTooZD1NKGIpLGE9ZmgodGhpcy5LLG5ldyBBYihwZyxlLGQpKSk7ZD1lOzA8YS5sZW5ndGgmJihkPUJoKHRoaXMsZSkpO1NiKHRoaXMuY2EsZCxhKX07Zy5KYz1mdW5jdGlvbihhKXt5aCh0aGlzLFwiY29ubmVjdGVkXCIsYSk7ITE9PT1hJiZDaCh0aGlzKX07Zy5zZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO0ljKGEsZnVuY3Rpb24oYSxkKXt5aChiLGQsYSl9KX07XG5mdW5jdGlvbiB5aChhLGIsYyl7Yj1uZXcgTChcIi8uaW5mby9cIitiKTtjPU0oYyk7dmFyIGQ9YS5nZTtkLkpkPWQuSmQuRihiLGMpO2M9ZmgoYS5wZCxuZXcgQWIocGcsYixjKSk7U2IoYS5jYSxiLGMpfWcuSmI9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5mKFwic2V0XCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmIsdWc6Y30pO3ZhciBlPUFoKHRoaXMpO2I9TShiLGMpO3ZhciBlPXBjKGIsZSksZj10aGlzLnZkKyssZT1laCh0aGlzLkssYSxlLGYsITApO09iKHRoaXMuY2EsZSk7dmFyIGg9dGhpczt0aGlzLnZhLnB1dChhLnRvU3RyaW5nKCksYi5IKCEwKSxmdW5jdGlvbihiLGMpe3ZhciBlPVwib2tcIj09PWI7ZXx8TyhcInNldCBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7ZT1oaChoLkssZiwhZSk7U2IoaC5jYSxhLGUpO0RoKGQsYixjKX0pO2U9RWgodGhpcyxhKTtCaCh0aGlzLGUpO1NiKHRoaXMuY2EsZSxbXSl9O1xuZy51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZihcInVwZGF0ZVwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpifSk7dmFyIGQ9ITAsZT1BaCh0aGlzKSxmPXt9O3IoYixmdW5jdGlvbihhLGIpe2Q9ITE7dmFyIGM9TShhKTtmW2JdPXBjKGMsZSl9KTtpZihkKUUoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLERoKGMsXCJva1wiKTtlbHNle3ZhciBoPXRoaXMudmQrKyxrPWdoKHRoaXMuSyxhLGYsaCk7T2IodGhpcy5jYSxrKTt2YXIgbD10aGlzO3RoaXMudmEuYWYoYS50b1N0cmluZygpLGIsZnVuY3Rpb24oYixkKXt2YXIgZT1cIm9rXCI9PT1iO2V8fE8oXCJ1cGRhdGUgYXQgXCIrYStcIiBmYWlsZWQ6IFwiK2IpO3ZhciBlPWhoKGwuSyxoLCFlKSxmPWE7MDxlLmxlbmd0aCYmKGY9QmgobCxhKSk7U2IobC5jYSxmLGUpO0RoKGMsYixkKX0pO3IoYixmdW5jdGlvbihiLGMpe3ZhciBkPUVoKGwsYS5uKGMpKTtCaChsLGQpfSk7U2IodGhpcy5jYSxcbmEsW10pfX07ZnVuY3Rpb24gQ2goYSl7YS5mKFwib25EaXNjb25uZWN0RXZlbnRzXCIpO3ZhciBiPUFoKGEpLGM9W107bmMobGMoYS5pYSxiKSxDLGZ1bmN0aW9uKGIsZSl7Yz1jLmNvbmNhdChmaChhLkssbmV3IEFiKHBnLGIsZSkpKTt2YXIgZj1FaChhLGIpO0JoKGEsZil9KTthLmlhPW5ldyBtYztTYihhLmNhLEMsYyl9Zy54ZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy52YS54ZChhLnRvU3RyaW5nKCksZnVuY3Rpb24oZCxlKXtcIm9rXCI9PT1kJiZaZShjLmlhLGEpO0RoKGIsZCxlKX0pfTtmdW5jdGlvbiBuZihhLGIsYyxkKXt2YXIgZT1NKGMpO2EudmEucGUoYi50b1N0cmluZygpLGUuSCghMCksZnVuY3Rpb24oYyxoKXtcIm9rXCI9PT1jJiZvYyhhLmlhLGIsZSk7RGgoZCxjLGgpfSl9XG5mdW5jdGlvbiBvZihhLGIsYyxkLGUpe3ZhciBmPU0oYyxkKTthLnZhLnBlKGIudG9TdHJpbmcoKSxmLkgoITApLGZ1bmN0aW9uKGMsZCl7XCJva1wiPT09YyYmb2MoYS5pYSxiLGYpO0RoKGUsYyxkKX0pfWZ1bmN0aW9uIHBmKGEsYixjLGQpe3ZhciBlPSEwLGY7Zm9yKGYgaW4gYyllPSExO2U/KEUoXCJvbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLERoKGQsXCJva1wiKSk6YS52YS5jZihiLnRvU3RyaW5nKCksYyxmdW5jdGlvbihlLGYpe2lmKFwib2tcIj09PWUpZm9yKHZhciBsIGluIGMpe3ZhciBtPU0oY1tsXSk7b2MoYS5pYSxiLm4obCksbSl9RGgoZCxlLGYpfSl9ZnVuY3Rpb24gWmYoYSxiLGMpe2M9XCIuaW5mb1wiPT09SihiLnBhdGgpP2EucGQuTmIoYixjKTphLksuTmIoYixjKTtRYihhLmNhLGIucGF0aCxjKX1nLmFiPWZ1bmN0aW9uKCl7dGhpcy5SYSYmdGhpcy5SYS5hYihcInJlcG9faW50ZXJydXB0XCIpfTtcbmcua2M9ZnVuY3Rpb24oKXt0aGlzLlJhJiZ0aGlzLlJhLmtjKFwicmVwb19pbnRlcnJ1cHRcIil9O2cuemU9ZnVuY3Rpb24oYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXthPyh0aGlzLlZjfHwodGhpcy5WYz1uZXcgTWIodGhpcy5WYSkpLGE9dGhpcy5WYy5nZXQoKSk6YT10aGlzLlZhLmdldCgpO3ZhciBiPU1hKHVhKGEpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGIubGVuZ3RoLGEpfSwwKSxjO2ZvcihjIGluIGEpe2Zvcih2YXIgZD1hW2NdLGU9Yy5sZW5ndGg7ZTxiKzI7ZSsrKWMrPVwiIFwiO2NvbnNvbGUubG9nKGMrZCl9fX07Zy5BZT1mdW5jdGlvbihhKXtMYih0aGlzLlZhLGEpO3RoaXMub2cucmZbYV09ITB9O2cuZj1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO3RoaXMuUmEmJihiPXRoaXMuUmEuaWQrXCI6XCIpO0UoYixhcmd1bWVudHMpfTtcbmZ1bmN0aW9uIERoKGEsYixjKXthJiZ1YihmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKG51bGwpO2Vsc2V7dmFyIGQ9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxlPWQ7YyYmKGUrPVwiOiBcIitjKTtlPUVycm9yKGUpO2UuY29kZT1kO2EoZSl9fSl9O2Z1bmN0aW9uIEZoKGEsYixjLGQsZSl7ZnVuY3Rpb24gZigpe31hLmYoXCJ0cmFuc2FjdGlvbiBvbiBcIitiKTt2YXIgaD1uZXcgVShhLGIpO2guZ2MoXCJ2YWx1ZVwiLGYpO2M9e3BhdGg6Yix1cGRhdGU6YyxHOmQsc3RhdHVzOm51bGwsZWY6cmMoKSxGZTplLG9mOjAsUmQ6ZnVuY3Rpb24oKXtoLkljKFwidmFsdWVcIixmKX0sVGQ6bnVsbCxCYTpudWxsLGNkOm51bGwsZGQ6bnVsbCxlZDpudWxsfTtkPWEuSy5BYShiLHZvaWQgMCl8fEc7Yy5jZD1kO2Q9Yy51cGRhdGUoZC5IKCkpO2lmKG4oZCkpe2VmKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLGQsYy5wYXRoKTtjLnN0YXR1cz0xO2U9S2coYS5tYyxiKTt2YXIgaz1lLkNhKCl8fFtdO2sucHVzaChjKTtMZyhlLGspO1wib2JqZWN0XCI9PT10eXBlb2YgZCYmbnVsbCE9PWQmJmNiKGQsXCIucHJpb3JpdHlcIik/KGs9dyhkLFwiLnByaW9yaXR5XCIpLEgoY2YoayksXCJJbnZhbGlkIHByaW9yaXR5IHJldHVybmVkIGJ5IHRyYW5zYWN0aW9uLiBQcmlvcml0eSBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwuXCIpKTpcbms9KGEuSy5BYShiKXx8RykuQygpLkgoKTtlPUFoKGEpO2Q9TShkLGspO2U9cGMoZCxlKTtjLmRkPWQ7Yy5lZD1lO2MuQmE9YS52ZCsrO2M9ZWgoYS5LLGIsZSxjLkJhLGMuRmUpO1NiKGEuY2EsYixjKTtHaChhKX1lbHNlIGMuUmQoKSxjLmRkPW51bGwsYy5lZD1udWxsLGMuRyYmKGE9bmV3IFcoYy5jZCxuZXcgVShhLGMucGF0aCksTiksYy5HKG51bGwsITEsYSkpfWZ1bmN0aW9uIEdoKGEsYil7dmFyIGM9Ynx8YS5tYztifHxIaChhLGMpO2lmKG51bGwhPT1jLkNhKCkpe3ZhciBkPUloKGEsYyk7SCgwPGQubGVuZ3RoLFwiU2VuZGluZyB6ZXJvIGxlbmd0aCB0cmFuc2FjdGlvbiBxdWV1ZVwiKTtOYShkLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSYmSmgoYSxjLnBhdGgoKSxkKX1lbHNlIGMua2QoKSYmYy5PKGZ1bmN0aW9uKGIpe0doKGEsYil9KX1cbmZ1bmN0aW9uIEpoKGEsYixjKXtmb3IodmFyIGQ9TGEoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5CYX0pLGU9YS5LLkFhKGIsZCl8fEcsZD1lLGU9ZS5oYXNoKCksZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgaD1jW2ZdO0goMT09PWguc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKTtoLnN0YXR1cz0yO2gub2YrKzt2YXIgaz1UKGIsaC5wYXRoKSxkPWQuRihrLGguZGQpfWQ9ZC5IKCEwKTthLnZhLnB1dChiLnRvU3RyaW5nKCksZCxmdW5jdGlvbihkKXthLmYoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDpiLnRvU3RyaW5nKCksc3RhdHVzOmR9KTt2YXIgZT1bXTtpZihcIm9rXCI9PT1kKXtkPVtdO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspe2NbZl0uc3RhdHVzPTM7ZT1lLmNvbmNhdChoaChhLkssY1tmXS5CYSkpO2lmKGNbZl0uRyl7dmFyIGg9Y1tmXS5lZCxrPW5ldyBVKGEsY1tmXS5wYXRoKTtkLnB1c2gocShjW2ZdLkcsXG5udWxsLG51bGwsITAsbmV3IFcoaCxrLE4pKSl9Y1tmXS5SZCgpfUhoKGEsS2coYS5tYyxiKSk7R2goYSk7U2IoYS5jYSxiLGUpO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspdWIoZFtmXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09ZClmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTQ9PT1jW2ZdLnN0YXR1cz81OjE7ZWxzZSBmb3IoTyhcInRyYW5zYWN0aW9uIGF0IFwiK2IudG9TdHJpbmcoKStcIiBmYWlsZWQ6IFwiK2QpLGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdLnN0YXR1cz01LGNbZl0uVGQ9ZDtCaChhLGIpfX0sZSl9ZnVuY3Rpb24gQmgoYSxiKXt2YXIgYz1LaChhLGIpLGQ9Yy5wYXRoKCksYz1JaChhLGMpO0xoKGEsYyxkKTtyZXR1cm4gZH1cbmZ1bmN0aW9uIExoKGEsYixjKXtpZigwIT09Yi5sZW5ndGgpe2Zvcih2YXIgZD1bXSxlPVtdLGY9S2EoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEuc3RhdHVzfSksZj1MYShmLGZ1bmN0aW9uKGEpe3JldHVybiBhLkJhfSksaD0wO2g8Yi5sZW5ndGg7aCsrKXt2YXIgaz1iW2hdLGw9VChjLGsucGF0aCksbT0hMSx1O0gobnVsbCE9PWwsXCJyZXJ1blRyYW5zYWN0aW9uc1VuZGVyTm9kZV86IHJlbGF0aXZlUGF0aCBzaG91bGQgbm90IGJlIG51bGwuXCIpO2lmKDU9PT1rLnN0YXR1cyltPSEwLHU9ay5UZCxlPWUuY29uY2F0KGhoKGEuSyxrLkJhLCEwKSk7ZWxzZSBpZigxPT09ay5zdGF0dXMpaWYoMjU8PWsub2YpbT0hMCx1PVwibWF4cmV0cnlcIixlPWUuY29uY2F0KGhoKGEuSyxrLkJhLCEwKSk7ZWxzZXt2YXIgej1hLksuQWEoay5wYXRoLGYpfHxHO2suY2Q9ejt2YXIgRj1iW2hdLnVwZGF0ZSh6LkgoKSk7bihGKT8oZWYoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsRixcbmsucGF0aCksbD1NKEYpLFwib2JqZWN0XCI9PT10eXBlb2YgRiYmbnVsbCE9RiYmY2IoRixcIi5wcmlvcml0eVwiKXx8KGw9bC5mYSh6LkMoKSkpLHo9ay5CYSxGPUFoKGEpLEY9cGMobCxGKSxrLmRkPWwsay5lZD1GLGsuQmE9YS52ZCsrLFFhKGYseiksZT1lLmNvbmNhdChlaChhLkssay5wYXRoLEYsay5CYSxrLkZlKSksZT1lLmNvbmNhdChoaChhLksseiwhMCkpKToobT0hMCx1PVwibm9kYXRhXCIsZT1lLmNvbmNhdChoaChhLkssay5CYSwhMCkpKX1TYihhLmNhLGMsZSk7ZT1bXTttJiYoYltoXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGJbaF0uUmQsTWF0aC5mbG9vcigwKSksYltoXS5HJiYoXCJub2RhdGFcIj09PXU/KGs9bmV3IFUoYSxiW2hdLnBhdGgpLGQucHVzaChxKGJbaF0uRyxudWxsLG51bGwsITEsbmV3IFcoYltoXS5jZCxrLE4pKSkpOmQucHVzaChxKGJbaF0uRyxudWxsLEVycm9yKHUpLCExLG51bGwpKSkpfUhoKGEsYS5tYyk7Zm9yKGg9MDtoPGQubGVuZ3RoO2grKyl1YihkW2hdKTtHaChhKX19XG5mdW5jdGlvbiBLaChhLGIpe2Zvcih2YXIgYyxkPWEubWM7bnVsbCE9PShjPUooYikpJiZudWxsPT09ZC5DYSgpOylkPUtnKGQsYyksYj1EKGIpO3JldHVybiBkfWZ1bmN0aW9uIEloKGEsYil7dmFyIGM9W107TWgoYSxiLGMpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmVmLWIuZWZ9KTtyZXR1cm4gY31mdW5jdGlvbiBNaChhLGIsYyl7dmFyIGQ9Yi5DYSgpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLk8oZnVuY3Rpb24oYil7TWgoYSxiLGMpfSl9ZnVuY3Rpb24gSGgoYSxiKXt2YXIgYz1iLkNhKCk7aWYoYyl7Zm9yKHZhciBkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKTMhPT1jW2VdLnN0YXR1cyYmKGNbZF09Y1tlXSxkKyspO2MubGVuZ3RoPWQ7TGcoYiwwPGMubGVuZ3RoP2M6bnVsbCl9Yi5PKGZ1bmN0aW9uKGIpe0hoKGEsYil9KX1cbmZ1bmN0aW9uIEVoKGEsYil7dmFyIGM9S2goYSxiKS5wYXRoKCksZD1LZyhhLm1jLGIpO09nKGQsZnVuY3Rpb24oYil7TmgoYSxiKX0pO05oKGEsZCk7TmcoZCxmdW5jdGlvbihiKXtOaChhLGIpfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBOaChhLGIpe3ZhciBjPWIuQ2EoKTtpZihudWxsIT09Yyl7Zm9yKHZhciBkPVtdLGU9W10sZj0tMSxoPTA7aDxjLmxlbmd0aDtoKyspNCE9PWNbaF0uc3RhdHVzJiYoMj09PWNbaF0uc3RhdHVzPyhIKGY9PT1oLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxmPWgsY1toXS5zdGF0dXM9NCxjW2hdLlRkPVwic2V0XCIpOihIKDE9PT1jW2hdLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLGNbaF0uUmQoKSxlPWUuY29uY2F0KGhoKGEuSyxjW2hdLkJhLCEwKSksY1toXS5HJiZkLnB1c2gocShjW2hdLkcsbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWY/TGcoYixudWxsKTpjLmxlbmd0aD1mKzE7U2IoYS5jYSxiLnBhdGgoKSxlKTtmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKXViKGRbaF0pfX07ZnVuY3Rpb24gWWUoKXt0aGlzLmxiPXt9O3RoaXMud2Y9ITF9WWUucHJvdG90eXBlLmFiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMubGIpdGhpcy5sYlthXS5hYigpfTtZZS5wcm90b3R5cGUua2M9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5sYil0aGlzLmxiW2FdLmtjKCl9O1llLnByb3RvdHlwZS5hZT1mdW5jdGlvbihhKXt0aGlzLndmPWF9O2NhKFllKTtZZS5wcm90b3R5cGUuaW50ZXJydXB0PVllLnByb3RvdHlwZS5hYjtZZS5wcm90b3R5cGUucmVzdW1lPVllLnByb3RvdHlwZS5rYzt2YXIgWj17fTtaLm5jPVBnO1ouRGF0YUNvbm5lY3Rpb249Wi5uYztQZy5wcm90b3R5cGUubmc9ZnVuY3Rpb24oYSxiKXt0aGlzLnVhKFwicVwiLHtwOmF9LGIpfTtaLm5jLnByb3RvdHlwZS5zaW1wbGVMaXN0ZW49Wi5uYy5wcm90b3R5cGUubmc7UGcucHJvdG90eXBlLkhmPWZ1bmN0aW9uKGEsYil7dGhpcy51YShcImVjaG9cIix7ZDphfSxiKX07Wi5uYy5wcm90b3R5cGUuZWNobz1aLm5jLnByb3RvdHlwZS5IZjtQZy5wcm90b3R5cGUuaW50ZXJydXB0PVBnLnByb3RvdHlwZS5hYjtaLnpmPUNlO1ouUmVhbFRpbWVDb25uZWN0aW9uPVouemY7Q2UucHJvdG90eXBlLnNlbmRSZXF1ZXN0PUNlLnByb3RvdHlwZS51YTtDZS5wcm90b3R5cGUuY2xvc2U9Q2UucHJvdG90eXBlLmNsb3NlO1xuWi5SZj1mdW5jdGlvbihhKXt2YXIgYj1QZy5wcm90b3R5cGUucHV0O1BnLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYyxkLGUsZil7bihmKSYmKGY9YSgpKTtiLmNhbGwodGhpcyxjLGQsZSxmKX07cmV0dXJuIGZ1bmN0aW9uKCl7UGcucHJvdG90eXBlLnB1dD1ifX07Wi5oaWphY2tIYXNoPVouUmY7Wi55Zj1IYjtaLkNvbm5lY3Rpb25UYXJnZXQ9Wi55ZjtaLmphPWZ1bmN0aW9uKGEpe3JldHVybiBhLmphKCl9O1oucXVlcnlJZGVudGlmaWVyPVouamE7Wi5VZj1mdW5jdGlvbihhKXtyZXR1cm4gYS51LlJhLiR9O1oubGlzdGVucz1aLlVmO1ouYWU9ZnVuY3Rpb24oYSl7WWUuVmIoKS5hZShhKX07Wi5mb3JjZVJlc3RDbGllbnQ9Wi5hZTtaLkNvbnRleHQ9WWU7ZnVuY3Rpb24gVShhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIFRlKSl0aHJvdyBFcnJvcihcIm5ldyBGaXJlYmFzZSgpIG5vIGxvbmdlciBzdXBwb3J0ZWQgLSB1c2UgYXBwLmRhdGFiYXNlKCkuXCIpO1guY2FsbCh0aGlzLGEsYixmZSwhMSk7dGhpcy50aGVuPXZvaWQgMDt0aGlzW1wiY2F0Y2hcIl09dm9pZCAwfWxhKFUsWCk7Zz1VLnByb3RvdHlwZTtnLmdldEtleT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMucGF0aC5lKCk/bnVsbDpCZCh0aGlzLnBhdGgpfTtcbmcubj1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuY2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoZ2EoYSkpYT1TdHJpbmcoYSk7ZWxzZSBpZighKGEgaW5zdGFuY2VvZiBMKSlpZihudWxsPT09Sih0aGlzLnBhdGgpKXt2YXIgYj1hO2ImJihiPWIucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKTtsZihcIkZpcmViYXNlLmNoaWxkXCIsYil9ZWxzZSBsZihcIkZpcmViYXNlLmNoaWxkXCIsYSk7cmV0dXJuIG5ldyBVKHRoaXMudSx0aGlzLnBhdGgubihhKSl9O2cuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLnBhcmVudFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt2YXIgYT10aGlzLnBhdGgucGFyZW50KCk7cmV0dXJuIG51bGw9PT1hP251bGw6bmV3IFUodGhpcy51LGEpfTtcbmcuT2Y9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzO251bGwhPT1hLmdldFBhcmVudCgpOylhPWEuZ2V0UGFyZW50KCk7cmV0dXJuIGF9O2cuR2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51LllhfTtnLnNldD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5zZXRcIix0aGlzLnBhdGgpO2RmKFwiRmlyZWJhc2Uuc2V0XCIsYSx0aGlzLnBhdGgsITEpO0EoXCJGaXJlYmFzZS5zZXRcIiwyLGIsITApO3ZhciBjPW5ldyBoYjt0aGlzLnUuSmIodGhpcy5wYXRoLGEsbnVsbCxpYihjLGIpKTtyZXR1cm4gYy5yYX07XG5nLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS51cGRhdGVcIix0aGlzLnBhdGgpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztPKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1nZihcIkZpcmViYXNlLnVwZGF0ZVwiLGEsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UudXBkYXRlXCIsMixiLCEwKTtjPW5ldyBoYjt0aGlzLnUudXBkYXRlKHRoaXMucGF0aCxhLGliKGMsYikpO3JldHVybiBjLnJhfTtcbmcuSmI9ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLnBhdGgpO2RmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnBhdGgsITEpO2hmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMixiKTtBKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMyxjLCEwKTtpZihcIi5sZW5ndGhcIj09PXRoaXMuZ2V0S2V5KCl8fFwiLmtleXNcIj09PXRoaXMuZ2V0S2V5KCkpdGhyb3dcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMuZ2V0S2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO3ZhciBkPW5ldyBoYjt0aGlzLnUuSmIodGhpcy5wYXRoLGEsYixpYihkLGMpKTtyZXR1cm4gZC5yYX07XG5nLnJlbW92ZT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO21mKFwiRmlyZWJhc2UucmVtb3ZlXCIsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UucmVtb3ZlXCIsMSxhLCEwKTtyZXR1cm4gdGhpcy5zZXQobnVsbCxhKX07XG5nLnRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLHRoaXMucGF0aCk7QShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSxhLCExKTtBKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwyLGIsITApO2lmKG4oYykmJlwiYm9vbGVhblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcih5KFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwzLCEwKStcIm11c3QgYmUgYSBib29sZWFuLlwiKTtpZihcIi5sZW5ndGhcIj09PXRoaXMuZ2V0S2V5KCl8fFwiLmtleXNcIj09PXRoaXMuZ2V0S2V5KCkpdGhyb3dcIkZpcmViYXNlLnRyYW5zYWN0aW9uIGZhaWxlZDogXCIrdGhpcy5nZXRLZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBjJiYoYz0hMCk7dmFyIGQ9bmV3IGhiO2hhKGIpJiZqYihkLnJhKTtGaCh0aGlzLnUsdGhpcy5wYXRoLGEsZnVuY3Rpb24oYSxjLGgpe2E/XG5kLnJlamVjdChhKTpkLnJlc29sdmUobmV3IHBiKGMsaCkpO2hhKGIpJiZiKGEsYyxoKX0sYyk7cmV0dXJuIGQucmF9O2cua2c9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLHRoaXMucGF0aCk7aGYoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsYSk7QShcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMixiLCEwKTt2YXIgYz1uZXcgaGI7dGhpcy51LkpiKHRoaXMucGF0aC5uKFwiLnByaW9yaXR5XCIpLGEsbnVsbCxpYihjLGIpKTtyZXR1cm4gYy5yYX07XG5nLnB1c2g9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2UucHVzaFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnB1c2hcIix0aGlzLnBhdGgpO2RmKFwiRmlyZWJhc2UucHVzaFwiLGEsdGhpcy5wYXRoLCEwKTtBKFwiRmlyZWJhc2UucHVzaFwiLDIsYiwhMCk7dmFyIGM9emgodGhpcy51KSxkPXVmKGMpLGM9dGhpcy5uKGQpO2lmKG51bGwhPWEpe3ZhciBlPXRoaXMsZj1jLnNldChhLGIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5uKGQpfSk7Yy50aGVuPXEoZi50aGVuLGYpO2NbXCJjYXRjaFwiXT1xKGYudGhlbixmLHZvaWQgMCk7aGEoYikmJmpiKGYpfXJldHVybiBjfTtnLmliPWZ1bmN0aW9uKCl7bWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3RcIix0aGlzLnBhdGgpO3JldHVybiBuZXcgVih0aGlzLnUsdGhpcy5wYXRoKX07VS5wcm90b3R5cGUuY2hpbGQ9VS5wcm90b3R5cGUubjtVLnByb3RvdHlwZS5zZXQ9VS5wcm90b3R5cGUuc2V0O1UucHJvdG90eXBlLnVwZGF0ZT1VLnByb3RvdHlwZS51cGRhdGU7XG5VLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9VS5wcm90b3R5cGUuSmI7VS5wcm90b3R5cGUucmVtb3ZlPVUucHJvdG90eXBlLnJlbW92ZTtVLnByb3RvdHlwZS50cmFuc2FjdGlvbj1VLnByb3RvdHlwZS50cmFuc2FjdGlvbjtVLnByb3RvdHlwZS5zZXRQcmlvcml0eT1VLnByb3RvdHlwZS5rZztVLnByb3RvdHlwZS5wdXNoPVUucHJvdG90eXBlLnB1c2g7VS5wcm90b3R5cGUub25EaXNjb25uZWN0PVUucHJvdG90eXBlLmliO0xjKFUucHJvdG90eXBlLFwiZGF0YWJhc2VcIixVLnByb3RvdHlwZS5HZik7TGMoVS5wcm90b3R5cGUsXCJrZXlcIixVLnByb3RvdHlwZS5nZXRLZXkpO0xjKFUucHJvdG90eXBlLFwicGFyZW50XCIsVS5wcm90b3R5cGUuZ2V0UGFyZW50KTtMYyhVLnByb3RvdHlwZSxcInJvb3RcIixVLnByb3RvdHlwZS5PZik7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBmaXJlYmFzZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBpbnN0YWxsIEZpcmViYXNlIERhdGFiYXNlIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIik7XG50cnl7ZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwiZGF0YWJhc2VcIixmdW5jdGlvbihhKXt2YXIgYj1ZZS5WYigpLGM9YS5vcHRpb25zLmRhdGFiYXNlVVJMO24oYyl8fEFjKFwiQ2FuJ3QgZGV0ZXJtaW5lIEZpcmViYXNlIERhdGFiYXNlIFVSTC4gIEJlIHN1cmUgdG8gaW5jbHVkZSBkYXRhYmFzZVVSTCBvcHRpb24gd2hlbiBjYWxsaW5nIGZpcmViYXNlLmludGlhbGl6ZUFwcCgpLlwiKTt2YXIgZD1CYyhjKSxjPWQuamM7WGUoXCJJbnZhbGlkIEZpcmViYXNlIERhdGFiYXNlIFVSTFwiLGQpO2QucGF0aC5lKCl8fEFjKFwiRGF0YWJhc2UgVVJMIG11c3QgcG9pbnQgdG8gdGhlIHJvb3Qgb2YgYSBGaXJlYmFzZSBEYXRhYmFzZSAobm90IGluY2x1ZGluZyBhIGNoaWxkIHBhdGgpLlwiKTsoZD13KGIubGIsYS5uYW1lKSkmJkFjKFwiRklSRUJBU0UgSU5URVJOQUwgRVJST1I6IERhdGFiYXNlIGluaXRpYWxpemVkIG11bHRpcGxlIHRpbWVzLlwiKTtkPW5ldyBUZShjLGIud2YsYSk7Yi5sYlthLm5hbWVdPVxuZDtyZXR1cm4gZC5ZYX0se1JlZmVyZW5jZTpVLFF1ZXJ5OlgsRGF0YWJhc2U6U2UsZW5hYmxlTG9nZ2luZzp4YyxJTlRFUk5BTDpZLFRFU1RfQUNDRVNTOlosU2VydmVyVmFsdWU6VmV9KX1jYXRjaChPaCl7QWMoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgdGhlIEZpcmViYXNlIERhdGFiYXNlIFNlcnZpY2UgKFwiK09oK1wiKVwiKX07fSkoKTtcblxufSkuY2FsbCh0eXBlb2YgZ2xvYmFsICE9PSB1bmRlZmluZWQgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gdW5kZWZpbmVkID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZCA/IHdpbmRvdyA6IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2UuZGF0YWJhc2U7XG4iLCIvKipcbiAqICBGaXJlYmFzZSBsaWJyYXJpZXMgZm9yIGJyb3dzZXIgLSBucG0gcGFja2FnZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiAgIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcbiAqL1xudmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbnJlcXVpcmUoJy4vYXV0aCcpO1xucmVxdWlyZSgnLi9kYXRhYmFzZScpO1xucmVxdWlyZSgnLi9zdG9yYWdlJyk7XG5yZXF1aXJlKCcuL21lc3NhZ2luZycpO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZTtcbiIsInZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG4oZnVuY3Rpb24oKXtcbi8qISBAbGljZW5zZSBGaXJlYmFzZSB2My42LjlcbiAgICBCdWlsZDogMy42LjktcmMuMVxuICAgIFRlcm1zOiBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vdGVybXMvICovXG4oZnVuY3Rpb24oKXt2YXIgZj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7Zm9yKHZhciBkIGluIGIpaWYoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMpe3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixkKTtlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxkLGUpfWVsc2UgYVtkXT1iW2RdfSxnPXRoaXMsaD1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPVxudHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn0saz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5CPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EudT1mdW5jdGlvbihhLGMsbil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtcbnJldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGQpfX07dmFyIG09e30scD0obVtcIm9ubHktYXZhaWxhYmxlLWluLXdpbmRvd1wiXT1cIlRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBpbiBhIFdpbmRvdyBjb250ZXh0LlwiLG1bXCJvbmx5LWF2YWlsYWJsZS1pbi1zd1wiXT1cIlRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBpbiBhIHNlcnZpY2Ugd29ya2VyIGNvbnRleHQuXCIsbVtcInNob3VsZC1iZS1vdmVycmlkZW5cIl09XCJUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGVuIGJ5IGV4dGVuZGVkIGNsYXNzZXMuXCIsbVtcImJhZC1zZW5kZXItaWRcIl09XCJQbGVhc2UgZW5zdXJlIHRoYXQgJ21lc3NhZ2luZ1NlbmRlcklkJyBpcyBzZXQgY29ycmVjdGx5IGluIHRoZSBvcHRpb25zIHBhc3NlZCBpbnRvIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKS5cIixtW1wicGVybWlzc2lvbi1kZWZhdWx0XCJdPVwiVGhlIHJlcXVpcmVkIHBlcm1pc3Npb25zIHdlcmUgbm90IGdyYW50ZWQgYW5kIGRpc21pc3NlZCBpbnN0ZWFkLlwiLG1bXCJwZXJtaXNzaW9uLWJsb2NrZWRcIl09XCJUaGUgcmVxdWlyZWQgcGVybWlzc2lvbnMgd2VyZSBub3QgZ3JhbnRlZCBhbmQgYmxvY2tlZCBpbnN0ZWFkLlwiLFxubVtcInVuc3VwcG9ydGVkLWJyb3dzZXJcIl09XCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBBUEkncyByZXF1aXJlZCB0byB1c2UgdGhlIGZpcmViYXNlIFNESy5cIixtW1wibm90aWZpY2F0aW9ucy1ibG9ja2VkXCJdPVwiTm90aWZpY2F0aW9ucyBoYXZlIGJlZW4gYmxvY2tlZC5cIixtW1wiZmFpbGVkLXNlcnZpY2V3b3JrZXItcmVnaXN0cmF0aW9uXCJdPVwiV2UgYXJlIHVuYWJsZSB0byByZWdpc3RlciB0aGUgZGVmYXVsdCBzZXJ2aWNlIHdvcmtlci4geyRicm93c2VyRXJyb3JNZXNzYWdlfVwiLG1bXCJzdy1yZWdpc3RyYXRpb24tZXhwZWN0ZWRcIl09XCJBIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiB3YXMgdGhlIGV4cGVjdGVkIGlucHV0LlwiLG1bXCJnZXQtc3Vic2NyaXB0aW9uLWZhaWxlZFwiXT1cIlRoZXJlIHdhcyBhbiBlcnJvciB3aGVuIHRyeWluZyB0byBnZXQgYW55IGV4aXN0aW5nIFB1c2ggU3Vic2NyaXB0aW9ucy5cIixtW1wiaW52YWxpZC1zYXZlZC10b2tlblwiXT1cIlVuYWJsZSB0byBhY2Nlc3MgZGV0YWlscyBvZiB0aGUgc2F2ZWQgdG9rZW4uXCIsXG5tW1wic3ctcmVnLXJlZHVuZGFudFwiXT1cIlRoZSBzZXJ2aWNlIHdvcmtlciBiZWluZyB1c2VkIGZvciBwdXNoIHdhcyBtYWRlIHJlZHVuZGFudC5cIixtW1widG9rZW4tc3Vic2NyaWJlLWZhaWxlZFwiXT1cIkEgcHJvYmxlbSBvY2N1cmVkIHdoaWxlIHN1YnNjcmliaW5nIHRoZSB1c2VyIHRvIEZDTTogeyRtZXNzYWdlfVwiLG1bXCJ0b2tlbi1zdWJzY3JpYmUtbm8tdG9rZW5cIl09XCJGQ00gcmV0dXJuZWQgbm8gdG9rZW4gd2hlbiBzdWJzY3JpYmluZyB0aGUgdXNlciB0byBwdXNoLlwiLG1bXCJ0b2tlbi1zdWJzY3JpYmUtbm8tcHVzaC1zZXRcIl09XCJGQ00gcmV0dXJuZWQgYW4gaW52YWxpZCByZXNwb25zZSB3aGVuIGdldHRpbmcgYW4gRkNNIHRva2VuLlwiLG1bXCJ1c2Utc3ctYmVmb3JlLWdldC10b2tlblwiXT1cIllvdSBtdXN0IGNhbGwgdXNlU2VydmljZVdvcmtlcigpIGJlZm9yZSBjYWxsaW5nIGdldFRva2VuKCkgdG8gZW5zdXJlIHlvdXIgc2VydmljZSB3b3JrZXIgaXMgdXNlZC5cIixtW1wiaW52YWxpZC1kZWxldGUtdG9rZW5cIl09XG5cIllvdSBtdXN0IHBhc3MgYSB2YWxpZCB0b2tlbiBpbnRvIGRlbGV0ZVRva2VuKCksIGkuZS4gdGhlIHRva2VuIGZyb20gZ2V0VG9rZW4oKS5cIixtW1wiZGVsZXRlLXRva2VuLW5vdC1mb3VuZFwiXT1cIlRoZSBkZWxldGlvbiBhdHRlbXB0IGZvciB0b2tlbiBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGFzIHRoZSB0b2tlbiB3YXMgbm90IGZvdW5kLlwiLG1bXCJiZy1oYW5kbGVyLWZ1bmN0aW9uLWV4cGVjdGVkXCJdPVwiVGhlIGlucHV0IHRvIHNldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlcigpIG11c3QgYmUgYSBmdW5jdGlvbi5cIixtW1wibm8td2luZG93LWNsaWVudC10by1tc2dcIl09XCJBbiBhdHRlbXB0IHdhcyBtYWRlIHRvIG1lc3NhZ2UgYSBub24tZXhpc3RhbnQgd2luZG93IGNsaWVudC5cIixtW1widW5hYmxlLXRvLXJlc3Vic2NyaWJlXCJdPVwiVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIHJlLXN1YnNjcmliaW5nIHRoZSBGQ00gdG9rZW4gZm9yIHB1c2ggbWVzc2FnaW5nLiBXaWxsIGhhdmUgdG8gcmVzdWJzY3JpYmUgdGhlIHVzZXIgb24gbmV4dCB2aXNpdC4geyRtZXNzYWdlfVwiLFxubVtcIm5vLWZjbS10b2tlbi1mb3ItcmVzdWJzY3JpYmVcIl09XCJDb3VsZCBub3QgZmluZCBhbiBGQ00gdG9rZW4gYW5kIGFzIGEgcmVzdWx0LCB1bmFibGUgdG8gcmVzdWJzY3JpYmUuIFdpbGwgaGF2ZSB0byByZXN1YnNjcmliZSB0aGUgdXNlciBvbiBuZXh0IHZpc2l0LlwiLG1bXCJmYWlsZWQtdG8tZGVsZXRlLXRva2VuXCJdPVwiVW5hYmxlIHRvIGRlbGV0ZSB0aGUgY3VycmVudGx5IHNhdmVkIHRva2VuLlwiLG1bXCJuby1zdy1pbi1yZWdcIl09XCJFdmVuIHRob3VnaCB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsLCB0aGVyZSB3YXMgYSBwcm9ibGVtIGFjY2Vzc2luZyB0aGUgc2VydmljZSB3b3JrZXIgaXRzZWxmLlwiLG1bXCJpbmNvcnJlY3QtZ2NtLXNlbmRlci1pZFwiXT1cIlBsZWFzZSBjaGFuZ2UgeW91ciB3ZWIgYXBwIG1hbmlmZXN0J3MgJ2djbV9zZW5kZXJfaWQnIHZhbHVlIHRvICcxMDM5NTM4MDA1MDcnIHRvIHVzZSBGaXJlYmFzZSBtZXNzYWdpbmcuXCIsbSk7dmFyIHE9e3VzZXJWaXNpYmxlT25seTohMCxhcHBsaWNhdGlvblNlcnZlcktleTpuZXcgVWludDhBcnJheShbNCw1MSwxNDgsMjQ3LDIyMywxNjEsMjM1LDE3NywyMjAsMywxNjIsOTQsMjEsMTEzLDIxOSw3MiwyMTEsNDYsMjM3LDIzNywxNzgsNTIsMjE5LDE4Myw3MSw1OCwxMiwxNDMsMTk2LDIwNCwyMjUsMTExLDYwLDE0MCwxMzIsMjIzLDE3MSwxODIsMTAyLDYyLDI0MiwxMiwyMTIsMTM5LDI1NCwyMjcsMjQ5LDExOCw0NywyMCwyOCw5OSw4LDEwNiwxMTEsNDUsMTc3LDI2LDE0OSwxNzYsMjA2LDU1LDE5MiwxNTYsMTEwXSl9O3ZhciByPWZ1bmN0aW9uKGEsYil7dmFyIGM9e307cmV0dXJuIGNbXCJmaXJlYmFzZS1tZXNzYWdpbmctbXNnLXR5cGVcIl09YSxjW1wiZmlyZWJhc2UtbWVzc2FnaW5nLW1zZy1kYXRhXCJdPWIsY307dmFyIHU9ZnVuY3Rpb24oYSl7aWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx1KTtlbHNle3ZhciBiPUVycm9yKCkuc3RhY2s7YiYmKHRoaXMuc3RhY2s9Yil9YSYmKHRoaXMubWVzc2FnZT1TdHJpbmcoYSkpfTtrKHUsRXJyb3IpO3ZhciB2PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9O3ZhciB3PWZ1bmN0aW9uKGEsYil7Yi51bnNoaWZ0KGEpO3UuY2FsbCh0aGlzLHYuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTtrKHcsdSk7dmFyIHg9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXt2YXIgZD1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihiKXZhciBkPWQrKFwiOiBcIitiKSxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTt0aHJvdyBuZXcgdyhcIlwiK2QsZXx8W10pO319O3ZhciB5PW51bGw7dmFyIEE9ZnVuY3Rpb24oYSl7YT1uZXcgVWludDhBcnJheShhKTt2YXIgYj1oKGEpO3goXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgsXCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXJcIik7aWYoIXkpZm9yKHk9e30sYj0wOzY1PmI7YisrKXlbYl09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChiKTtmb3IodmFyIGI9eSxjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrPTMpe3ZhciBlPWFbZF0sbj1kKzE8YS5sZW5ndGgsbD1uP2FbZCsxXTowLHo9ZCsyPGEubGVuZ3RoLHQ9ej9hW2QrMl06MCxNPWU+PjIsZT0oZSYzKTw8NHxsPj40LGw9KGwmMTUpPDwyfHQ+PjYsdD10JjYzO3p8fCh0PTY0LG58fChsPTY0KSk7Yy5wdXNoKGJbTV0sYltlXSxiW2xdLGJbdF0pfXJldHVybiBjLmpvaW4oXCJcIikucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFxuXCJfXCIpLnJlcGxhY2UoLz0rJC8sXCJcIil9O3ZhciBCPW5ldyBmaXJlYmFzZS5JTlRFUk5BTC5FcnJvckZhY3RvcnkoXCJtZXNzYWdpbmdcIixcIk1lc3NhZ2luZ1wiLHApLEM9ZnVuY3Rpb24oKXt0aGlzLmE9bnVsbH0sRD1mdW5jdGlvbihhKXtpZihhLmEpcmV0dXJuIGEuYTthLmE9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxjKXt2YXIgYj1nLmluZGV4ZWREQi5vcGVuKFwiZmNtX3Rva2VuX2RldGFpbHNfZGJcIiwxKTtiLm9uZXJyb3I9ZnVuY3Rpb24oYSl7YyhhLnRhcmdldC5lcnJvcil9O2Iub25zdWNjZXNzPWZ1bmN0aW9uKGIpe2EoYi50YXJnZXQucmVzdWx0KX07Yi5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCIse2tleVBhdGg6XCJzd1Njb3BlXCJ9KTthLmNyZWF0ZUluZGV4KFwiZmNtU2VuZGVySWRcIixcImZjbVNlbmRlcklkXCIse3VuaXF1ZTohMX0pO2EuY3JlYXRlSW5kZXgoXCJmY21Ub2tlblwiLFwiZmNtVG9rZW5cIix7dW5pcXVlOiEwfSl9fSk7XG5yZXR1cm4gYS5hfSxFPWZ1bmN0aW9uKGEpe2EuYT9hLmEudGhlbihmdW5jdGlvbihiKXtiLmNsb3NlKCk7YS5hPW51bGx9KTpQcm9taXNlLnJlc29sdmUoKX0sRj1mdW5jdGlvbihhLGIpe3JldHVybiBEKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7dmFyIGQ9YS50cmFuc2FjdGlvbihbXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCJdKS5vYmplY3RTdG9yZShcImZjbV90b2tlbl9vYmplY3RfU3RvcmVcIikuaW5kZXgoXCJmY21Ub2tlblwiKS5nZXQoYik7ZC5vbmVycm9yPWZ1bmN0aW9uKGEpe2UoYS50YXJnZXQuZXJyb3IpfTtkLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXtjKGEudGFyZ2V0LnJlc3VsdCl9fSl9KX0sRz1mdW5jdGlvbihhLGIpe3JldHVybiBEKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7dmFyIGQ9W10sbD1hLnRyYW5zYWN0aW9uKFtcImZjbV90b2tlbl9vYmplY3RfU3RvcmVcIl0pLm9iamVjdFN0b3JlKFwiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiKS5vcGVuQ3Vyc29yKCk7XG5sLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZShhLnRhcmdldC5lcnJvcil9O2wub25zdWNjZXNzPWZ1bmN0aW9uKGEpeyhhPWEudGFyZ2V0LnJlc3VsdCk/KGEudmFsdWUuZmNtU2VuZGVySWQ9PT1iJiZkLnB1c2goYS52YWx1ZSksYS5jb250aW51ZSgpKTpjKGQpfX0pfSl9LEg9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUEoYi5nZXRLZXkoXCJwMjU2ZGhcIikpLGU9QShiLmdldEtleShcImF1dGhcIikpO2E9XCJhdXRob3JpemVkX2VudGl0eT1cIithK1wiJlwiKyhcImVuZHBvaW50PVwiK2IuZW5kcG9pbnQrXCImXCIpKyhcImVuY3J5cHRpb25fa2V5PVwiK2QrXCImXCIpKyhcImVuY3J5cHRpb25fYXV0aD1cIitlKTtjJiYoYSs9XCImcHVzaFNldD1cIitjKTtjPW5ldyBIZWFkZXJzO2MuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7cmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9mY20uZ29vZ2xlYXBpcy5jb20vZmNtL2Nvbm5lY3Qvc3Vic2NyaWJlXCIse21ldGhvZDpcIlBPU1RcIixcbmhlYWRlcnM6Yyxib2R5OmF9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmpzb24oKX0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoYS5lcnJvcil0aHJvdyBCLmNyZWF0ZShcInRva2VuLXN1YnNjcmliZS1mYWlsZWRcIix7bWVzc2FnZTphLmVycm9yLm1lc3NhZ2V9KTtpZighYS50b2tlbil0aHJvdyBCLmNyZWF0ZShcInRva2VuLXN1YnNjcmliZS1uby10b2tlblwiKTtpZighYS5wdXNoU2V0KXRocm93IEIuY3JlYXRlKFwidG9rZW4tc3Vic2NyaWJlLW5vLXB1c2gtc2V0XCIpO3JldHVybnt0b2tlbjphLnRva2VuLHB1c2hTZXQ6YS5wdXNoU2V0fX0pfSxJPWZ1bmN0aW9uKGEsYixjLGQsZSxuKXt2YXIgbD17c3dTY29wZTpjLnNjb3BlLGVuZHBvaW50OmQuZW5kcG9pbnQsYXV0aDpBKGQuZ2V0S2V5KFwiYXV0aFwiKSkscDI1NmRoOkEoZC5nZXRLZXkoXCJwMjU2ZGhcIikpLGZjbVRva2VuOmUsZmNtUHVzaFNldDpuLGZjbVNlbmRlcklkOmJ9O3JldHVybiBEKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsXG5jKXt2YXIgZD1hLnRyYW5zYWN0aW9uKFtcImZjbV90b2tlbl9vYmplY3RfU3RvcmVcIl0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCIpLnB1dChsKTtkLm9uZXJyb3I9ZnVuY3Rpb24oYSl7YyhhLnRhcmdldC5lcnJvcil9O2Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7YigpfX0pfSl9O1xuQy5wcm90b3R5cGUuaT1mdW5jdGlvbihhLGIpe3JldHVybiBiIGluc3RhbmNlb2YgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbj9cInN0cmluZ1wiIT09dHlwZW9mIGF8fDA9PT1hLmxlbmd0aD9Qcm9taXNlLnJlamVjdChCLmNyZWF0ZShcImJhZC1zZW5kZXItaWRcIikpOkcodGhpcyxhKS50aGVuKGZ1bmN0aW9uKGMpe2lmKDAhPT1jLmxlbmd0aCl7dmFyIGQ9Yy5maW5kSW5kZXgoZnVuY3Rpb24oYyl7cmV0dXJuIGIuc2NvcGU9PT1jLnN3U2NvcGUmJmE9PT1jLmZjbVNlbmRlcklkfSk7aWYoLTEhPT1kKXJldHVybiBjW2RdfX0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKS5jYXRjaChmdW5jdGlvbigpe3Rocm93IEIuY3JlYXRlKFwiZ2V0LXN1YnNjcmlwdGlvbi1mYWlsZWRcIik7fSkudGhlbihmdW5jdGlvbihiKXt2YXIgYztpZihjPWIpYz1iLmVuZHBvaW50PT09YS5lbmRwb2ludCYmQShiLmdldEtleShcImF1dGhcIikpPT09YS5hdXRoJiZcbkEoYi5nZXRLZXkoXCJwMjU2ZGhcIikpPT09YS5wMjU2ZGg7aWYoYylyZXR1cm4gYS5mY21Ub2tlbn0pfSk6UHJvbWlzZS5yZWplY3QoQi5jcmVhdGUoXCJzdy1yZWdpc3RyYXRpb24tZXhwZWN0ZWRcIikpfTtDLnByb3RvdHlwZS5nZXRTYXZlZFRva2VuPUMucHJvdG90eXBlLmk7XG5DLnByb3RvdHlwZS5oPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm5cInN0cmluZ1wiIT09dHlwZW9mIGF8fDA9PT1hLmxlbmd0aD9Qcm9taXNlLnJlamVjdChCLmNyZWF0ZShcImJhZC1zZW5kZXItaWRcIikpOmIgaW5zdGFuY2VvZiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uP2IucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmIucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHEpfSkudGhlbihmdW5jdGlvbihkKXtyZXR1cm4gSChhLGQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIEkoYyxhLGIsZCxlLnRva2VuLGUucHVzaFNldCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLnRva2VufSl9KX0pOlByb21pc2UucmVqZWN0KEIuY3JlYXRlKFwic3ctcmVnaXN0cmF0aW9uLWV4cGVjdGVkXCIpKX07Qy5wcm90b3R5cGUuY3JlYXRlVG9rZW49Qy5wcm90b3R5cGUuaDtcbkMucHJvdG90eXBlLmRlbGV0ZVRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuXCJzdHJpbmdcIiE9PXR5cGVvZiBhfHwwPT09YS5sZW5ndGg/UHJvbWlzZS5yZWplY3QoQi5jcmVhdGUoXCJpbnZhbGlkLWRlbGV0ZS10b2tlblwiKSk6Rih0aGlzLGEpLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgQi5jcmVhdGUoXCJkZWxldGUtdG9rZW4tbm90LWZvdW5kXCIpO3JldHVybiBEKGIpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZCl7dmFyIGU9Yi50cmFuc2FjdGlvbihbXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCJdLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiKS5kZWxldGUoYS5zd1Njb3BlKTtlLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZChhLnRhcmdldC5lcnJvcil9O2Uub25zdWNjZXNzPWZ1bmN0aW9uKGIpezA9PT1iLnRhcmdldC5yZXN1bHQ/ZChCLmNyZWF0ZShcImZhaWxlZC10by1kZWxldGUtdG9rZW5cIikpOlxuYyhhKX19KX0pfSl9O3ZhciBKPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5hPW5ldyBmaXJlYmFzZS5JTlRFUk5BTC5FcnJvckZhY3RvcnkoXCJtZXNzYWdpbmdcIixcIk1lc3NhZ2luZ1wiLHApO2lmKCFhLm9wdGlvbnMubWVzc2FnaW5nU2VuZGVySWR8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5vcHRpb25zLm1lc3NhZ2luZ1NlbmRlcklkKXRocm93IHRoaXMuYS5jcmVhdGUoXCJiYWQtc2VuZGVyLWlkXCIpO3RoaXMubD1hLm9wdGlvbnMubWVzc2FnaW5nU2VuZGVySWQ7dGhpcy5jPW5ldyBDO3RoaXMuYXBwPWE7dGhpcy5JTlRFUk5BTD17fTt0aGlzLklOVEVSTkFMLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiBiLmRlbGV0ZX19O1xuSi5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9Tm90aWZpY2F0aW9uLnBlcm1pc3Npb247cmV0dXJuXCJncmFudGVkXCIhPT1iP1wiZGVuaWVkXCI9PT1iP1Byb21pc2UucmVqZWN0KHRoaXMuYS5jcmVhdGUoXCJub3RpZmljYXRpb25zLWJsb2NrZWRcIikpOlByb21pc2UucmVzb2x2ZShudWxsKTp0aGlzLmYoKS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBhLmMuaShhLmwsYikudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYz9jOmEuYy5oKGEubCxiKX0pfSl9O0oucHJvdG90eXBlLmdldFRva2VuPUoucHJvdG90eXBlLmdldFRva2VuO0oucHJvdG90eXBlLmRlbGV0ZVRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYy5kZWxldGVUb2tlbihhKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZigpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpOm51bGx9KS50aGVuKGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGEudW5zdWJzY3JpYmUoKX0pfTtcbkoucHJvdG90eXBlLmRlbGV0ZVRva2VuPUoucHJvdG90eXBlLmRlbGV0ZVRva2VuO0oucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aHJvdyB0aGlzLmEuY3JlYXRlKFwic2hvdWxkLWJlLW92ZXJyaWRlblwiKTt9O0oucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dGhyb3cgdGhpcy5hLmNyZWF0ZShcIm9ubHktYXZhaWxhYmxlLWluLXdpbmRvd1wiKTt9O0oucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24oKXt0aHJvdyB0aGlzLmEuY3JlYXRlKFwib25seS1hdmFpbGFibGUtaW4td2luZG93XCIpO307Si5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlcj1KLnByb3RvdHlwZS51c2VTZXJ2aWNlV29ya2VyO0oucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbigpe3Rocm93IHRoaXMuYS5jcmVhdGUoXCJvbmx5LWF2YWlsYWJsZS1pbi13aW5kb3dcIik7fTtKLnByb3RvdHlwZS5vbk1lc3NhZ2U9Si5wcm90b3R5cGUub25NZXNzYWdlO1xuSi5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g9ZnVuY3Rpb24oKXt0aHJvdyB0aGlzLmEuY3JlYXRlKFwib25seS1hdmFpbGFibGUtaW4td2luZG93XCIpO307Si5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g9Si5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g7Si5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyPWZ1bmN0aW9uKCl7dGhyb3cgdGhpcy5hLmNyZWF0ZShcIm9ubHktYXZhaWxhYmxlLWluLXN3XCIpO307Si5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyPUoucHJvdG90eXBlLnNldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlcjtKLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtFKHRoaXMuYyl9O3ZhciBLPXNlbGYsUD1mdW5jdGlvbihhKXtKLmNhbGwodGhpcyxhKTt2YXIgYj10aGlzO3RoaXMuYT1uZXcgZmlyZWJhc2UuSU5URVJOQUwuRXJyb3JGYWN0b3J5KFwibWVzc2FnaW5nXCIsXCJNZXNzYWdpbmdcIixwKTtLLmFkZEV2ZW50TGlzdGVuZXIoXCJwdXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIEwoYixhKX0sITEpO0suYWRkRXZlbnRMaXN0ZW5lcihcInB1c2hzdWJzY3JpcHRpb25jaGFuZ2VcIixmdW5jdGlvbihhKXtyZXR1cm4gTihiLGEpfSwhMSk7Sy5hZGRFdmVudExpc3RlbmVyKFwibm90aWZpY2F0aW9uY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gTyhiLGEpfSwhMSk7dGhpcy5iPW51bGx9O2YoUCxKKTtcbnZhciBMPWZ1bmN0aW9uKGEsYil7dmFyIGM7dHJ5e2M9Yi5kYXRhLmpzb24oKX1jYXRjaChlKXtyZXR1cm59dmFyIGQ9USgpLnRoZW4oZnVuY3Rpb24oYil7aWYoYil7aWYoYy5ub3RpZmljYXRpb258fGEuYilyZXR1cm4gUihhLGMpfWVsc2V7aWYoKGI9YykmJlwib2JqZWN0XCI9PT10eXBlb2YgYi5ub3RpZmljYXRpb24pe3ZhciBkPU9iamVjdC5hc3NpZ24oe30sYi5ub3RpZmljYXRpb24pLGU9e307ZC5kYXRhPShlLkZDTV9NU0c9YixlKTtiPWR9ZWxzZSBiPXZvaWQgMDtpZihiKXJldHVybiBLLnJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKGIudGl0bGV8fFwiXCIsYik7aWYoYS5iKXJldHVybiBhLmIoYyl9fSk7Yi53YWl0VW50aWwoZCl9LE49ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihiKXtpZighYil0aHJvdyBhLmEuY3JlYXRlKFwibm8tZmNtLXRva2VuLWZvci1yZXN1YnNjcmliZVwiKTt2YXIgYz1hLmM7cmV0dXJuIEYoYyxiKS50aGVuKGZ1bmN0aW9uKGIpe2lmKCFiKXRocm93IGEuYS5jcmVhdGUoXCJpbnZhbGlkLXNhdmVkLXRva2VuXCIpO1xucmV0dXJuIEsucmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZShxKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBIKGIudyxhLGIudil9KS5jYXRjaChmdW5jdGlvbihkKXtyZXR1cm4gYy5kZWxldGVUb2tlbihiLkEpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBhLmEuY3JlYXRlKFwidW5hYmxlLXRvLXJlc3Vic2NyaWJlXCIse21lc3NhZ2U6ZH0pO30pfSl9KX0pO2Iud2FpdFVudGlsKGMpfSxPPWZ1bmN0aW9uKGEsYil7aWYoYi5ub3RpZmljYXRpb24mJmIubm90aWZpY2F0aW9uLmRhdGEmJmIubm90aWZpY2F0aW9uLmRhdGEuRkNNX01TRyl7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtiLm5vdGlmaWNhdGlvbi5jbG9zZSgpO3ZhciBjPWIubm90aWZpY2F0aW9uLmRhdGEuRkNNX01TRyxkPWMubm90aWZpY2F0aW9uLmNsaWNrX2FjdGlvbjtpZihkKXt2YXIgZT1TKGQpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpLLmNsaWVudHMub3BlbldpbmRvdyhkKX0pLnRoZW4oZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gZGVsZXRlIGMubm90aWZpY2F0aW9uLFxuVChhLGIscihcIm5vdGlmaWNhdGlvbi1jbGlja2VkXCIsYykpfSk7Yi53YWl0VW50aWwoZSl9fX07UC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKGEmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXRocm93IHRoaXMuYS5jcmVhdGUoXCJiZy1oYW5kbGVyLWZ1bmN0aW9uLWV4cGVjdGVkXCIpO3RoaXMuYj1hfTtQLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXI9UC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyO1xudmFyIFM9ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBVUkwoYSkpLmhyZWY7cmV0dXJuIEsuY2xpZW50cy5tYXRjaEFsbCh7dHlwZTpcIndpbmRvd1wiLGluY2x1ZGVVbmNvbnRyb2xsZWQ6ITB9KS50aGVuKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1udWxsLGU9MDtlPGEubGVuZ3RoO2UrKylpZigobmV3IFVSTChhW2VdLnVybCkpLmhyZWY9PT1iKXtjPWFbZV07YnJlYWt9aWYoYylyZXR1cm4gYy5mb2N1cygpLGN9KX0sVD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZSl7aWYoIWIpcmV0dXJuIGUoYS5hLmNyZWF0ZShcIm5vLXdpbmRvdy1jbGllbnQtdG8tbXNnXCIpKTtiLnBvc3RNZXNzYWdlKGMpO2QoKX0pfSxRPWZ1bmN0aW9uKCl7cmV0dXJuIEsuY2xpZW50cy5tYXRjaEFsbCh7dHlwZTpcIndpbmRvd1wiLGluY2x1ZGVVbmNvbnRyb2xsZWQ6ITB9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuXCJ2aXNpYmxlXCI9PT1cbmEudmlzaWJpbGl0eVN0YXRlfSl9KX0sUj1mdW5jdGlvbihhLGIpe3JldHVybiBLLmNsaWVudHMubWF0Y2hBbGwoe3R5cGU6XCJ3aW5kb3dcIixpbmNsdWRlVW5jb250cm9sbGVkOiEwfSkudGhlbihmdW5jdGlvbihjKXt2YXIgZD1yKFwicHVzaC1tc2ctcmVjZWl2ZWRcIixiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYy5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIFQoYSxiLGQpfSkpfSl9O1AucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEsucmVnaXN0cmF0aW9uKX07dmFyIFY9ZnVuY3Rpb24oYSl7Si5jYWxsKHRoaXMsYSk7dmFyIGI9dGhpczt0aGlzLmo9bnVsbDt0aGlzLm09ZmlyZWJhc2UuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2Iuaj1hfSk7dGhpcy5zPW51bGw7dGhpcy5vPWZpcmViYXNlLklOVEVSTkFMLmNyZWF0ZVN1YnNjcmliZShmdW5jdGlvbihhKXtiLnM9YX0pO1UodGhpcyl9O2YoVixKKTtcblYucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm5cInNlcnZpY2VXb3JrZXJcImluIG5hdmlnYXRvciYmXCJQdXNoTWFuYWdlclwiaW4gd2luZG93JiZcIk5vdGlmaWNhdGlvblwiaW4gd2luZG93JiZTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNob3dOb3RpZmljYXRpb25cIikmJlB1c2hTdWJzY3JpcHRpb24ucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiZ2V0S2V5XCIpP1codGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBKLnByb3RvdHlwZS5nZXRUb2tlbi5jYWxsKGEpfSk6UHJvbWlzZS5yZWplY3QodGhpcy5hLmNyZWF0ZShcInVuc3VwcG9ydGVkLWJyb3dzZXJcIikpfTtWLnByb3RvdHlwZS5nZXRUb2tlbj1WLnByb3RvdHlwZS5nZXRUb2tlbjtcbnZhciBXPWZ1bmN0aW9uKGEpe2lmKGEuZylyZXR1cm4gYS5nO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPVwibWFuaWZlc3RcIl0nKTtiP2EuZz1mZXRjaChiLmhyZWYpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuanNvbigpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KS50aGVuKGZ1bmN0aW9uKGIpe2lmKGImJmIuZ2NtX3NlbmRlcl9pZCYmXCIxMDM5NTM4MDA1MDdcIiE9PWIuZ2NtX3NlbmRlcl9pZCl0aHJvdyBhLmEuY3JlYXRlKFwiaW5jb3JyZWN0LWdjbS1zZW5kZXItaWRcIik7fSk6YS5nPVByb21pc2UucmVzb2x2ZSgpO3JldHVybiBhLmd9O1xuVi5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVyblwiZ3JhbnRlZFwiPT09Tm90aWZpY2F0aW9uLnBlcm1pc3Npb24/UHJvbWlzZS5yZXNvbHZlKCk6bmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXt2YXIgZD1mdW5jdGlvbihkKXtyZXR1cm5cImdyYW50ZWRcIj09PWQ/YigpOlwiZGVuaWVkXCI9PT1kP2MoYS5hLmNyZWF0ZShcInBlcm1pc3Npb24tYmxvY2tlZFwiKSk6YyhhLmEuY3JlYXRlKFwicGVybWlzc2lvbi1kZWZhdWx0XCIpKX0sZT1Ob3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24oYSl7ZXx8ZChhKX0pO2UmJmUudGhlbihkKX0pfTtWLnByb3RvdHlwZS5yZXF1ZXN0UGVybWlzc2lvbj1WLnByb3RvdHlwZS5yZXF1ZXN0UGVybWlzc2lvbjtcblYucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikpdGhyb3cgdGhpcy5hLmNyZWF0ZShcInN3LXJlZ2lzdHJhdGlvbi1leHBlY3RlZFwiKTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHRoaXMuYil0aHJvdyB0aGlzLmEuY3JlYXRlKFwidXNlLXN3LWJlZm9yZS1nZXQtdG9rZW5cIik7dGhpcy5iPWF9O1YucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXI9Vi5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlcjtWLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm0oYSxiLGMpfTtWLnByb3RvdHlwZS5vbk1lc3NhZ2U9Vi5wcm90b3R5cGUub25NZXNzYWdlO1YucHJvdG90eXBlLm9uVG9rZW5SZWZyZXNoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vKGEsYixjKX07Vi5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g9Vi5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g7XG52YXIgWD1mdW5jdGlvbihhLGIpe3ZhciBjPWIuaW5zdGFsbGluZ3x8Yi53YWl0aW5nfHxiLmFjdGl2ZTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXtpZihjKWlmKFwiYWN0aXZhdGVkXCI9PT1jLnN0YXRlKWQoYik7ZWxzZSBpZihcInJlZHVuZGFudFwiPT09Yy5zdGF0ZSllKGEuYS5jcmVhdGUoXCJzdy1yZWctcmVkdW5kYW50XCIpKTtlbHNle3ZhciBuPWZ1bmN0aW9uKCl7aWYoXCJhY3RpdmF0ZWRcIj09PWMuc3RhdGUpZChiKTtlbHNlIGlmKFwicmVkdW5kYW50XCI9PT1jLnN0YXRlKWUoYS5hLmNyZWF0ZShcInN3LXJlZy1yZWR1bmRhbnRcIikpO2Vsc2UgcmV0dXJuO2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsbil9O2MuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsbil9ZWxzZSBlKGEuYS5jcmVhdGUoXCJuby1zdy1pbi1yZWdcIikpfSl9O1xuVi5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYodGhpcy5iKXJldHVybiBYKHRoaXMsdGhpcy5iKTt0aGlzLmI9bnVsbDtyZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCIvZmlyZWJhc2UtbWVzc2FnaW5nLXN3LmpzXCIse3Njb3BlOlwiL2ZpcmViYXNlLWNsb3VkLW1lc3NhZ2luZy1wdXNoLXNjb3BlXCJ9KS5jYXRjaChmdW5jdGlvbihiKXt0aHJvdyBhLmEuY3JlYXRlKFwiZmFpbGVkLXNlcnZpY2V3b3JrZXItcmVnaXN0cmF0aW9uXCIse2Jyb3dzZXJFcnJvck1lc3NhZ2U6Yi5tZXNzYWdlfSk7fSkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gWChhLGIpLnRoZW4oZnVuY3Rpb24oKXthLmI9YjtiLnVwZGF0ZSgpO3JldHVybiBifSl9KX07XG52YXIgVT1mdW5jdGlvbihhKXtcInNlcnZpY2VXb3JrZXJcImluIG5hdmlnYXRvciYmbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihiKXtpZihiLmRhdGEmJmIuZGF0YVtcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctdHlwZVwiXSlzd2l0Y2goYj1iLmRhdGEsYltcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctdHlwZVwiXSl7Y2FzZSBcInB1c2gtbXNnLXJlY2VpdmVkXCI6Y2FzZSBcIm5vdGlmaWNhdGlvbi1jbGlja2VkXCI6YS5qLm5leHQoYltcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctZGF0YVwiXSl9fSwhMSl9O2lmKCEoZmlyZWJhc2UmJmZpcmViYXNlLklOVEVSTkFMJiZmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UpKXRocm93IEVycm9yKFwiQ2Fubm90IGluc3RhbGwgRmlyZWJhc2UgTWVzc2FnaW5nIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIik7ZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwibWVzc2FnaW5nXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHNlbGYmJlwiU2VydmljZVdvcmtlckdsb2JhbFNjb3BlXCJpbiBzZWxmP25ldyBQKGEpOm5ldyBWKGEpfSx7TWVzc2FnaW5nOlZ9KTt9KS5jYWxsKHRoaXMpO1xufSkuY2FsbCh0eXBlb2YgZ2xvYmFsICE9PSB1bmRlZmluZWQgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gdW5kZWZpbmVkID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZCA/IHdpbmRvdyA6IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2UubWVzc2FnaW5nO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbihmdW5jdGlvbigpe1xuLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjYuOVxuICAgIEJ1aWxkOiAzLjYuOS1yYy4xXG4gICAgVGVybXM6IGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS90ZXJtcy8gKi9cbihmdW5jdGlvbigpe2Zvcih2YXIgayxhYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGMuZ2V0fHxjLnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVMzIGRvZXMgbm90IHN1cHBvcnQgZ2V0dGVycyBhbmQgc2V0dGVycy5cIik7YSE9QXJyYXkucHJvdG90eXBlJiZhIT1PYmplY3QucHJvdG90eXBlJiYoYVtiXT1jLnZhbHVlKX0sbD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c9PT10aGlzP3RoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmbnVsbCE9Z2xvYmFsP2dsb2JhbDp0aGlzLG09W1wiTnVtYmVyXCIsXCJNSU5fU0FGRV9JTlRFR0VSXCJdLGJhPTA7YmE8bS5sZW5ndGgtMTtiYSsrKXt2YXIgY2E9bVtiYV07Y2EgaW4gbHx8KGxbY2FdPXt9KTtsPWxbY2FdfXZhciBkYT1tW20ubGVuZ3RoLTFdO1xuLTkwMDcxOTkyNTQ3NDA5OTEhPWxbZGFdJiZhYShsLGRhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6LTkwMDcxOTkyNTQ3NDA5OTF9KTtcbnZhciBwPXRoaXMscT1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09YX0sZWE9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJlxuIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9O3ZhciByPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTEhPT1hLmluZGV4T2YoYil9O3ZhciBmYT1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3p8fCh6PSEwLGIuYXBwbHkobnVsbCxhcmd1bWVudHMpKX1mdW5jdGlvbiBlKGIpe249c2V0VGltZW91dChmdW5jdGlvbigpe249bnVsbDthKGYsMj09PUMpfSxiKX1mdW5jdGlvbiBmKGEsYil7aWYoIXopaWYoYSlkLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlbHNlIGlmKDI9PT1DfHxCKWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO2Vsc2V7NjQ+aCYmKGgqPTIpO3ZhciBjOzE9PT1DPyhDPTIsYz0wKTpjPTFFMyooaCtNYXRoLnJhbmRvbSgpKTtlKGMpfX1mdW5jdGlvbiBnKGEpe01hfHwoTWE9ITAsenx8KG51bGwhPT1uPyhhfHwoQz0yKSxjbGVhclRpbWVvdXQobiksZSgwKSk6YXx8KEM9MSkpKX12YXIgaD0xLG49bnVsbCxCPSExLEM9MCx6PSExLE1hPSExO2UoMCk7c2V0VGltZW91dChmdW5jdGlvbigpe0I9ITA7ZyghMCl9LGMpO3JldHVybiBnfTt2YXIgdD1cImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tXCI7dmFyIHU9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9XCJzdG9yYWdlL1wiK2E7dGhpcy5tZXNzYWdlPVwiRmlyZWJhc2UgU3RvcmFnZTogXCIrYjt0aGlzLnNlcnZlclJlc3BvbnNlPW51bGw7dGhpcy5uYW1lPVwiRmlyZWJhc2VFcnJvclwifTsoZnVuY3Rpb24oKXt2YXIgYT1FcnJvcjtmdW5jdGlvbiBiKCl7fWIucHJvdG90eXBlPWEucHJvdG90eXBlO3UuYj1hLnByb3RvdHlwZTt1LnByb3RvdHlwZT1uZXcgYjt1LmE9ZnVuY3Rpb24oYixkLGUpe2Zvcih2YXIgYz1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGc9MjtnPGFyZ3VtZW50cy5sZW5ndGg7ZysrKWNbZy0yXT1hcmd1bWVudHNbZ107cmV0dXJuIGEucHJvdG90eXBlW2RdLmFwcGx5KGIsYyl9fSkoKTtcbnZhciBnYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdShcInVua25vd25cIixcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQsIHBsZWFzZSBjaGVjayB0aGUgZXJyb3IgcGF5bG9hZCBmb3Igc2VydmVyIHJlc3BvbnNlLlwiKX0saGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoXCJjYW5jZWxlZFwiLFwiVXNlciBjYW5jZWxlZCB0aGUgdXBsb2FkL2Rvd25sb2FkLlwiKX0saWE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoXCJjYW5ub3Qtc2xpY2UtYmxvYlwiLFwiQ2Fubm90IHNsaWNlIGJsb2IgZm9yIHVwbG9hZC4gUGxlYXNlIHJldHJ5IHRoZSB1cGxvYWQuXCIpfSxqYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyB1KFwiaW52YWxpZC1hcmd1bWVudFwiLFwiSW52YWxpZCBhcmd1bWVudCBpbiBgXCIrYitcImAgYXQgaW5kZXggXCIrYStcIjogXCIrYyl9LGthPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KFwiYXBwLWRlbGV0ZWRcIixcIlRoZSBGaXJlYmFzZSBhcHAgd2FzIGRlbGV0ZWQuXCIpfSx2PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyB1KFwiaW52YWxpZC1mb3JtYXRcIixcblwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIGZvcm1hdCAnXCIrYStcIic6IFwiK2IpfSxsYT1mdW5jdGlvbihhKXt0aHJvdyBuZXcgdShcImludGVybmFsLWVycm9yXCIsXCJJbnRlcm5hbCBlcnJvcjogXCIrYSk7fTt2YXIgbWE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmYihjLGFbY10pfSxuYT1mdW5jdGlvbihhKXt2YXIgYj17fTttYShhLGZ1bmN0aW9uKGEsZCl7YlthXT1kfSk7cmV0dXJuIGJ9O3ZhciBvYT1mdW5jdGlvbihhLGIpe2I9Yi5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiAwPGEubGVuZ3RofSkuam9pbihcIi9cIik7cmV0dXJuIDA9PT1hLmxlbmd0aD9iOmErXCIvXCIrYn0scGE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXN0SW5kZXhPZihcIi9cIixhLmxlbmd0aC0yKTtyZXR1cm4tMT09PWI/YTphLnNsaWNlKGIrMSl9O3ZhciBxYT1mdW5jdGlvbihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGZpcmViYXNlKXJldHVybiBuZXcgZmlyZWJhc2UuUHJvbWlzZShhKTt0aHJvdyBFcnJvcihcIkVycm9yIGluIEZpcmViYXNlIFN0b3JhZ2UgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKTt9O3ZhciB3PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaD1hO3RoaXMuYj17fTt0aGlzLm1ldGhvZD1iO3RoaXMuaGVhZGVycz17fTt0aGlzLmJvZHk9bnVsbDt0aGlzLmo9Yzt0aGlzLmw9dGhpcy5hPW51bGw7dGhpcy5jPVsyMDBdO3RoaXMuZz1bXTt0aGlzLnRpbWVvdXQ9ZDt0aGlzLmY9ITB9O3ZhciByYT17U1RBVEVfQ0hBTkdFRDpcInN0YXRlX2NoYW5nZWRcIn0seD17UlVOTklORzpcInJ1bm5pbmdcIixQQVVTRUQ6XCJwYXVzZWRcIixTVUNDRVNTOlwic3VjY2Vzc1wiLENBTkNFTEVEOlwiY2FuY2VsZWRcIixFUlJPUjpcImVycm9yXCJ9LHNhPWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwicnVubmluZ1wiOmNhc2UgXCJwYXVzaW5nXCI6Y2FzZSBcImNhbmNlbGluZ1wiOnJldHVyblwicnVubmluZ1wiO2Nhc2UgXCJwYXVzZWRcIjpyZXR1cm5cInBhdXNlZFwiO2Nhc2UgXCJzdWNjZXNzXCI6cmV0dXJuXCJzdWNjZXNzXCI7Y2FzZSBcImNhbmNlbGVkXCI6cmV0dXJuXCJjYW5jZWxlZFwiO2Nhc2UgXCJlcnJvclwiOnJldHVyblwiZXJyb3JcIjtkZWZhdWx0OnJldHVyblwiZXJyb3JcIn19O3ZhciB5PWZ1bmN0aW9uKGEpe3JldHVybiBxKGEpJiZudWxsIT09YX0sdGE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfSx1YT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgQmxvYn07dmFyIHdhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dmE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGEpP2NbYV06Y1thXT1iKGEpfTt2YXIgeGE9U3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKGEpe3JldHVybiBhLnRyaW0oKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSx5YT1mdW5jdGlvbihhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6MH07dmFyIEE9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO2ZpcmViYXNlLlByb21pc2UucmVzb2x2ZSghMCkudGhlbihmdW5jdGlvbigpe2EuYXBwbHkobnVsbCxiKX0pfX07dmFyIEQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ1Y2tldD1hO3RoaXMucGF0aD1ifSx6YT1mdW5jdGlvbihhKXt2YXIgYj1lbmNvZGVVUklDb21wb25lbnQ7cmV0dXJuXCIvYi9cIitiKGEuYnVja2V0KStcIi9vL1wiK2IoYS5wYXRoKX0sQWE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW51bGwsYz1be0s6L15nczpcXC9cXC8oW0EtWmEtejAtOS5cXC1dKykoXFwvKC4qKSk/JC9pLEc6e2J1Y2tldDoxLHBhdGg6M30sSjpmdW5jdGlvbihhKXtcIi9cIj09PWEucGF0aC5jaGFyQXQoYS5wYXRoLmxlbmd0aC0xKSYmKGEucGF0aD1hLnBhdGguc2xpY2UoMCwtMSkpfX0se0s6L15odHRwcz86XFwvXFwvZmlyZWJhc2VzdG9yYWdlXFwuZ29vZ2xlYXBpc1xcLmNvbVxcL3ZbQS1aYS16MC05X10rXFwvYlxcLyhbQS1aYS16MC05LlxcLV0rKVxcL28oXFwvKFtePyNdKikuKik/JC9pLEc6e2J1Y2tldDoxLHBhdGg6M30sSjpmdW5jdGlvbihhKXthLnBhdGg9ZGVjb2RlVVJJQ29tcG9uZW50KGEucGF0aCl9fV0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1cbmNbZF0sZj1lLksuZXhlYyhhKTtpZihmKXtiPWZbZS5HLmJ1Y2tldF07KGY9ZltlLkcucGF0aF0pfHwoZj1cIlwiKTtiPW5ldyBEKGIsZik7ZS5KKGIpO2JyZWFrfX1pZihudWxsPT1iKXRocm93IG5ldyB1KFwiaW52YWxpZC11cmxcIixcIkludmFsaWQgVVJMICdcIithK1wiJy5cIik7cmV0dXJuIGJ9O3ZhciBCYT1mdW5jdGlvbihhLGIsYyl7XCJmdW5jdGlvblwiPT1lYShhKXx8eShiKXx8eShjKT8odGhpcy5jPWEsdGhpcy5hPWJ8fG51bGwsdGhpcy5iPWN8fG51bGwpOih0aGlzLmM9YS5uZXh0fHxudWxsLHRoaXMuYT1hLmVycm9yfHxudWxsLHRoaXMuYj1hLmNvbXBsZXRlfHxudWxsKX07dmFyIEU9e1JBVzpcInJhd1wiLEJBU0U2NDpcImJhc2U2NFwiLEJBU0U2NFVSTDpcImJhc2U2NHVybFwiLERBVEFfVVJMOlwiZGF0YV91cmxcIn0sQ2E9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJyYXdcIjpjYXNlIFwiYmFzZTY0XCI6Y2FzZSBcImJhc2U2NHVybFwiOmNhc2UgXCJkYXRhX3VybFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cGVjdGVkIG9uZSBvZiB0aGUgZXZlbnQgdHlwZXM6IFtyYXcsIGJhc2U2NCwgYmFzZTY0dXJsLCBkYXRhX3VybF0uXCI7fX0sRGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmI9YTt0aGlzLmE9Ynx8bnVsbH0sSGE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcInJhd1wiOnJldHVybiBuZXcgRGEoRWEoYikpO2Nhc2UgXCJiYXNlNjRcIjpjYXNlIFwiYmFzZTY0dXJsXCI6cmV0dXJuIG5ldyBEYShGYShhLGIpKTtjYXNlIFwiZGF0YV91cmxcIjphPW5ldyBHYShiKTt2YXIgYztpZihhLmEpYz1GYShcImJhc2U2NFwiLGEuYyk7ZWxzZXt0cnl7Yz1kZWNvZGVVUklDb21wb25lbnQoYS5jKX1jYXRjaChkKXt0aHJvdyB2KFwiZGF0YV91cmxcIixcblwiTWFsZm9ybWVkIGRhdGEgVVJMLlwiKTt9Yz1FYShjKX1yZXR1cm4gbmV3IERhKGMsKG5ldyBHYShiKSkuYil9dGhyb3cgZ2EoKTt9LEVhPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWEuY2hhckNvZGVBdChjKTtpZigxMjc+PWQpYi5wdXNoKGQpO2Vsc2UgaWYoMjA0Nz49ZCliLnB1c2goMTkyfGQ+PjYsMTI4fGQmNjMpO2Vsc2UgaWYoNTUyOTY9PShkJjY0NTEyKSlpZihjPGEubGVuZ3RoLTEmJjU2MzIwPT0oYS5jaGFyQ29kZUF0KGMrMSkmNjQ1MTIpKXt2YXIgZT1hLmNoYXJDb2RlQXQoKytjKSxkPTY1NTM2fChkJjEwMjMpPDwxMHxlJjEwMjM7Yi5wdXNoKDI0MHxkPj4xOCwxMjh8ZD4+MTImNjMsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpfWVsc2UgYi5wdXNoKDIzOSwxOTEsMTg5KTtlbHNlIDU2MzIwPT0oZCY2NDUxMik/Yi5wdXNoKDIzOSwxOTEsMTg5KTpiLnB1c2goMjI0fGQ+PjEyLDEyOHxkPj42JjYzLDEyOHxkJjYzKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYil9LFxuRmE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImJhc2U2NFwiOnZhciBjPS0xIT09Yi5pbmRleE9mKFwiLVwiKSxkPS0xIT09Yi5pbmRleE9mKFwiX1wiKTtpZihjfHxkKXRocm93IHYoYSxcIkludmFsaWQgY2hhcmFjdGVyICdcIisoYz9cIi1cIjpcIl9cIikrXCInIGZvdW5kOiBpcyBpdCBiYXNlNjR1cmwgZW5jb2RlZD9cIik7YnJlYWs7Y2FzZSBcImJhc2U2NHVybFwiOmM9LTEhPT1iLmluZGV4T2YoXCIrXCIpO2Q9LTEhPT1iLmluZGV4T2YoXCIvXCIpO2lmKGN8fGQpdGhyb3cgdihhLFwiSW52YWxpZCBjaGFyYWN0ZXIgJ1wiKyhjP1wiK1wiOlwiL1wiKStcIicgZm91bmQ6IGlzIGl0IGJhc2U2NCBlbmNvZGVkP1wiKTtiPWIucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpfXZhciBlO3RyeXtlPWF0b2IoYil9Y2F0Y2goZil7dGhyb3cgdihhLFwiSW52YWxpZCBjaGFyYWN0ZXIgZm91bmRcIik7fWE9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO2ZvcihiPTA7YjxlLmxlbmd0aDtiKyspYVtiXT1lLmNoYXJDb2RlQXQoYik7XG5yZXR1cm4gYX0sR2E9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCgvXmRhdGE6KFteLF0rKT8sLyk7aWYobnVsbD09PWIpdGhyb3cgdihcImRhdGFfdXJsXCIsXCJNdXN0IGJlIGZvcm1hdHRlZCAnZGF0YTpbPG1lZGlhdHlwZT5dWztiYXNlNjRdLDxkYXRhPlwiKTtiPWJbMV18fG51bGw7dGhpcy5hPSExO3RoaXMuYj1udWxsO2lmKG51bGwhPWIpe3ZhciBjPWIubGVuZ3RoLTc7dGhpcy5iPSh0aGlzLmE9MDw9YyYmYi5pbmRleE9mKFwiO2Jhc2U2NFwiLGMpPT1jKT9iLnN1YnN0cmluZygwLGIubGVuZ3RoLTcpOmJ9dGhpcy5jPWEuc3Vic3RyaW5nKGEuaW5kZXhPZihcIixcIikrMSl9O3ZhciBJYT1mdW5jdGlvbihhKXt2YXIgYj1lbmNvZGVVUklDb21wb25lbnQsYz1cIj9cIjttYShhLGZ1bmN0aW9uKGEsZSl7YT1iKGEpK1wiPVwiK2IoZSk7Yz1jK2ErXCImXCJ9KTtyZXR1cm4gYz1jLnNsaWNlKDAsLTEpfTt2YXIgSmE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dGhpcy5jPTA7dGhpcy5mPXFhKGZ1bmN0aW9uKGIpe2EuYS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmdW5jdGlvbigpe2EuYz0yO2IoYSl9KTthLmEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXthLmM9MTtiKGEpfSk7YS5hLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtiKGEpfSl9KTt0aGlzLmI9ITF9LEthPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoYS5iKXRocm93IGxhKFwiY2Fubm90IC5zZW5kKCkgbW9yZSB0aGFuIG9uY2VcIik7YS5iPSEwO2EuYS5vcGVuKGMsYiwhMCk7eShlKSYmbWEoZSxmdW5jdGlvbihiLGMpe2EuYS5zZXRSZXF1ZXN0SGVhZGVyKGIsYy50b1N0cmluZygpKX0pO3koZCk/YS5hLnNlbmQoZCk6YS5hLnNlbmQoKTtyZXR1cm4gYS5mfSxMYT1mdW5jdGlvbihhKXtpZighYS5iKXRocm93IGxhKFwiY2Fubm90IC5nZXRFcnJvckNvZGUoKSBiZWZvcmUgc2VuZGluZ1wiKTtcbnJldHVybiBhLmN9LEY9ZnVuY3Rpb24oYSl7aWYoIWEuYil0aHJvdyBsYShcImNhbm5vdCAuZ2V0U3RhdHVzKCkgYmVmb3JlIHNlbmRpbmdcIik7dHJ5e3JldHVybiBhLmEuc3RhdHVzfWNhdGNoKGIpe3JldHVybi0xfX0sTmE9ZnVuY3Rpb24oYSl7aWYoIWEuYil0aHJvdyBsYShcImNhbm5vdCAuZ2V0UmVzcG9uc2VUZXh0KCkgYmVmb3JlIHNlbmRpbmdcIik7cmV0dXJuIGEuYS5yZXNwb25zZVRleHR9O0phLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYS5hYm9ydCgpfTt2YXIgRz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5iPWE7dGhpcy5oPWI7dGhpcy5mPWM7dGhpcy5hPWQ7dGhpcy5nPWU7dGhpcy5jPWZ9O2s9Ry5wcm90b3R5cGU7ay5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ay5xYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9O2submE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtrLmlhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ay5XPWZ1bmN0aW9uKCl7aWYoeSh0aGlzLmEpKXt2YXIgYT10aGlzLmEuZG93bmxvYWRVUkxzO3JldHVybiB5KGEpJiZ5KGFbMF0pP2FbMF06bnVsbH1yZXR1cm4gbnVsbH07ay5wYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O2subGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTt2YXIgSDthOnt2YXIgT2E9cC5uYXZpZ2F0b3I7aWYoT2Epe3ZhciBQYT1PYS51c2VyQWdlbnQ7aWYoUGEpe0g9UGE7YnJlYWsgYX19SD1cIlwifTt2YXIgUmE9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLG4sQixDKXt0aGlzLkM9YTt0aGlzLkE9Yjt0aGlzLnY9Yzt0aGlzLm89ZDt0aGlzLkI9ZS5zbGljZSgpO3RoaXMubT1mLnNsaWNlKCk7dGhpcy5qPXRoaXMubD10aGlzLmM9dGhpcy5iPW51bGw7dGhpcy5mPXRoaXMuZz0hMTt0aGlzLnM9Zzt0aGlzLmg9aDt0aGlzLkQ9Qzt0aGlzLnc9bjt2YXIgej10aGlzO3RoaXMudT1xYShmdW5jdGlvbihhLGIpe3oubD1hO3ouaj1iO1FhKHopfSl9LFNhPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmI9YTt0aGlzLmM9Yjt0aGlzLmE9ISFjfSxRYT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7Yj9hKCExLG5ldyBTYSghMSxudWxsLCEwKSk6KGI9bmV3IEphLGIuYS53aXRoQ3JlZGVudGlhbHM9ZC5ELGQuYj1iLEthKGIsZC5DLGQuQSxkLm8sZC52KS50aGVuKGZ1bmN0aW9uKGIpe2QuYj1udWxsO3ZhciBjPTA9PT1MYShiKSxlPUYoYik7aWYoIShjPSFjKSl2YXIgYz1yKFs0MDgsNDI5XSxlKSxcbmY9cihkLm0sZSksYz01MDA8PWUmJjYwMD5lfHxjfHxmO2M/KGI9Mj09PUxhKGIpLGEoITEsbmV3IFNhKCExLG51bGwsYikpKTphKCEwLG5ldyBTYShyKGQuQixlKSxiKSl9KSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWQubDthPWQuajt2YXIgZT1iLmM7aWYoYi5iKXRyeXt2YXIgZj1kLnMoZSxOYShlKSk7cShmKT9jKGYpOmMoKX1jYXRjaChCKXthKEIpfWVsc2UgbnVsbCE9PWU/KGI9Z2EoKSxmPU5hKGUpLGIuc2VydmVyUmVzcG9uc2U9ZixkLmg/YShkLmgoZSxiKSk6YShiKSk6KGI9Yi5hP2QuZj9rYSgpOmhhKCk6bmV3IHUoXCJyZXRyeS1saW1pdC1leGNlZWRlZFwiLFwiTWF4IHJldHJ5IHRpbWUgZm9yIG9wZXJhdGlvbiBleGNlZWRlZCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIiksYShiKSl9dmFyIGQ9YTthLmc/YygwLG5ldyBTYSghMSxudWxsLCEwKSk6YS5jPWZhKGIsYyxhLncpfTtSYS5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O1xuUmEucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt0aGlzLmc9ITA7dGhpcy5mPWF8fCExO251bGwhPT10aGlzLmMmJigwLHRoaXMuYykoITEpO251bGwhPT10aGlzLmImJnRoaXMuYi5hYm9ydCgpfTt2YXIgVGE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUlhKGEuYiksZD1hLmgrZCxlPWEuaGVhZGVycz9uYShhLmhlYWRlcnMpOnt9O251bGwhPT1iJiYwPGIubGVuZ3RoJiYoZS5BdXRob3JpemF0aW9uPVwiRmlyZWJhc2UgXCIrYik7ZVtcIlgtRmlyZWJhc2UtU3RvcmFnZS1WZXJzaW9uXCJdPVwid2VianMvXCIrKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZmlyZWJhc2U/ZmlyZWJhc2UuU0RLX1ZFUlNJT046XCJBcHBNYW5hZ2VyXCIpO3JldHVybiBuZXcgUmEoZCxhLm1ldGhvZCxlLGEuYm9keSxhLmMsYS5nLGEuaixhLmEsYS50aW1lb3V0LDAsYyl9O3ZhciBVYT1mdW5jdGlvbigpe307dmFyIFZhPWZ1bmN0aW9uKGEpe3RoaXMuYj1maXJlYmFzZS5Qcm9taXNlLnJlamVjdChhKX07VmEucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtWYS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7fTt2YXIgV2E9ZnVuY3Rpb24oKXt0aGlzLmE9e307dGhpcy5iPU51bWJlci5NSU5fU0FGRV9JTlRFR0VSfSxYYT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtkZWxldGUgZS5hW2RdfXZhciBkPWEuYjthLmIrKzthLmFbZF09Yjt2YXIgZT1hO2IuYSgpLnRoZW4oYyxjKX0sWWE9ZnVuY3Rpb24oYSl7bWEoYS5hLGZ1bmN0aW9uKGEsYyl7YyYmYy5jYW5jZWwoITApfSk7YS5hPXt9fTt2YXIgWmE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmE9YTt0aGlzLmc9bnVsbDtpZihudWxsIT09dGhpcy5hJiYoYT10aGlzLmEub3B0aW9ucyx5KGEpKSl7YT1hLnN0b3JhZ2VCdWNrZXR8fG51bGw7aWYobnVsbD09YSlhPW51bGw7ZWxzZXt2YXIgZj1udWxsO3RyeXtmPUFhKGEpfWNhdGNoKGcpe31pZihudWxsIT09Zil7aWYoXCJcIiE9PWYucGF0aCl0aHJvdyBuZXcgdShcImludmFsaWQtZGVmYXVsdC1idWNrZXRcIixcIkludmFsaWQgZGVmYXVsdCBidWNrZXQgJ1wiK2ErXCInLlwiKTthPWYuYnVja2V0fX10aGlzLmc9YX10aGlzLm89Yjt0aGlzLm09Yzt0aGlzLmo9ZTt0aGlzLmw9ZDt0aGlzLmM9MTJFNDt0aGlzLmI9NkU0O3RoaXMuaD1uZXcgV2E7dGhpcy5mPSExfSwkYT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEuYSYmeShhLmEuSU5URVJOQUwpJiZ5KGEuYS5JTlRFUk5BTC5nZXRUb2tlbik/YS5hLklOVEVSTkFMLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4geShhKT9cbmEuYWNjZXNzVG9rZW46bnVsbH0sZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pOmZpcmViYXNlLlByb21pc2UucmVzb2x2ZShudWxsKX07WmEucHJvdG90eXBlLmJ1Y2tldD1mdW5jdGlvbigpe2lmKHRoaXMuZil0aHJvdyBrYSgpO3JldHVybiB0aGlzLmd9O3ZhciBJPWZ1bmN0aW9uKGEsYixjKXtpZihhLmYpcmV0dXJuIG5ldyBWYShrYSgpKTtiPWEubShiLGMsbnVsbD09PWEuYSxhLmopO1hhKGEuaCxiKTtyZXR1cm4gYn07dmFyIGFiPS0xIT1ILmluZGV4T2YoXCJPcGVyYVwiKSxiYj0tMSE9SC5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPUguaW5kZXhPZihcIk1TSUVcIiksY2I9LTEhPUguaW5kZXhPZihcIkVkZ2VcIiksZGI9LTEhPUguaW5kZXhPZihcIkdlY2tvXCIpJiYhKC0xIT1ILnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PUguaW5kZXhPZihcIkVkZ2VcIikpJiYhKC0xIT1ILmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9SC5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT1ILmluZGV4T2YoXCJFZGdlXCIpLGViPS0xIT1ILnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PUguaW5kZXhPZihcIkVkZ2VcIiksZmI7XG5hOnt2YXIgZ2I9XCJcIixoYj1mdW5jdGlvbigpe3ZhciBhPUg7aWYoZGIpcmV0dXJuL3J2XFw6KFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoY2IpcmV0dXJuL0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyhhKTtpZihiYilyZXR1cm4vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoZWIpcmV0dXJuL1dlYktpdFxcLyhcXFMrKS8uZXhlYyhhKTtpZihhYilyZXR1cm4vKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKGEpfSgpO2hiJiYoZ2I9aGI/aGJbMV06XCJcIik7aWYoYmIpe3ZhciBpYixqYj1wLmRvY3VtZW50O2liPWpiP2piLmRvY3VtZW50TW9kZTp2b2lkIDA7aWYobnVsbCE9aWImJmliPnBhcnNlRmxvYXQoZ2IpKXtmYj1TdHJpbmcoaWIpO2JyZWFrIGF9fWZiPWdifVxudmFyIGtiPWZiLHZhPXt9LGxiPWZ1bmN0aW9uKGEpe3JldHVybiB3YShhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz14YShTdHJpbmcoa2IpKS5zcGxpdChcIi5cIiksZD14YShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixoPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2g9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoaCl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09aFswXS5sZW5ndGgpYnJlYWs7Yj15YSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWhbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoaFsxXSwxMCkpfHx5YSgwPT1nWzJdLmxlbmd0aCwwPT1oWzJdLmxlbmd0aCl8fHlhKGdbMl0saFsyXSk7Zz1nWzNdO2g9aFszXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfTt2YXIgbWI9ZnVuY3Rpb24oYSl7dmFyIGI9cC5CbG9iQnVpbGRlcnx8cC5XZWJLaXRCbG9iQnVpbGRlcjtpZihxKGIpKXtmb3IodmFyIGI9bmV3IGIsYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5hcHBlbmQoYXJndW1lbnRzW2NdKTtyZXR1cm4gYi5nZXRCbG9iKCl9Yj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2M9cC5CbG9iQnVpbGRlcnx8cC5XZWJLaXRCbG9iQnVpbGRlcjtpZihxKGMpKXtmb3IodmFyIGM9bmV3IGMsZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMuYXBwZW5kKGJbZF0sdm9pZCAwKTtiPWMuZ2V0QmxvYih2b2lkIDApfWVsc2UgaWYocShwLkJsb2IpKWI9bmV3IEJsb2IoYix7fSk7ZWxzZSB0aHJvdyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBjcmVhdGluZyBCbG9ic1wiKTtyZXR1cm4gYn0sbmI9ZnVuY3Rpb24oYSxiLGMpe3EoYyl8fChjPWEuc2l6ZSk7cmV0dXJuIGEud2Via2l0U2xpY2U/YS53ZWJraXRTbGljZShiLFxuYyk6YS5tb3pTbGljZT9hLm1velNsaWNlKGIsYyk6YS5zbGljZT9kYiYmIWxiKFwiMTMuMFwiKXx8ZWImJiFsYihcIjUzNy4xXCIpPygwPmImJihiKz1hLnNpemUpLDA+YiYmKGI9MCksMD5jJiYoYys9YS5zaXplKSxjPGImJihjPWIpLGEuc2xpY2UoYixjLWIpKTphLnNsaWNlKGIsYyk6bnVsbH07dmFyIG9iPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LEo9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5jPWE7dGhpcy5iPWJ8fGE7dGhpcy53cml0YWJsZT0hIWM7dGhpcy5hPWR8fG9ifSxwYj1udWxsLHFiPWZ1bmN0aW9uKCl7aWYocGIpcmV0dXJuIHBiO3ZhciBhPVtdO2EucHVzaChuZXcgSihcImJ1Y2tldFwiKSk7YS5wdXNoKG5ldyBKKFwiZ2VuZXJhdGlvblwiKSk7YS5wdXNoKG5ldyBKKFwibWV0YWdlbmVyYXRpb25cIikpO2EucHVzaChuZXcgSihcIm5hbWVcIixcImZ1bGxQYXRoXCIsITApKTt2YXIgYj1uZXcgSihcIm5hbWVcIik7Yi5hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRhKGIpfHwyPmIubGVuZ3RoP2I6cGEoYil9O2EucHVzaChiKTtiPW5ldyBKKFwic2l6ZVwiKTtiLmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4geShiKT8rYjpifTthLnB1c2goYik7YS5wdXNoKG5ldyBKKFwidGltZUNyZWF0ZWRcIikpO2EucHVzaChuZXcgSihcInVwZGF0ZWRcIikpO2EucHVzaChuZXcgSihcIm1kNUhhc2hcIixudWxsLCEwKSk7XG5hLnB1c2gobmV3IEooXCJjYWNoZUNvbnRyb2xcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBKKFwiY29udGVudERpc3Bvc2l0aW9uXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgSihcImNvbnRlbnRFbmNvZGluZ1wiLG51bGwsITApKTthLnB1c2gobmV3IEooXCJjb250ZW50TGFuZ3VhZ2VcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBKKFwiY29udGVudFR5cGVcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBKKFwibWV0YWRhdGFcIixcImN1c3RvbU1ldGFkYXRhXCIsITApKTthLnB1c2gobmV3IEooXCJkb3dubG9hZFRva2Vuc1wiLFwiZG93bmxvYWRVUkxzXCIsITEsZnVuY3Rpb24oYSxiKXtpZighKHRhKGIpJiYwPGIubGVuZ3RoKSlyZXR1cm5bXTt2YXIgYz1lbmNvZGVVUklDb21wb25lbnQ7cmV0dXJuIGIuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihiKXt2YXIgZD1hLmZ1bGxQYXRoLGQ9XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MFwiKyhcIi9iL1wiK2MoYS5idWNrZXQpK1wiL28vXCIrYyhkKSk7Yj1JYSh7YWx0OlwibWVkaWFcIixcbnRva2VuOmJ9KTtyZXR1cm4gZCtifSl9KSk7cmV0dXJuIHBiPWF9LHJiPWZ1bmN0aW9uKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJyZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIubyhiLG5ldyBEKGEuYnVja2V0LGEuZnVsbFBhdGgpKX19KX0sc2I9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9e30sZD1iLmxlbmd0aCxlPTA7ZTxkO2UrKyl7dmFyIGY9YltlXTtmLndyaXRhYmxlJiYoY1tmLmNdPWFbZi5iXSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KGMpfSx0Yj1mdW5jdGlvbihhKXtpZighYXx8XCJvYmplY3RcIiE9PXR5cGVvZiBhKXRocm93XCJFeHBlY3RlZCBNZXRhZGF0YSBvYmplY3QuXCI7Zm9yKHZhciBiIGluIGEpe3ZhciBjPWFbYl07aWYoXCJjdXN0b21NZXRhZGF0YVwiPT09Yil7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBjKXRocm93XCJFeHBlY3RlZCBvYmplY3QgZm9yICdjdXN0b21NZXRhZGF0YScgbWFwcGluZy5cIjt9ZWxzZSBpZihudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3dcIk1hcHBpbmcgZm9yICdcIitcbmIrXCInIGNhbm5vdCBiZSBhbiBvYmplY3QuXCI7fX07dmFyIEs9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1iLmxlbmd0aCxlPWIubGVuZ3RoLGY9MDtmPGIubGVuZ3RoO2YrKylpZihiW2ZdLmIpe2Q9ZjticmVha31pZighKGQ8PWMubGVuZ3RoJiZjLmxlbmd0aDw9ZSkpdGhyb3cgZD09PWU/KGI9ZCxkPTE9PT1kP1wiYXJndW1lbnRcIjpcImFyZ3VtZW50c1wiKTooYj1cImJldHdlZW4gXCIrZCtcIiBhbmQgXCIrZSxkPVwiYXJndW1lbnRzXCIpLG5ldyB1KFwiaW52YWxpZC1hcmd1bWVudC1jb3VudFwiLFwiSW52YWxpZCBhcmd1bWVudCBjb3VudCBpbiBgXCIrYStcImA6IEV4cGVjdGVkIFwiK2IrXCIgXCIrZCtcIiwgcmVjZWl2ZWQgXCIrYy5sZW5ndGgrXCIuXCIpO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspdHJ5e2JbZl0uYShjW2ZdKX1jYXRjaChnKXtpZihnIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgamEoZixhLGcubWVzc2FnZSk7dGhyb3cgamEoZixhLGcpO319LEw9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuYT1mdW5jdGlvbihiKXtjLmImJiFxKGIpfHxhKGIpfTtcbnRoaXMuYj0hIWJ9LHViPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2EoYyk7YihjKX19LE09ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2lmKCEoXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nKSl0aHJvd1wiRXhwZWN0ZWQgc3RyaW5nLlwiO312YXIgZDthP2Q9dWIoYyxhKTpkPWM7cmV0dXJuIG5ldyBMKGQsYil9LHZiPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dWEoKSYmYSBpbnN0YW5jZW9mIEJsb2IpKXRocm93XCJFeHBlY3RlZCBCbG9iIG9yIEZpbGUuXCI7fSl9LHdiPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKGZ1bmN0aW9uKGEpe2lmKCEoKFwibnVtYmVyXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIE51bWJlcikmJjA8PWEpKXRocm93XCJFeHBlY3RlZCBhIG51bWJlciAwIG9yIGdyZWF0ZXIuXCI7fSl9LHhiPWZ1bmN0aW9uKGEsXG5iKXtyZXR1cm4gbmV3IEwoZnVuY3Rpb24oYil7aWYoIShudWxsPT09Ynx8eShiKSYmYiBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3dcIkV4cGVjdGVkIGFuIE9iamVjdC5cIjt5KGEpJiZhKGIpfSxiKX0sTj1mdW5jdGlvbigpe3JldHVybiBuZXcgTChmdW5jdGlvbihhKXtpZihudWxsIT09YSYmXCJmdW5jdGlvblwiIT1lYShhKSl0aHJvd1wiRXhwZWN0ZWQgYSBGdW5jdGlvbi5cIjt9LCEwKX07dmFyIE89ZnVuY3Rpb24oYSxiKXt1YSgpJiZhIGluc3RhbmNlb2YgQmxvYj8odGhpcy5pPWEsYj1hLnNpemUsYT1hLnR5cGUpOihhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/KGI/dGhpcy5pPW5ldyBVaW50OEFycmF5KGEpOih0aGlzLmk9bmV3IFVpbnQ4QXJyYXkoYS5ieXRlTGVuZ3RoKSx0aGlzLmkuc2V0KG5ldyBVaW50OEFycmF5KGEpKSksYj10aGlzLmkubGVuZ3RoKTooYj90aGlzLmk9YToodGhpcy5pPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSx0aGlzLmkuc2V0KGEpKSxiPWEubGVuZ3RoKSxhPVwiXCIpO3RoaXMuYT1iO3RoaXMuYj1hfTtPLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07XG5PLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihhLGIpe2lmKHVhKCkmJnRoaXMuaSBpbnN0YW5jZW9mIEJsb2IpcmV0dXJuIGE9bmIodGhpcy5pLGEsYiksbnVsbD09PWE/bnVsbDpuZXcgTyhhKTthPW5ldyBVaW50OEFycmF5KHRoaXMuaS5idWZmZXIsYSxiLWEpO3JldHVybiBuZXcgTyhhLCEwKX07XG52YXIgeWI9ZnVuY3Rpb24oYSl7dmFyIGI9W107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO2lmKHVhKCkpcmV0dXJuIGI9Yi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBPP2EuaTphfSksbmV3IE8obWIuYXBwbHkobnVsbCxiKSk7dmFyIGI9Yi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIHRhKGEpP0hhKFwicmF3XCIsYSkuYi5idWZmZXI6YS5pLmJ1ZmZlcn0pLGM9MDtiLmZvckVhY2goZnVuY3Rpb24oYSl7Yys9YS5ieXRlTGVuZ3RofSk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyksZT0wO2IuZm9yRWFjaChmdW5jdGlvbihhKXthPW5ldyBVaW50OEFycmF5KGEpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWRbZSsrXT1hW2JdfSk7cmV0dXJuIG5ldyBPKGQsITApfTt2YXIgUD1mdW5jdGlvbihhKXtpZighYSl0aHJvdyBnYSgpO30semI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZTthOnt0cnl7ZT1KU09OLnBhcnNlKGQpfWNhdGNoKGgpe2U9bnVsbDticmVhayBhfWM9dHlwZW9mIGU7ZT1cIm9iamVjdFwiPT1jJiZudWxsIT1lfHxcImZ1bmN0aW9uXCI9PWM/ZTpudWxsfWlmKG51bGw9PT1lKWU9bnVsbDtlbHNle2M9e3R5cGU6XCJmaWxlXCJ9O2Q9Yi5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxkO2YrKyl7dmFyIGc9YltmXTtjW2cuYl09Zy5hKGMsZVtnLmNdKX1yYihjLGEpO2U9Y31QKG51bGwhPT1lKTtyZXR1cm4gZX19LFE9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Yj00MDE9PT1GKGIpP25ldyB1KFwidW5hdXRoZW50aWNhdGVkXCIsXCJVc2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkLCBwbGVhc2UgYXV0aGVudGljYXRlIHVzaW5nIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uIGFuZCB0cnkgYWdhaW4uXCIpOjQwMj09PUYoYik/XG5uZXcgdShcInF1b3RhLWV4Y2VlZGVkXCIsXCJRdW90YSBmb3IgYnVja2V0ICdcIithLmJ1Y2tldCtcIicgZXhjZWVkZWQsIHBsZWFzZSB2aWV3IHF1b3RhIG9uIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9wcmljaW5nLy5cIik6NDAzPT09RihiKT9uZXcgdShcInVuYXV0aG9yaXplZFwiLFwiVXNlciBkb2VzIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzICdcIithLnBhdGgrXCInLlwiKTpjO2Iuc2VydmVyUmVzcG9uc2U9Yy5zZXJ2ZXJSZXNwb25zZTtyZXR1cm4gYn19LEFiPWZ1bmN0aW9uKGEpe3ZhciBiPVEoYSk7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9YihjLGQpOzQwND09PUYoYykmJihlPW5ldyB1KFwib2JqZWN0LW5vdC1mb3VuZFwiLFwiT2JqZWN0ICdcIithLnBhdGgrXCInIGRvZXMgbm90IGV4aXN0LlwiKSk7ZS5zZXJ2ZXJSZXNwb25zZT1kLnNlcnZlclJlc3BvbnNlO3JldHVybiBlfX0sQmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXphKGIpO2E9bmV3IHcodCtcIi92MFwiK2QsXCJHRVRcIixcbnpiKGEsYyksYS5jKTthLmE9QWIoYik7cmV0dXJuIGF9LENiPWZ1bmN0aW9uKGEsYil7dmFyIGM9emEoYik7YT1uZXcgdyh0K1wiL3YwXCIrYyxcIkRFTEVURVwiLGZ1bmN0aW9uKCl7fSxhLmMpO2EuYz1bMjAwLDIwNF07YS5hPUFiKGIpO3JldHVybiBhfSxEYj1mdW5jdGlvbihhLGIsYyl7Yz1jP25hKGMpOnt9O2MuZnVsbFBhdGg9YS5wYXRoO2Muc2l6ZT1iLmE7Yy5jb250ZW50VHlwZXx8KGE9YiYmYi50eXBlKCl8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsYy5jb250ZW50VHlwZT1hKTtyZXR1cm4gY30sRWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1cIi9iL1wiK2VuY29kZVVSSUNvbXBvbmVudChiLmJ1Y2tldCkrXCIvb1wiLGc9e1wiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOlwibXVsdGlwYXJ0XCJ9LGg7aD1cIlwiO2Zvcih2YXIgbj0wOzI+bjtuKyspaCs9TWF0aC5yYW5kb20oKS50b1N0cmluZygpLnNsaWNlKDIpO2dbXCJDb250ZW50LVR5cGVcIl09XCJtdWx0aXBhcnQvcmVsYXRlZDsgYm91bmRhcnk9XCIrXG5oO2U9RGIoYixkLGUpO249c2IoZSxjKTtkPXliKFwiLS1cIitoK1wiXFxyXFxuQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XFxyXFxuXFxyXFxuXCIrbitcIlxcclxcbi0tXCIraCtcIlxcclxcbkNvbnRlbnQtVHlwZTogXCIrZS5jb250ZW50VHlwZStcIlxcclxcblxcclxcblwiLGQsXCJcXHJcXG4tLVwiK2grXCItLVwiKTtpZihudWxsPT09ZCl0aHJvdyBpYSgpO2E9bmV3IHcodCtcIi92MFwiK2YsXCJQT1NUXCIsemIoYSxjKSxhLmIpO2EuYj17bmFtZTplLmZ1bGxQYXRofTthLmhlYWRlcnM9ZzthLmJvZHk9ZC5pO2EuYT1RKGIpO3JldHVybiBhfSxGYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmE9YTt0aGlzLmI9Yjt0aGlzLmM9ISFjO3RoaXMuZj1kfHxudWxsfSxHYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RyeXtjPWEuYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtR29vZy1VcGxvYWQtU3RhdHVzXCIpfWNhdGNoKGQpe1AoITEpfVAocihifHxbXCJhY3RpdmVcIl0sYykpO3JldHVybiBjfSxIYj1mdW5jdGlvbihhLFxuYixjLGQsZSl7dmFyIGY9XCIvYi9cIitlbmNvZGVVUklDb21wb25lbnQoYi5idWNrZXQpK1wiL29cIixnPURiKGIsZCxlKTtlPXtuYW1lOmcuZnVsbFBhdGh9O2Y9dCtcIi92MFwiK2Y7ZD17XCJYLUdvb2ctVXBsb2FkLVByb3RvY29sXCI6XCJyZXN1bWFibGVcIixcIlgtR29vZy1VcGxvYWQtQ29tbWFuZFwiOlwic3RhcnRcIixcIlgtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtTGVuZ3RoXCI6ZC5hLFwiWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlXCI6Zy5jb250ZW50VHlwZSxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifTtjPXNiKGcsYyk7YT1uZXcgdyhmLFwiUE9TVFwiLGZ1bmN0aW9uKGEpe0diKGEpO3ZhciBiO3RyeXtiPWEuYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtR29vZy1VcGxvYWQtVVJMXCIpfWNhdGNoKEIpe1AoITEpfVAodGEoYikpO3JldHVybiBifSxhLmIpO2EuYj1lO2EuaGVhZGVycz1kO2EuYm9keT1jO2EuYT1RKGIpO3JldHVybiBhfSxJYj1cbmZ1bmN0aW9uKGEsYixjLGQpe2E9bmV3IHcoYyxcIlBPU1RcIixmdW5jdGlvbihhKXt2YXIgYj1HYihhLFtcImFjdGl2ZVwiLFwiZmluYWxcIl0pLGM7dHJ5e2M9YS5hLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1Hb29nLVVwbG9hZC1TaXplLVJlY2VpdmVkXCIpfWNhdGNoKGgpe1AoITEpfWE9Yztpc0Zpbml0ZShhKSYmKGE9U3RyaW5nKGEpKTthPVwic3RyaW5nXCI9PXR5cGVvZiBhPy9eXFxzKi0/MHgvaS50ZXN0KGEpP3BhcnNlSW50KGEsMTYpOnBhcnNlSW50KGEsMTApOk5hTjtQKCFpc05hTihhKSk7cmV0dXJuIG5ldyBGYihhLGQuYSxcImZpbmFsXCI9PT1iKX0sYS5iKTthLmhlYWRlcnM9e1wiWC1Hb29nLVVwbG9hZC1Db21tYW5kXCI6XCJxdWVyeVwifTthLmE9UShiKTthLmY9ITE7cmV0dXJuIGF9LEpiPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPW5ldyBGYigwLDApO2c/KGguYT1nLmEsaC5iPWcuYik6KGguYT0wLGguYj1kLmEpO2lmKGQuYSE9PWguYil0aHJvdyBuZXcgdShcInNlcnZlci1maWxlLXdyb25nLXNpemVcIixcblwiU2VydmVyIHJlY29yZGVkIGluY29ycmVjdCB1cGxvYWQgZmlsZSBzaXplLCBwbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC5cIik7dmFyIG49Zz1oLmItaC5hOzA8ZSYmKG49TWF0aC5taW4obixlKSk7dmFyIEI9aC5hO2U9e1wiWC1Hb29nLVVwbG9hZC1Db21tYW5kXCI6bj09PWc/XCJ1cGxvYWQsIGZpbmFsaXplXCI6XCJ1cGxvYWRcIixcIlgtR29vZy1VcGxvYWQtT2Zmc2V0XCI6aC5hfTtnPWQuc2xpY2UoQixCK24pO2lmKG51bGw9PT1nKXRocm93IGlhKCk7Yz1uZXcgdyhjLFwiUE9TVFwiLGZ1bmN0aW9uKGEsYyl7dmFyIGU9R2IoYSxbXCJhY3RpdmVcIixcImZpbmFsXCJdKSxnPWguYStuLEM9ZC5hLHo7XCJmaW5hbFwiPT09ZT96PXpiKGIsZikoYSxjKTp6PW51bGw7cmV0dXJuIG5ldyBGYihnLEMsXCJmaW5hbFwiPT09ZSx6KX0sYi5iKTtjLmhlYWRlcnM9ZTtjLmJvZHk9Zy5pO2MubD1udWxsO2MuYT1RKGEpO2MuZj0hMTtyZXR1cm4gY307dmFyIFQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuTD1hO3RoaXMuYz1iO3RoaXMubD1jO3RoaXMuZj1lO3RoaXMuaD1mfHxudWxsO3RoaXMucz1kO3RoaXMubT0wO3RoaXMuRD10aGlzLnU9ITE7dGhpcy5CPVtdO3RoaXMuUz0yNjIxNDQ8dGhpcy5mLmE7dGhpcy5iPVwicnVubmluZ1wiO3RoaXMuYT10aGlzLnY9dGhpcy5nPW51bGw7dGhpcy5qPTE7dmFyIGc9dGhpczt0aGlzLkY9ZnVuY3Rpb24oYSl7Zy5hPW51bGw7Zy5qPTE7XCJzdG9yYWdlL2NhbmNlbGVkXCI9PT1hLmNvZGU/KGcudT0hMCxSKGcpKTooZy5nPWEsUyhnLFwiZXJyb3JcIikpfTt0aGlzLlA9ZnVuY3Rpb24oYSl7Zy5hPW51bGw7XCJzdG9yYWdlL2NhbmNlbGVkXCI9PT1hLmNvZGU/UihnKTooZy5nPWEsUyhnLFwiZXJyb3JcIikpfTt0aGlzLkE9dGhpcy5vPW51bGw7dGhpcy5DPXFhKGZ1bmN0aW9uKGEsYil7Zy5vPWE7Zy5BPWI7S2IoZyl9KTt0aGlzLkMudGhlbihudWxsLGZ1bmN0aW9uKCl7fSl9LEtiPWZ1bmN0aW9uKGEpe1wicnVubmluZ1wiPT09XG5hLmImJm51bGw9PT1hLmEmJihhLlM/bnVsbD09PWEudj9MYihhKTphLnU/TWIoYSk6YS5EP05iKGEpOk9iKGEpOlBiKGEpKX0sVT1mdW5jdGlvbihhLGIpeyRhKGEuYykudGhlbihmdW5jdGlvbihjKXtzd2l0Y2goYS5iKXtjYXNlIFwicnVubmluZ1wiOmIoYyk7YnJlYWs7Y2FzZSBcImNhbmNlbGluZ1wiOlMoYSxcImNhbmNlbGVkXCIpO2JyZWFrO2Nhc2UgXCJwYXVzaW5nXCI6UyhhLFwicGF1c2VkXCIpfX0pfSxMYj1mdW5jdGlvbihhKXtVKGEsZnVuY3Rpb24oYil7dmFyIGM9SGIoYS5jLGEubCxhLnMsYS5mLGEuaCk7YS5hPUkoYS5jLGMsYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2Eudj1iO2EudT0hMTtSKGEpfSx0aGlzLkYpfSl9LE1iPWZ1bmN0aW9uKGEpe3ZhciBiPWEudjtVKGEsZnVuY3Rpb24oYyl7dmFyIGQ9SWIoYS5jLGEubCxiLGEuZik7YS5hPUkoYS5jLGQsYyk7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO1FiKGEsYi5hKTthLnU9ITE7Yi5jJiYoYS5EPVxuITApO1IoYSl9LGEuRil9KX0sT2I9ZnVuY3Rpb24oYSl7dmFyIGI9MjYyMTQ0KmEuaixjPW5ldyBGYihhLm0sYS5mLmEpLGQ9YS52O1UoYSxmdW5jdGlvbihlKXt2YXIgZjt0cnl7Zj1KYihhLmwsYS5jLGQsYS5mLGIsYS5zLGMpfWNhdGNoKGcpe2EuZz1nO1MoYSxcImVycm9yXCIpO3JldHVybn1hLmE9SShhLmMsZixlKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7MzM1NTQ0MzI+MjYyMTQ0KmEuaiYmKGEuaio9Mik7YS5hPW51bGw7UWIoYSxiLmEpO2IuYz8oYS5oPWIuZixTKGEsXCJzdWNjZXNzXCIpKTpSKGEpfSxhLkYpfSl9LE5iPWZ1bmN0aW9uKGEpe1UoYSxmdW5jdGlvbihiKXt2YXIgYz1CYihhLmMsYS5sLGEucyk7YS5hPUkoYS5jLGMsYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2EuaD1iO1MoYSxcInN1Y2Nlc3NcIil9LGEuUCl9KX0sUGI9ZnVuY3Rpb24oYSl7VShhLGZ1bmN0aW9uKGIpe3ZhciBjPUViKGEuYyxhLmwsYS5zLGEuZixhLmgpO2EuYT1JKGEuYyxjLFxuYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2EuaD1iO1FiKGEsYS5mLmEpO1MoYSxcInN1Y2Nlc3NcIil9LGEuRil9KX0sUWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm07YS5tPWI7YS5tPmMmJlYoYSl9LFM9ZnVuY3Rpb24oYSxiKXtpZihhLmIhPT1iKXN3aXRjaChiKXtjYXNlIFwiY2FuY2VsaW5nXCI6YS5iPWI7bnVsbCE9PWEuYSYmYS5hLmNhbmNlbCgpO2JyZWFrO2Nhc2UgXCJwYXVzaW5nXCI6YS5iPWI7bnVsbCE9PWEuYSYmYS5hLmNhbmNlbCgpO2JyZWFrO2Nhc2UgXCJydW5uaW5nXCI6dmFyIGM9XCJwYXVzZWRcIj09PWEuYjthLmI9YjtjJiYoVihhKSxLYihhKSk7YnJlYWs7Y2FzZSBcInBhdXNlZFwiOmEuYj1iO1YoYSk7YnJlYWs7Y2FzZSBcImNhbmNlbGVkXCI6YS5nPWhhKCk7YS5iPWI7VihhKTticmVhaztjYXNlIFwiZXJyb3JcIjphLmI9YjtWKGEpO2JyZWFrO2Nhc2UgXCJzdWNjZXNzXCI6YS5iPWIsVihhKX19LFI9ZnVuY3Rpb24oYSl7c3dpdGNoKGEuYil7Y2FzZSBcInBhdXNpbmdcIjpTKGEsXG5cInBhdXNlZFwiKTticmVhaztjYXNlIFwiY2FuY2VsaW5nXCI6UyhhLFwiY2FuY2VsZWRcIik7YnJlYWs7Y2FzZSBcInJ1bm5pbmdcIjpLYihhKX19O1QucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEcodGhpcy5tLHRoaXMuZi5hLHNhKHRoaXMuYiksdGhpcy5oLHRoaXMsdGhpcy5MKX07XG5ULnByb3RvdHlwZS5NPWZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7dHJ5e2coYSk7cmV0dXJufWNhdGNoKHope310cnl7aWYoaChhKSwhKHEoYS5uZXh0KXx8cShhLmVycm9yKXx8cShhLmNvbXBsZXRlKSkpdGhyb3dcIlwiO31jYXRjaCh6KXt0aHJvd1wiRXhwZWN0ZWQgYSBmdW5jdGlvbiBvciBhbiBPYmplY3Qgd2l0aCBvbmUgb2YgYG5leHRgLCBgZXJyb3JgLCBgY29tcGxldGVgIHByb3BlcnRpZXMuXCI7fX1mdW5jdGlvbiBmKGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCl7bnVsbCE9PWEmJksoXCJvblwiLGEsYXJndW1lbnRzKTt2YXIgZT1uZXcgQmEoYixjLGQpO1JiKG4sZSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9bi5CLGI9YS5pbmRleE9mKGUpOy0xIT09YiYmYS5zcGxpY2UoYiwxKX19fXZhciBnPU4oKS5hLGg9eGIobnVsbCwhMCkuYTtLKFwib25cIixbTShmdW5jdGlvbigpe2lmKFwic3RhdGVfY2hhbmdlZFwiIT09YSl0aHJvd1wiRXhwZWN0ZWQgb25lIG9mIHRoZSBldmVudCB0eXBlczogW3N0YXRlX2NoYW5nZWRdLlwiO1xufSkseGIoZSwhMCksTigpLE4oKV0sYXJndW1lbnRzKTt2YXIgbj10aGlzLEI9W3hiKGZ1bmN0aW9uKGEpe2lmKG51bGw9PT1hKXRocm93XCJFeHBlY3RlZCBhIGZ1bmN0aW9uIG9yIGFuIE9iamVjdCB3aXRoIG9uZSBvZiBgbmV4dGAsIGBlcnJvcmAsIGBjb21wbGV0ZWAgcHJvcGVydGllcy5cIjtlKGEpfSksTigpLE4oKV07cmV0dXJuIHEoYil8fHEoYyl8fHEoZCk/ZihudWxsKShiLGMsZCk6ZihCKX07VC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkMudGhlbihhLGIpfTtcbnZhciBSYj1mdW5jdGlvbihhLGIpe2EuQi5wdXNoKGIpO1NiKGEsYil9LFY9ZnVuY3Rpb24oYSl7VGIoYSk7QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYS5CKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe1NiKGEsYil9KX0sVGI9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEubyl7dmFyIGI9ITA7c3dpdGNoKHNhKGEuYikpe2Nhc2UgXCJzdWNjZXNzXCI6QShhLm8uYmluZChudWxsLGEudygpKSkoKTticmVhaztjYXNlIFwiY2FuY2VsZWRcIjpjYXNlIFwiZXJyb3JcIjpBKGEuQS5iaW5kKG51bGwsYS5nKSkoKTticmVhaztkZWZhdWx0OmI9ITF9YiYmKGEubz1udWxsLGEuQT1udWxsKX19LFNiPWZ1bmN0aW9uKGEsYil7c3dpdGNoKHNhKGEuYikpe2Nhc2UgXCJydW5uaW5nXCI6Y2FzZSBcInBhdXNlZFwiOm51bGwhPT1iLmMmJkEoYi5jLmJpbmQoYixhLncoKSkpKCk7YnJlYWs7Y2FzZSBcInN1Y2Nlc3NcIjpudWxsIT09Yi5iJiZBKGIuYi5iaW5kKGIpKSgpO2JyZWFrO2Nhc2UgXCJjYW5jZWxlZFwiOmNhc2UgXCJlcnJvclwiOm51bGwhPT1cbmIuYSYmQShiLmEuYmluZChiLGEuZykpKCk7YnJlYWs7ZGVmYXVsdDpudWxsIT09Yi5hJiZBKGIuYS5iaW5kKGIsYS5nKSkoKX19O1QucHJvdG90eXBlLk89ZnVuY3Rpb24oKXtLKFwicmVzdW1lXCIsW10sYXJndW1lbnRzKTt2YXIgYT1cInBhdXNlZFwiPT09dGhpcy5ifHxcInBhdXNpbmdcIj09PXRoaXMuYjthJiZTKHRoaXMsXCJydW5uaW5nXCIpO3JldHVybiBhfTtULnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7SyhcInBhdXNlXCIsW10sYXJndW1lbnRzKTt2YXIgYT1cInJ1bm5pbmdcIj09PXRoaXMuYjthJiZTKHRoaXMsXCJwYXVzaW5nXCIpO3JldHVybiBhfTtULnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtLKFwiY2FuY2VsXCIsW10sYXJndW1lbnRzKTt2YXIgYT1cInJ1bm5pbmdcIj09PXRoaXMuYnx8XCJwYXVzaW5nXCI9PT10aGlzLmI7YSYmUyh0aGlzLFwiY2FuY2VsaW5nXCIpO3JldHVybiBhfTt2YXIgVz1mdW5jdGlvbihhLGIpe3RoaXMuYj1hO2lmKGIpdGhpcy5hPWIgaW5zdGFuY2VvZiBEP2I6QWEoYik7ZWxzZSBpZihhPWEuYnVja2V0KCksbnVsbCE9PWEpdGhpcy5hPW5ldyBEKGEsXCJcIik7ZWxzZSB0aHJvdyBuZXcgdShcIm5vLWRlZmF1bHQtYnVja2V0XCIsXCJObyBkZWZhdWx0IGJ1Y2tldCBmb3VuZC4gRGlkIHlvdSBzZXQgdGhlICdzdG9yYWdlQnVja2V0JyBwcm9wZXJ0eSB3aGVuIGluaXRpYWxpemluZyB0aGUgYXBwP1wiKTt9O1cucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7SyhcInRvU3RyaW5nXCIsW10sYXJndW1lbnRzKTtyZXR1cm5cImdzOi8vXCIrdGhpcy5hLmJ1Y2tldCtcIi9cIit0aGlzLmEucGF0aH07dmFyIFViPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBXKGEsYil9O2s9Vy5wcm90b3R5cGU7XG5rLkg9ZnVuY3Rpb24oYSl7SyhcImNoaWxkXCIsW00oKV0sYXJndW1lbnRzKTt2YXIgYj1vYSh0aGlzLmEucGF0aCxhKTtyZXR1cm4gVWIodGhpcy5iLG5ldyBEKHRoaXMuYS5idWNrZXQsYikpfTtrLmthPWZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLmEucGF0aDtpZigwPT1hLmxlbmd0aClhPW51bGw7ZWxzZXt2YXIgYj1hLmxhc3RJbmRleE9mKFwiL1wiKTthPS0xPT09Yj9cIlwiOmEuc2xpY2UoMCxiKX1yZXR1cm4gbnVsbD09PWE/bnVsbDpVYih0aGlzLmIsbmV3IEQodGhpcy5hLmJ1Y2tldCxhKSl9O2subWE9ZnVuY3Rpb24oKXtyZXR1cm4gVWIodGhpcy5iLG5ldyBEKHRoaXMuYS5idWNrZXQsXCJcIikpfTtrLlU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmJ1Y2tldH07ay5mYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucGF0aH07ay5qYT1mdW5jdGlvbigpe3JldHVybiBwYSh0aGlzLmEucGF0aCl9O2sub2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmx9O1xuay5aPWZ1bmN0aW9uKGEsYil7SyhcInB1dFwiLFt2YigpLG5ldyBMKHRiLCEwKV0sYXJndW1lbnRzKTtYKHRoaXMsXCJwdXRcIik7cmV0dXJuIG5ldyBUKHRoaXMsdGhpcy5iLHRoaXMuYSxxYigpLG5ldyBPKGEpLGIpfTtrLiQ9ZnVuY3Rpb24oYSxiLGMpe0soXCJwdXRTdHJpbmdcIixbTSgpLE0oQ2EsITApLG5ldyBMKHRiLCEwKV0sYXJndW1lbnRzKTtYKHRoaXMsXCJwdXRTdHJpbmdcIik7dmFyIGQ9SGEoeShiKT9iOlwicmF3XCIsYSksZT1jP25hKGMpOnt9OyF5KGUuY29udGVudFR5cGUpJiZ5KGQuYSkmJihlLmNvbnRlbnRUeXBlPWQuYSk7cmV0dXJuIG5ldyBUKHRoaXMsdGhpcy5iLHRoaXMuYSxxYigpLG5ldyBPKGQuYiwhMCksZSl9O2suWD1mdW5jdGlvbigpe0soXCJkZWxldGVcIixbXSxhcmd1bWVudHMpO1godGhpcyxcImRlbGV0ZVwiKTt2YXIgYT10aGlzO3JldHVybiAkYSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9Q2IoYS5iLGEuYSk7cmV0dXJuIEkoYS5iLGMsYikuYSgpfSl9O1xuay5JPWZ1bmN0aW9uKCl7SyhcImdldE1ldGFkYXRhXCIsW10sYXJndW1lbnRzKTtYKHRoaXMsXCJnZXRNZXRhZGF0YVwiKTt2YXIgYT10aGlzO3JldHVybiAkYSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9QmIoYS5iLGEuYSxxYigpKTtyZXR1cm4gSShhLmIsYyxiKS5hKCl9KX07ay5hYT1mdW5jdGlvbihhKXtLKFwidXBkYXRlTWV0YWRhdGFcIixbbmV3IEwodGIsdm9pZCAwKV0sYXJndW1lbnRzKTtYKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiKTt2YXIgYj10aGlzO3JldHVybiAkYSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYyl7dmFyIGQ9Yi5iLGU9Yi5hLGY9YSxnPXFiKCksaD16YShlKSxoPXQrXCIvdjBcIitoLGY9c2IoZixnKSxkPW5ldyB3KGgsXCJQQVRDSFwiLHpiKGQsZyksZC5jKTtkLmhlYWRlcnM9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJ9O2QuYm9keT1mO2QuYT1BYihlKTtyZXR1cm4gSShiLmIsZCxjKS5hKCl9KX07XG5rLlk9ZnVuY3Rpb24oKXtLKFwiZ2V0RG93bmxvYWRVUkxcIixbXSxhcmd1bWVudHMpO1godGhpcyxcImdldERvd25sb2FkVVJMXCIpO3JldHVybiB0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5kb3dubG9hZFVSTHNbMF07aWYoeShhKSlyZXR1cm4gYTt0aHJvdyBuZXcgdShcIm5vLWRvd25sb2FkLXVybFwiLFwiVGhlIGdpdmVuIGZpbGUgZG9lcyBub3QgaGF2ZSBhbnkgZG93bmxvYWQgVVJMcy5cIik7fSl9O3ZhciBYPWZ1bmN0aW9uKGEsYil7aWYoXCJcIj09PWEuYS5wYXRoKXRocm93IG5ldyB1KFwiaW52YWxpZC1yb290LW9wZXJhdGlvblwiLFwiVGhlIG9wZXJhdGlvbiAnXCIrYitcIicgY2Fubm90IGJlIHBlcmZvcm1lZCBvbiBhIHJvb3QgcmVmZXJlbmNlLCBjcmVhdGUgYSBub24tcm9vdCByZWZlcmVuY2UgdXNpbmcgY2hpbGQsIHN1Y2ggYXMgLmNoaWxkKCdmaWxlLnBuZycpLlwiKTt9O3ZhciBZPWZ1bmN0aW9uKGEsYil7dGhpcy5hPW5ldyBaYShhLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBXKGEsYil9LFRhLHRoaXMseShiKT9iOm5ldyBVYSk7dGhpcy5iPWE7dGhpcy5jPW5ldyBWYih0aGlzKX07az1ZLnByb3RvdHlwZTtrLmJhPWZ1bmN0aW9uKGEpe0soXCJyZWZcIixbTShmdW5jdGlvbihhKXtpZigvXltBLVphLXpdKzpcXC9cXC8vLnRlc3QoYSkpdGhyb3dcIkV4cGVjdGVkIGNoaWxkIHBhdGggYnV0IGdvdCBhIFVSTCwgdXNlIHJlZkZyb21VUkwgaW5zdGVhZC5cIjt9LCEwKV0sYXJndW1lbnRzKTt2YXIgYj1uZXcgVyh0aGlzLmEpO3JldHVybiBxKGEpP2IuSChhKTpifTtcbmsuY2E9ZnVuY3Rpb24oYSl7SyhcInJlZkZyb21VUkxcIixbTShmdW5jdGlvbihhKXtpZighL15bQS1aYS16XSs6XFwvXFwvLy50ZXN0KGEpKXRocm93XCJFeHBlY3RlZCBmdWxsIFVSTCBidXQgZ290IGEgY2hpbGQgcGF0aCwgdXNlIHJlZiBpbnN0ZWFkLlwiO3RyeXtBYShhKX1jYXRjaChjKXt0aHJvd1wiRXhwZWN0ZWQgdmFsaWQgZnVsbCBVUkwgYnV0IGdvdCBhbiBpbnZhbGlkIG9uZS5cIjt9fSwhMSldLGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBXKHRoaXMuYSxhKX07ay5oYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYn07ay5lYT1mdW5jdGlvbihhKXtLKFwic2V0TWF4VXBsb2FkUmV0cnlUaW1lXCIsW3diKCldLGFyZ3VtZW50cyk7dGhpcy5hLmI9YX07ay5nYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuY307ay5kYT1mdW5jdGlvbihhKXtLKFwic2V0TWF4T3BlcmF0aW9uUmV0cnlUaW1lXCIsW3diKCldLGFyZ3VtZW50cyk7dGhpcy5hLmM9YX07ay5UPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07XG5rLlI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTt2YXIgVmI9ZnVuY3Rpb24oYSl7dGhpcy5hPWF9O1ZiLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hLmE7YS5mPSEwO2EuYT1udWxsO1lhKGEuaCl9O3ZhciBaPWZ1bmN0aW9uKGEsYixjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6Y30pfTtXLnByb3RvdHlwZS50b1N0cmluZz1XLnByb3RvdHlwZS50b1N0cmluZztXLnByb3RvdHlwZS5jaGlsZD1XLnByb3RvdHlwZS5IO1cucHJvdG90eXBlLnB1dD1XLnByb3RvdHlwZS5aO1cucHJvdG90eXBlLnB1dFN0cmluZz1XLnByb3RvdHlwZS4kO1cucHJvdG90eXBlW1wiZGVsZXRlXCJdPVcucHJvdG90eXBlLlg7Vy5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9Vy5wcm90b3R5cGUuSTtXLnByb3RvdHlwZS51cGRhdGVNZXRhZGF0YT1XLnByb3RvdHlwZS5hYTtXLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTD1XLnByb3RvdHlwZS5ZO1ooVy5wcm90b3R5cGUsXCJwYXJlbnRcIixXLnByb3RvdHlwZS5rYSk7WihXLnByb3RvdHlwZSxcInJvb3RcIixXLnByb3RvdHlwZS5tYSk7WihXLnByb3RvdHlwZSxcImJ1Y2tldFwiLFcucHJvdG90eXBlLlUpO1ooVy5wcm90b3R5cGUsXCJmdWxsUGF0aFwiLFcucHJvdG90eXBlLmZhKTtcblooVy5wcm90b3R5cGUsXCJuYW1lXCIsVy5wcm90b3R5cGUuamEpO1ooVy5wcm90b3R5cGUsXCJzdG9yYWdlXCIsVy5wcm90b3R5cGUub2EpO1kucHJvdG90eXBlLnJlZj1ZLnByb3RvdHlwZS5iYTtZLnByb3RvdHlwZS5yZWZGcm9tVVJMPVkucHJvdG90eXBlLmNhO1ooWS5wcm90b3R5cGUsXCJtYXhPcGVyYXRpb25SZXRyeVRpbWVcIixZLnByb3RvdHlwZS5nYSk7WS5wcm90b3R5cGUuc2V0TWF4T3BlcmF0aW9uUmV0cnlUaW1lPVkucHJvdG90eXBlLmRhO1ooWS5wcm90b3R5cGUsXCJtYXhVcGxvYWRSZXRyeVRpbWVcIixZLnByb3RvdHlwZS5oYSk7WS5wcm90b3R5cGUuc2V0TWF4VXBsb2FkUmV0cnlUaW1lPVkucHJvdG90eXBlLmVhO1ooWS5wcm90b3R5cGUsXCJhcHBcIixZLnByb3RvdHlwZS5UKTtaKFkucHJvdG90eXBlLFwiSU5URVJOQUxcIixZLnByb3RvdHlwZS5SKTtWYi5wcm90b3R5cGVbXCJkZWxldGVcIl09VmIucHJvdG90eXBlLmI7WS5wcm90b3R5cGUuY2FwaV89ZnVuY3Rpb24oYSl7dD1hfTtcblQucHJvdG90eXBlLm9uPVQucHJvdG90eXBlLk07VC5wcm90b3R5cGUucmVzdW1lPVQucHJvdG90eXBlLk87VC5wcm90b3R5cGUucGF1c2U9VC5wcm90b3R5cGUuTjtULnByb3RvdHlwZS5jYW5jZWw9VC5wcm90b3R5cGUuY2FuY2VsO1ooVC5wcm90b3R5cGUsXCJzbmFwc2hvdFwiLFQucHJvdG90eXBlLncpO1ooRy5wcm90b3R5cGUsXCJieXRlc1RyYW5zZmVycmVkXCIsRy5wcm90b3R5cGUuVik7WihHLnByb3RvdHlwZSxcInRvdGFsQnl0ZXNcIixHLnByb3RvdHlwZS5xYSk7WihHLnByb3RvdHlwZSxcInN0YXRlXCIsRy5wcm90b3R5cGUubmEpO1ooRy5wcm90b3R5cGUsXCJtZXRhZGF0YVwiLEcucHJvdG90eXBlLmlhKTtaKEcucHJvdG90eXBlLFwiZG93bmxvYWRVUkxcIixHLnByb3RvdHlwZS5XKTtaKEcucHJvdG90eXBlLFwidGFza1wiLEcucHJvdG90eXBlLnBhKTtaKEcucHJvdG90eXBlLFwicmVmXCIsRy5wcm90b3R5cGUubGEpO3JhLlNUQVRFX0NIQU5HRUQ9XCJzdGF0ZV9jaGFuZ2VkXCI7XG54LlJVTk5JTkc9XCJydW5uaW5nXCI7eC5QQVVTRUQ9XCJwYXVzZWRcIjt4LlNVQ0NFU1M9XCJzdWNjZXNzXCI7eC5DQU5DRUxFRD1cImNhbmNlbGVkXCI7eC5FUlJPUj1cImVycm9yXCI7RS5SQVc9XCJyYXdcIjtFLkJBU0U2ND1cImJhc2U2NFwiO0UuQkFTRTY0VVJMPVwiYmFzZTY0dXJsXCI7RS5EQVRBX1VSTD1cImRhdGFfdXJsXCI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gbmV3IFkoYSl9dmFyIGI9e1Rhc2tTdGF0ZTp4LFRhc2tFdmVudDpyYSxTdHJpbmdGb3JtYXQ6RSxTdG9yYWdlOlksUmVmZXJlbmNlOld9O2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZmlyZWJhc2UpZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwic3RvcmFnZVwiLGEsYik7ZWxzZSB0aHJvdyBFcnJvcihcIkNhbm5vdCBpbnN0YWxsIEZpcmViYXNlIFN0b3JhZ2UgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKTt9KSgpO30pLmNhbGwodGhpcyk7XG59KS5jYWxsKHR5cGVvZiBnbG9iYWwgIT09IHVuZGVmaW5lZCA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSB1bmRlZmluZWQgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkID8gd2luZG93IDoge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZS5zdG9yYWdlO1xuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRHJvcHpvbmVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiRHJvcHpvbmVcIl0gPSBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2F0dHJBY2NlcHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9hdHRyQWNjZXB0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F0dHJBY2NlcHQpO1xuXHRcblx0dmFyIF9nZXREYXRhVHJhbnNmZXJJdGVtcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2dldERhdGFUcmFuc2Zlckl0ZW1zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldERhdGFUcmFuc2Zlckl0ZW1zKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyogZXNsaW50IHByZWZlci10ZW1wbGF0ZTogMCAqL1xuXHRcblx0XG5cdHZhciBzdXBwb3J0TXVsdGlwbGUgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPyAnbXVsdGlwbGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgOiB0cnVlO1xuXHRcblx0dmFyIERyb3B6b25lID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoRHJvcHpvbmUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRHJvcHpvbmUsIG51bGwsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXJDaGlsZHJlbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyQ2hpbGRyZW4oY2hpbGRyZW4sIGlzRHJhZ0FjdGl2ZSwgaXNEcmFnUmVqZWN0KSB7XG5cdCAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gY2hpbGRyZW4oeyBpc0RyYWdBY3RpdmU6IGlzRHJhZ0FjdGl2ZSwgaXNEcmFnUmVqZWN0OiBpc0RyYWdSZWplY3QgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgZnVuY3Rpb24gRHJvcHpvbmUocHJvcHMsIGNvbnRleHQpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcm9wem9uZSk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERyb3B6b25lLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRHJvcHpvbmUpKS5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cdFxuXHQgICAgX3RoaXMub25DbGljayA9IF90aGlzLm9uQ2xpY2suYmluZChfdGhpcyk7XG5cdCAgICBfdGhpcy5vbkRyYWdTdGFydCA9IF90aGlzLm9uRHJhZ1N0YXJ0LmJpbmQoX3RoaXMpO1xuXHQgICAgX3RoaXMub25EcmFnRW50ZXIgPSBfdGhpcy5vbkRyYWdFbnRlci5iaW5kKF90aGlzKTtcblx0ICAgIF90aGlzLm9uRHJhZ0xlYXZlID0gX3RoaXMub25EcmFnTGVhdmUuYmluZChfdGhpcyk7XG5cdCAgICBfdGhpcy5vbkRyYWdPdmVyID0gX3RoaXMub25EcmFnT3Zlci5iaW5kKF90aGlzKTtcblx0ICAgIF90aGlzLm9uRHJvcCA9IF90aGlzLm9uRHJvcC5iaW5kKF90aGlzKTtcblx0ICAgIF90aGlzLm9uRmlsZURpYWxvZ0NhbmNlbCA9IF90aGlzLm9uRmlsZURpYWxvZ0NhbmNlbC5iaW5kKF90aGlzKTtcblx0ICAgIF90aGlzLmZpbGVBY2NlcHRlZCA9IF90aGlzLmZpbGVBY2NlcHRlZC5iaW5kKF90aGlzKTtcblx0ICAgIF90aGlzLmlzRmlsZURpYWxvZ0FjdGl2ZSA9IGZhbHNlO1xuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGlzRHJhZ0FjdGl2ZTogZmFsc2Vcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRHJvcHpvbmUsIFt7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHRoaXMuZW50ZXJDb3VudGVyID0gMDtcblx0ICAgICAgLy8gVHJpZWQgaW1wbGVtZW50aW5nIGFkZEV2ZW50TGlzdGVuZXIsIGJ1dCBkaWRuJ3Qgd29yayBvdXRcblx0ICAgICAgZG9jdW1lbnQuYm9keS5vbmZvY3VzID0gdGhpcy5vbkZpbGVEaWFsb2dDYW5jZWw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAvLyBDYW4gYmUgcmVwbGFjZWQgd2l0aCByZW1vdmVFdmVudExpc3RlbmVyLCBpZiBhZGRFdmVudExpc3RlbmVyIHdvcmtzXG5cdCAgICAgIGRvY3VtZW50LmJvZHkub25mb2N1cyA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25EcmFnU3RhcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGUpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMub25EcmFnU3RhcnQpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0LmNhbGwodGhpcywgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvbkRyYWdFbnRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnRW50ZXIoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICAvLyBDb3VudCB0aGUgZHJvcHpvbmUgYW5kIGFueSBjaGlsZHJlbiB0aGF0IGFyZSBlbnRlcmVkLlxuXHQgICAgICArK3RoaXMuZW50ZXJDb3VudGVyO1xuXHRcblx0ICAgICAgdmFyIGFsbEZpbGVzQWNjZXB0ZWQgPSB0aGlzLmFsbEZpbGVzQWNjZXB0ZWQoKDAsIF9nZXREYXRhVHJhbnNmZXJJdGVtczIuZGVmYXVsdCkoZSwgdGhpcy5wcm9wcy5tdWx0aXBsZSkpO1xuXHRcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaXNEcmFnQWN0aXZlOiBhbGxGaWxlc0FjY2VwdGVkLFxuXHQgICAgICAgIGlzRHJhZ1JlamVjdDogIWFsbEZpbGVzQWNjZXB0ZWRcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYWdFbnRlcikge1xuXHQgICAgICAgIHRoaXMucHJvcHMub25EcmFnRW50ZXIuY2FsbCh0aGlzLCBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29uRHJhZ092ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZ092ZXIoZSkge1xuXHQgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblx0ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgLy8gY29udGludWUgcmVnYXJkbGVzcyBvZiBlcnJvclxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYWdPdmVyKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdPdmVyLmNhbGwodGhpcywgZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29uRHJhZ0xlYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdMZWF2ZShlKSB7XG5cdCAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdCAgICAgIC8vIE9ubHkgZGVhY3RpdmF0ZSBvbmNlIHRoZSBkcm9wem9uZSBhbmQgYWxsIGNoaWxkcmVuIHdhcyBsZWZ0LlxuXHQgICAgICBpZiAoLS10aGlzLmVudGVyQ291bnRlciA+IDApIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGlzRHJhZ0FjdGl2ZTogZmFsc2UsXG5cdCAgICAgICAgaXNEcmFnUmVqZWN0OiBmYWxzZVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlmICh0aGlzLnByb3BzLm9uRHJhZ0xlYXZlKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdMZWF2ZS5jYWxsKHRoaXMsIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25Ecm9wJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyb3AoZSkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgb25Ecm9wID0gX3Byb3BzLm9uRHJvcCxcblx0ICAgICAgICAgIG9uRHJvcEFjY2VwdGVkID0gX3Byb3BzLm9uRHJvcEFjY2VwdGVkLFxuXHQgICAgICAgICAgb25Ecm9wUmVqZWN0ZWQgPSBfcHJvcHMub25Ecm9wUmVqZWN0ZWQsXG5cdCAgICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcblx0ICAgICAgICAgIGRpc2FibGVQcmV2aWV3ID0gX3Byb3BzLmRpc2FibGVQcmV2aWV3O1xuXHRcblx0ICAgICAgdmFyIGZpbGVMaXN0ID0gKDAsIF9nZXREYXRhVHJhbnNmZXJJdGVtczIuZGVmYXVsdCkoZSwgbXVsdGlwbGUpO1xuXHQgICAgICB2YXIgYWNjZXB0ZWRGaWxlcyA9IFtdO1xuXHQgICAgICB2YXIgcmVqZWN0ZWRGaWxlcyA9IFtdO1xuXHRcblx0ICAgICAgLy8gU3RvcCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3Jcblx0ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgICAgLy8gUmVzZXQgdGhlIGNvdW50ZXIgYWxvbmcgd2l0aCB0aGUgZHJhZyBvbiBhIGRyb3AuXG5cdCAgICAgIHRoaXMuZW50ZXJDb3VudGVyID0gMDtcblx0ICAgICAgdGhpcy5pc0ZpbGVEaWFsb2dBY3RpdmUgPSBmYWxzZTtcblx0XG5cdCAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcblx0ICAgICAgICBpZiAoIWRpc2FibGVQcmV2aWV3KSB7XG5cdCAgICAgICAgICBmaWxlLnByZXZpZXcgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKF90aGlzMi5maWxlQWNjZXB0ZWQoZmlsZSkgJiYgX3RoaXMyLmZpbGVNYXRjaFNpemUoZmlsZSkpIHtcblx0ICAgICAgICAgIGFjY2VwdGVkRmlsZXMucHVzaChmaWxlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVqZWN0ZWRGaWxlcy5wdXNoKGZpbGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpZiAob25Ecm9wKSB7XG5cdCAgICAgICAgb25Ecm9wLmNhbGwodGhpcywgYWNjZXB0ZWRGaWxlcywgcmVqZWN0ZWRGaWxlcywgZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChyZWplY3RlZEZpbGVzLmxlbmd0aCA+IDAgJiYgb25Ecm9wUmVqZWN0ZWQpIHtcblx0ICAgICAgICBvbkRyb3BSZWplY3RlZC5jYWxsKHRoaXMsIHJlamVjdGVkRmlsZXMsIGUpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoYWNjZXB0ZWRGaWxlcy5sZW5ndGggPiAwICYmIG9uRHJvcEFjY2VwdGVkKSB7XG5cdCAgICAgICAgb25Ecm9wQWNjZXB0ZWQuY2FsbCh0aGlzLCBhY2NlcHRlZEZpbGVzLCBlKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBpc0RyYWdBY3RpdmU6IGZhbHNlLFxuXHQgICAgICAgIGlzRHJhZ1JlamVjdDogZmFsc2Vcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25DbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIG9uQ2xpY2sgPSBfcHJvcHMyLm9uQ2xpY2ssXG5cdCAgICAgICAgICBkaXNhYmxlQ2xpY2sgPSBfcHJvcHMyLmRpc2FibGVDbGljaztcblx0XG5cdCAgICAgIGlmICghZGlzYWJsZUNsaWNrKSB7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICB0aGlzLm9wZW4oKTtcblx0ICAgICAgICBpZiAob25DbGljaykge1xuXHQgICAgICAgICAgb25DbGljay5jYWxsKHRoaXMsIGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29uRmlsZURpYWxvZ0NhbmNlbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25GaWxlRGlhbG9nQ2FuY2VsKCkge1xuXHQgICAgICAvLyB0aW1lb3V0IHdpbGwgbm90IHJlY29nbml6ZSBjb250ZXh0IG9mIHRoaXMgbWV0aG9kXG5cdCAgICAgIHZhciBvbkZpbGVEaWFsb2dDYW5jZWwgPSB0aGlzLnByb3BzLm9uRmlsZURpYWxvZ0NhbmNlbDtcblx0ICAgICAgdmFyIGZpbGVJbnB1dEVsID0gdGhpcy5maWxlSW5wdXRFbDtcblx0ICAgICAgdmFyIGlzRmlsZURpYWxvZ0FjdGl2ZSA9IHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlO1xuXHQgICAgICAvLyBleGVjdXRlIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIG9uRmlsZURpYWxvZ0NhbmNlbCBpcyBkZWZpbmVkIGFuZCBGaWxlRGlhbG9nXG5cdCAgICAgIC8vIGlzIG9wZW5lZCBpbiB0aGUgYnJvd3NlclxuXHRcblx0ICAgICAgaWYgKG9uRmlsZURpYWxvZ0NhbmNlbCAmJiBpc0ZpbGVEaWFsb2dBY3RpdmUpIHtcblx0ICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IGFzIEZpbGVMaXN0XG5cdCAgICAgICAgICB2YXIgRmlsZUxpc3QgPSBmaWxlSW5wdXRFbC5maWxlcztcblx0ICAgICAgICAgIGlmICghRmlsZUxpc3QubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGlzRmlsZURpYWxvZ0FjdGl2ZSA9IGZhbHNlO1xuXHQgICAgICAgICAgICBvbkZpbGVEaWFsb2dDYW5jZWwoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCAzMDApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsZUFjY2VwdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmaWxlQWNjZXB0ZWQoZmlsZSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9hdHRyQWNjZXB0Mi5kZWZhdWx0KShmaWxlLCB0aGlzLnByb3BzLmFjY2VwdCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmlsZU1hdGNoU2l6ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmlsZU1hdGNoU2l6ZShmaWxlKSB7XG5cdCAgICAgIHJldHVybiBmaWxlLnNpemUgPD0gdGhpcy5wcm9wcy5tYXhTaXplICYmIGZpbGUuc2l6ZSA+PSB0aGlzLnByb3BzLm1pblNpemU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWxsRmlsZXNBY2NlcHRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWxsRmlsZXNBY2NlcHRlZChmaWxlcykge1xuXHQgICAgICByZXR1cm4gZmlsZXMuZXZlcnkodGhpcy5maWxlQWNjZXB0ZWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29wZW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG5cdCAgICAgIHRoaXMuaXNGaWxlRGlhbG9nQWN0aXZlID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5maWxlSW5wdXRFbC52YWx1ZSA9IG51bGw7XG5cdCAgICAgIHRoaXMuZmlsZUlucHV0RWwuY2xpY2soKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICBhY2NlcHQgPSBfcHJvcHMzLmFjY2VwdCxcblx0ICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF9wcm9wczMuYWN0aXZlQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgaW5wdXRQcm9wcyA9IF9wcm9wczMuaW5wdXRQcm9wcyxcblx0ICAgICAgICAgIG11bHRpcGxlID0gX3Byb3BzMy5tdWx0aXBsZSxcblx0ICAgICAgICAgIG5hbWUgPSBfcHJvcHMzLm5hbWUsXG5cdCAgICAgICAgICByZWplY3RDbGFzc05hbWUgPSBfcHJvcHMzLnJlamVjdENsYXNzTmFtZSxcblx0ICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcblx0ICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzMywgWydhY2NlcHQnLCAnYWN0aXZlQ2xhc3NOYW1lJywgJ2lucHV0UHJvcHMnLCAnbXVsdGlwbGUnLCAnbmFtZScsICdyZWplY3RDbGFzc05hbWUnLCAnY2hpbGRyZW4nXSk7XG5cdFxuXHQgICAgICB2YXIgYWN0aXZlU3R5bGUgPSByZXN0LmFjdGl2ZVN0eWxlLFxuXHQgICAgICAgICAgY2xhc3NOYW1lID0gcmVzdC5jbGFzc05hbWUsXG5cdCAgICAgICAgICByZWplY3RTdHlsZSA9IHJlc3QucmVqZWN0U3R5bGUsXG5cdCAgICAgICAgICBzdHlsZSA9IHJlc3Quc3R5bGUsXG5cdCAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhyZXN0LCBbJ2FjdGl2ZVN0eWxlJywgJ2NsYXNzTmFtZScsICdyZWplY3RTdHlsZScsICdzdHlsZSddKTtcblx0XG5cdCAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgaXNEcmFnQWN0aXZlID0gX3N0YXRlLmlzRHJhZ0FjdGl2ZSxcblx0ICAgICAgICAgIGlzRHJhZ1JlamVjdCA9IF9zdGF0ZS5pc0RyYWdSZWplY3Q7XG5cdFxuXHRcblx0ICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICcnO1xuXHRcblx0ICAgICAgaWYgKGlzRHJhZ0FjdGl2ZSAmJiBhY3RpdmVDbGFzc05hbWUpIHtcblx0ICAgICAgICBjbGFzc05hbWUgKz0gJyAnICsgYWN0aXZlQ2xhc3NOYW1lO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc0RyYWdSZWplY3QgJiYgcmVqZWN0Q2xhc3NOYW1lKSB7XG5cdCAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHJlamVjdENsYXNzTmFtZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCFjbGFzc05hbWUgJiYgIXN0eWxlICYmICFhY3RpdmVTdHlsZSAmJiAhcmVqZWN0U3R5bGUpIHtcblx0ICAgICAgICBzdHlsZSA9IHtcblx0ICAgICAgICAgIHdpZHRoOiAyMDAsXG5cdCAgICAgICAgICBoZWlnaHQ6IDIwMCxcblx0ICAgICAgICAgIGJvcmRlcldpZHRoOiAyLFxuXHQgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNjY2Jyxcblx0ICAgICAgICAgIGJvcmRlclN0eWxlOiAnZGFzaGVkJyxcblx0ICAgICAgICAgIGJvcmRlclJhZGl1czogNVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgYWN0aXZlU3R5bGUgPSB7XG5cdCAgICAgICAgICBib3JkZXJTdHlsZTogJ3NvbGlkJyxcblx0ICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNlZWUnXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZWplY3RTdHlsZSA9IHtcblx0ICAgICAgICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuXHQgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZGRkZCdcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgYXBwbGllZFN0eWxlID0gdm9pZCAwO1xuXHQgICAgICBpZiAoYWN0aXZlU3R5bGUgJiYgaXNEcmFnQWN0aXZlKSB7XG5cdCAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCBhY3RpdmVTdHlsZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAocmVqZWN0U3R5bGUgJiYgaXNEcmFnUmVqZWN0KSB7XG5cdCAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCByZWplY3RTdHlsZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYXBwbGllZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGlucHV0QXR0cmlidXRlcyA9IHtcblx0ICAgICAgICBhY2NlcHQ6IGFjY2VwdCxcblx0ICAgICAgICB0eXBlOiAnZmlsZScsXG5cdCAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0sXG5cdCAgICAgICAgbXVsdGlwbGU6IHN1cHBvcnRNdWx0aXBsZSAmJiBtdWx0aXBsZSxcblx0ICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuXHQgICAgICAgICAgcmV0dXJuIF90aGlzMy5maWxlSW5wdXRFbCA9IGVsO1xuXHQgICAgICAgIH0sIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkRyb3Bcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmIChuYW1lICYmIG5hbWUubGVuZ3RoKSB7XG5cdCAgICAgICAgaW5wdXRBdHRyaWJ1dGVzLm5hbWUgPSBuYW1lO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBSZW1vdmUgY3VzdG9tIHByb3BlcnRpZXMgYmVmb3JlIHBhc3NpbmcgdGhlbSB0byB0aGUgd3JhcHBlciBkaXYgZWxlbWVudFxuXHQgICAgICB2YXIgY3VzdG9tUHJvcHMgPSBbJ2FjY2VwdGVkRmlsZXMnLCAnZGlzYWJsZVByZXZpZXcnLCAnZGlzYWJsZUNsaWNrJywgJ29uRHJvcEFjY2VwdGVkJywgJ29uRHJvcFJlamVjdGVkJywgJ29uRmlsZURpYWxvZ0NhbmNlbCcsICdtYXhTaXplJywgJ21pblNpemUnXTtcblx0ICAgICAgdmFyIGRpdlByb3BzID0gX2V4dGVuZHMoe30sIHByb3BzKTtcblx0ICAgICAgY3VzdG9tUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuXHQgICAgICAgIHJldHVybiBkZWxldGUgZGl2UHJvcHNbcHJvcF07XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIF9leHRlbmRzKHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICAgICAgc3R5bGU6IGFwcGxpZWRTdHlsZVxuXHQgICAgICAgIH0sIGRpdlByb3BzIC8qIGV4cGFuZCB1c2VyIHByb3ZpZGVkIHByb3BzIGZpcnN0IHNvIGV2ZW50IGhhbmRsZXJzIGFyZSBuZXZlciBvdmVycmlkZGVuICovLCB7XG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssXG5cdCAgICAgICAgICBvbkRyYWdTdGFydDogdGhpcy5vbkRyYWdTdGFydCxcblx0ICAgICAgICAgIG9uRHJhZ0VudGVyOiB0aGlzLm9uRHJhZ0VudGVyLFxuXHQgICAgICAgICAgb25EcmFnT3ZlcjogdGhpcy5vbkRyYWdPdmVyLFxuXHQgICAgICAgICAgb25EcmFnTGVhdmU6IHRoaXMub25EcmFnTGVhdmUsXG5cdCAgICAgICAgICBvbkRyb3A6IHRoaXMub25Ecm9wXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgRHJvcHpvbmUucmVuZGVyQ2hpbGRyZW4oY2hpbGRyZW4sIGlzRHJhZ0FjdGl2ZSwgaXNEcmFnUmVqZWN0KSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgaW5wdXRQcm9wcyAvKiBleHBhbmQgdXNlciBwcm92aWRlZCBpbnB1dFByb3BzIGZpcnN0IHNvIGlucHV0QXR0cmlidXRlcyBvdmVycmlkZSB0aGVtICovLCBpbnB1dEF0dHJpYnV0ZXMpKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERyb3B6b25lO1xuXHR9KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXHRcblx0RHJvcHpvbmUuZGVmYXVsdFByb3BzID0ge1xuXHQgIGRpc2FibGVQcmV2aWV3OiBmYWxzZSxcblx0ICBkaXNhYmxlQ2xpY2s6IGZhbHNlLFxuXHQgIG11bHRpcGxlOiB0cnVlLFxuXHQgIG1heFNpemU6IEluZmluaXR5LFxuXHQgIG1pblNpemU6IDBcblx0fTtcblx0XG5cdERyb3B6b25lLnByb3BUeXBlcyA9IHtcblx0ICBvbkNsaWNrOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Ecm9wOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Ecm9wQWNjZXB0ZWQ6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkRyb3BSZWplY3RlZDogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRHJhZ1N0YXJ0OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25EcmFnRW50ZXI6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkRyYWdPdmVyOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25EcmFnTGVhdmU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuZnVuYyxcblx0XG5cdCAgY2hpbGRyZW46IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLm5vZGUsIF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuZnVuY10pLCAvLyBDb250ZW50cyBvZiB0aGUgZHJvcHpvbmVcblx0ICBzdHlsZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3QsIC8vIENTUyBzdHlsZXMgdG8gYXBwbHlcblx0ICBhY3RpdmVTdHlsZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3QsIC8vIENTUyBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgYWNjZXB0ZWRcblx0ICByZWplY3RTdHlsZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3QsIC8vIENTUyBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wIHdpbGwgYmUgcmVqZWN0ZWRcblx0ICBjbGFzc05hbWU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBPcHRpb25hbCBjbGFzc05hbWVcblx0ICBhY3RpdmVDbGFzc05hbWU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBjbGFzc05hbWUgZm9yIGFjY2VwdGVkIHN0YXRlXG5cdCAgcmVqZWN0Q2xhc3NOYW1lOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gY2xhc3NOYW1lIGZvciByZWplY3RlZCBzdGF0ZVxuXHRcblx0ICBkaXNhYmxlUHJldmlldzogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5ib29sLCAvLyBFbmFibGUvZGlzYWJsZSBwcmV2aWV3IGdlbmVyYXRpb25cblx0ICBkaXNhYmxlQ2xpY2s6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbCwgLy8gRGlzYWxsb3cgY2xpY2tpbmcgb24gdGhlIGRyb3B6b25lIGNvbnRhaW5lciB0byBvcGVuIGZpbGUgZGlhbG9nXG5cdCAgb25GaWxlRGlhbG9nQ2FuY2VsOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmZ1bmMsIC8vIFByb3ZpZGUgYSBjYWxsYmFjayBvbiBjbGlja2luZyB0aGUgY2FuY2VsIGJ1dHRvbiBvZiB0aGUgZmlsZSBkaWFsb2dcblx0XG5cdCAgaW5wdXRQcm9wczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3QsIC8vIFBhc3MgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHRvIHRoZSA8aW5wdXQgdHlwZT1cImZpbGVcIi8+IHRhZ1xuXHQgIG11bHRpcGxlOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmJvb2wsIC8vIEFsbG93IGRyb3BwaW5nIG11bHRpcGxlIGZpbGVzXG5cdCAgYWNjZXB0OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gQWxsb3cgc3BlY2lmaWMgdHlwZXMgb2YgZmlsZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vb2tvbmV0L2F0dHItYWNjZXB0IGZvciBtb3JlIGluZm9ybWF0aW9uXG5cdCAgbmFtZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsIC8vIG5hbWUgYXR0cmlidXRlIGZvciB0aGUgaW5wdXQgdGFnXG5cdCAgbWF4U2l6ZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgbWluU2l6ZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5udW1iZXJcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERyb3B6b25lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe2lmKHJbZV0pcmV0dXJuIHJbZV0uZXhwb3J0czt2YXIgbz1yW2VdPXtleHBvcnRzOnt9LGlkOmUsbG9hZGVkOiExfTtyZXR1cm4gdFtlXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIG4ubT10LG4uYz1yLG4ucD1cIlwiLG4oMCl9KFtmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5fX2VzTW9kdWxlPSEwLHIoOCkscig5KSxuW1wiZGVmYXVsdFwiXT1mdW5jdGlvbih0LG4pe2lmKHQmJm4pe3ZhciByPWZ1bmN0aW9uKCl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uOm4uc3BsaXQoXCIsXCIpLGU9dC5uYW1lfHxcIlwiLG89dC50eXBlfHxcIlwiLGk9by5yZXBsYWNlKC9cXC8uKiQvLFwiXCIpO3JldHVybnt2OnIuc29tZShmdW5jdGlvbih0KXt2YXIgbj10LnRyaW0oKTtyZXR1cm5cIi5cIj09PW4uY2hhckF0KDApP2UudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChuLnRvTG93ZXJDYXNlKCkpOi9cXC9cXCokLy50ZXN0KG4pP2k9PT1uLnJlcGxhY2UoL1xcLy4qJC8sXCJcIik6bz09PW59KX19KCk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHIpcmV0dXJuIHIudn1yZXR1cm4hMH0sdC5leHBvcnRzPW5bXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LG4pe3ZhciByPXQuZXhwb3J0cz17dmVyc2lvbjpcIjEuMi4yXCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9cil9LGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9cil9LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDIpLG89cigxKSxpPXIoNCksdT1yKDE5KSxjPVwicHJvdG90eXBlXCIsZj1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KG4sYXJndW1lbnRzKX19LHM9ZnVuY3Rpb24odCxuLHIpe3ZhciBhLHAsbCx5LGQ9dCZzLkcsaD10JnMuUCx2PWQ/ZTp0JnMuUz9lW25dfHwoZVtuXT17fSk6KGVbbl18fHt9KVtjXSx4PWQ/bzpvW25dfHwob1tuXT17fSk7ZCYmKHI9bik7Zm9yKGEgaW4gcilwPSEodCZzLkYpJiZ2JiZhIGluIHYsbD0ocD92OnIpW2FdLHk9dCZzLkImJnA/ZihsLGUpOmgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGw/ZihGdW5jdGlvbi5jYWxsLGwpOmwsdiYmIXAmJnUodixhLGwpLHhbYV0hPWwmJmkoeCxhLHkpLGgmJigoeFtjXXx8KHhbY109e30pKVthXT1sKX07ZS5jb3JlPW8scy5GPTEscy5HPTIscy5TPTQscy5QPTgscy5CPTE2LHMuVz0zMix0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoNSksbz1yKDE4KTt0LmV4cG9ydHM9cigyMik/ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLnNldERlc2ModCxuLG8oMSxyKSl9OmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdFtuXT1yLHR9fSxmdW5jdGlvbih0LG4pe3ZhciByPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpyLmNyZWF0ZSxnZXRQcm90bzpyLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOnIuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6ci5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpyLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpyLmtleXMsZ2V0TmFtZXM6ci5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6ci5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0sZnVuY3Rpb24odCxuKXt2YXIgcj0wLGU9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytyK2UpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LG4scil7dmFyIGU9cigyMCkoXCJ3a3NcIiksbz1yKDIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGVbdF18fChlW3RdPW8mJm9bdF18fChvfHxyKDYpKShcIlN5bWJvbC5cIit0KSl9fSxmdW5jdGlvbih0LG4scil7cigyNiksdC5leHBvcnRzPXIoMSkuQXJyYXkuc29tZX0sZnVuY3Rpb24odCxuLHIpe3IoMjUpLHQuZXhwb3J0cz1yKDEpLlN0cmluZy5lbmRzV2l0aH0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LG4pe3ZhciByPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gci5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMTApO3QuZXhwb3J0cz1mdW5jdGlvbih0LG4scil7aWYoZSh0KSx2b2lkIDA9PT1uKXJldHVybiB0O3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiB0LmNhbGwobixyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiB0LmNhbGwobixyLGUpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsZSxvKXtyZXR1cm4gdC5jYWxsKG4scixlLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShuLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsbixyKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIG49Ly4vO3RyeXtcIi8uL1wiW3RdKG4pfWNhdGNoKGUpe3RyeXtyZXR1cm4gbltyKDcpKFwibWF0Y2hcIildPSExLCFcIi8uL1wiW3RdKG4pfWNhdGNoKG8pe319cmV0dXJuITB9fSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2gobil7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsbixyKXt2YXIgZT1yKDE2KSxvPXIoMTEpLGk9cig3KShcIm1hdGNoXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gZSh0KSYmKHZvaWQgMCE9PShuPXRbaV0pPyEhbjpcIlJlZ0V4cFwiPT1vKHQpKX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKHQsbil7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOm59fX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMiksbz1yKDQpLGk9cig2KShcInNyY1wiKSx1PVwidG9TdHJpbmdcIixjPUZ1bmN0aW9uW3VdLGY9KFwiXCIrYykuc3BsaXQodSk7cigxKS5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBjLmNhbGwodCl9LCh0LmV4cG9ydHM9ZnVuY3Rpb24odCxuLHIsdSl7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG8ocixpLHRbbl0/XCJcIit0W25dOmYuam9pbihTdHJpbmcobikpKSxcIm5hbWVcImluIHJ8fChyLm5hbWU9bikpLHQ9PT1lP3Rbbl09cjoodXx8ZGVsZXRlIHRbbl0sbyh0LG4scikpfSkoRnVuY3Rpb24ucHJvdG90eXBlLHUsZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzJiZ0aGlzW2ldfHxjLmNhbGwodGhpcyl9KX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMiksbz1cIl9fY29yZS1qc19zaGFyZWRfX1wiLGk9ZVtvXXx8KGVbb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaVt0XXx8KGlbdF09e30pfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMTcpLG89cigxMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsbixyKXtpZihlKG4pKXRocm93IFR5cGVFcnJvcihcIlN0cmluZyNcIityK1wiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4IVwiKTtyZXR1cm4gU3RyaW5nKG8odCkpfX0sZnVuY3Rpb24odCxuLHIpe3QuZXhwb3J0cz0hcigxNSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsbil7dmFyIHI9TWF0aC5jZWlsLGU9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9lOnIpKHQpfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoMjMpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/byhlKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9cigzKSxvPXIoMjQpLGk9cigyMSksdT1cImVuZHNXaXRoXCIsYz1cIlwiW3VdO2UoZS5QK2UuRipyKDE0KSh1KSxcIlN0cmluZ1wiLHtlbmRzV2l0aDpmdW5jdGlvbih0KXt2YXIgbj1pKHRoaXMsdCx1KSxyPWFyZ3VtZW50cyxlPXIubGVuZ3RoPjE/clsxXTp2b2lkIDAsZj1vKG4ubGVuZ3RoKSxzPXZvaWQgMD09PWU/ZjpNYXRoLm1pbihvKGUpLGYpLGE9U3RyaW5nKHQpO3JldHVybiBjP2MuY2FsbChuLGEscyk6bi5zbGljZShzLWEubGVuZ3RoLHMpPT09YX19KX0sZnVuY3Rpb24odCxuLHIpe3ZhciBlPXIoNSksbz1yKDMpLGk9cigxKS5BcnJheXx8QXJyYXksdT17fSxjPWZ1bmN0aW9uKHQsbil7ZS5lYWNoLmNhbGwodC5zcGxpdChcIixcIiksZnVuY3Rpb24odCl7dm9pZCAwPT1uJiZ0IGluIGk/dVt0XT1pW3RdOnQgaW5bXSYmKHVbdF09cigxMikoRnVuY3Rpb24uY2FsbCxbXVt0XSxuKSl9KX07YyhcInBvcCxyZXZlcnNlLHNoaWZ0LGtleXMsdmFsdWVzLGVudHJpZXNcIiwxKSxjKFwiaW5kZXhPZixldmVyeSxzb21lLGZvckVhY2gsbWFwLGZpbHRlcixmaW5kLGZpbmRJbmRleCxpbmNsdWRlc1wiLDMpLGMoXCJqb2luLHNsaWNlLGNvbmNhdCxwdXNoLHNwbGljZSx1bnNoaWZ0LHNvcnQsbGFzdEluZGV4T2YscmVkdWNlLHJlZHVjZVJpZ2h0LGNvcHlXaXRoaW4sZmlsbFwiKSxvKG8uUyxcIkFycmF5XCIsdSl9XSk7XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBnZXREYXRhVHJhbnNmZXJGaWxlcztcblx0ZnVuY3Rpb24gZ2V0RGF0YVRyYW5zZmVyRmlsZXMoZXZlbnQpIHtcblx0ICB2YXIgaXNNdWx0aXBsZUFsbG93ZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cdFxuXHQgIHZhciBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBbXTtcblx0ICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG5cdCAgICB2YXIgZHQgPSBldmVudC5kYXRhVHJhbnNmZXI7XG5cdCAgICBpZiAoZHQuZmlsZXMgJiYgZHQuZmlsZXMubGVuZ3RoKSB7XG5cdCAgICAgIGRhdGFUcmFuc2Zlckl0ZW1zTGlzdCA9IGR0LmZpbGVzO1xuXHQgICAgfSBlbHNlIGlmIChkdC5pdGVtcyAmJiBkdC5pdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgLy8gRHVyaW5nIHRoZSBkcmFnIGV2ZW4gdGhlIGRhdGFUcmFuc2Zlci5maWxlcyBpcyBudWxsXG5cdCAgICAgIC8vIGJ1dCBDaHJvbWUgaW1wbGVtZW50cyBzb21lIGRyYWcgc3RvcmUsIHdoaWNoIGlzIGFjY2VzaWJsZSB2aWEgZGF0YVRyYW5zZmVyLml0ZW1zXG5cdCAgICAgIGRhdGFUcmFuc2Zlckl0ZW1zTGlzdCA9IGR0Lml0ZW1zO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5maWxlcykge1xuXHQgICAgZGF0YVRyYW5zZmVySXRlbXNMaXN0ID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuXHQgIH1cblx0XG5cdCAgaWYgKGRhdGFUcmFuc2Zlckl0ZW1zTGlzdC5sZW5ndGggPiAwKSB7XG5cdCAgICBkYXRhVHJhbnNmZXJJdGVtc0xpc3QgPSBpc011bHRpcGxlQWxsb3dlZCA/IGRhdGFUcmFuc2Zlckl0ZW1zTGlzdCA6IFtkYXRhVHJhbnNmZXJJdGVtc0xpc3RbMF1dO1xuXHQgIH1cblx0XG5cdCAgLy8gQ29udmVydCBmcm9tIERhdGFUcmFuc2Zlckl0ZW1zTGlzdCB0byB0aGUgbmF0aXZlIEFycmF5XG5cdCAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGFUcmFuc2Zlckl0ZW1zTGlzdCk7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl19"}